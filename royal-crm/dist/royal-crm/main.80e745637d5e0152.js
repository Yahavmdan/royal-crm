(self.webpackChunkroyal_crm=self.webpackChunkroyal_crm||[]).push([[179],{222:(qd,Gd,zs)=>{"use strict";function ke(n){return"function"==typeof n}function Yo(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const os=Yo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Jo(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ct{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(ke(r))try{r()}catch(s){e=s instanceof os?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{fl(s)}catch(o){e=null!=e?e:[],o instanceof os?e=[...e,...o.errors]:e.push(o)}}if(e)throw new os(e)}}add(e){var t;if(e&&e!==this)if(this.closed)fl(e);else{if(e instanceof ct){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Jo(t,e)}remove(e){const{_teardowns:t}=this;t&&Jo(t,e),e instanceof ct&&e._removeParent(this)}}ct.EMPTY=(()=>{const n=new ct;return n.closed=!0,n})();const Xo=ct.EMPTY;function Ws(n){return n instanceof ct||n&&"closed"in n&&ke(n.remove)&&ke(n.add)&&ke(n.unsubscribe)}function fl(n){ke(n)?n():n.unsubscribe()}const _n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Yr={setTimeout(...n){const{delegate:e}=Yr;return((null==e?void 0:e.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=Yr;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Qn(n){Yr.setTimeout(()=>{const{onUnhandledError:e}=_n;if(!e)throw n;e(n)})}function Jr(){}const Zo=pl("C",void 0,void 0);function pl(n,e,t){return{kind:n,value:e,error:t}}let U=null;function ue(n){if(_n.useDeprecatedSynchronousErrorHandling){const e=!U;if(e&&(U={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=U;if(U=null,t)throw r}}else n()}class De extends ct{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ws(e)&&e.add(this)):this.destination=Bj}static create(e,t,r){return new he(e,t,r)}next(e){this.isStopped?lm(function um(n){return pl("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?lm(function ea(n){return pl("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lm(Zo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class he extends De{constructor(e,t,r){let i;if(super(),ke(e))i=e;else if(e){let s;({next:i,error:t,complete:r}=e),this&&_n.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),t=null==t?void 0:t.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?vn(i):Jr,error:vn(null!=t?t:as),complete:r?vn(r):Jr}}}function vn(n,e){return(...t)=>{try{n(...t)}catch(r){_n.useDeprecatedSynchronousErrorHandling?function Te(n){_n.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=n)}(r):Qn(r)}}}function as(n){throw n}function lm(n,e){const{onStoppedNotification:t}=_n;t&&Yr.setTimeout(()=>t(n,e))}const Bj={closed:!0,next:Jr,error:as,complete:Jr},cm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ks(n){return n}let Re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function $j(n){return n&&n instanceof De||function jj(n){return n&&ke(n.next)&&ke(n.error)&&ke(n.complete)}(n)&&Ws(n)}(t)?t:new he(t,r,i);return ue(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=z0(r))((i,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[cm](){return this}pipe(...t){return function G0(n){return 0===n.length?Ks:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=z0(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function z0(n){var e;return null!==(e=null!=n?n:_n.Promise)&&void 0!==e?e:Promise}const Hj=Yo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Xr=(()=>{class n extends Re{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new W0(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Hj}next(t){ue(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(t)}})}error(t){ue(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ue(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Xo:(s.push(t),new ct(()=>Jo(s,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Re;return t.source=this,t}}return n.create=(e,t)=>new W0(e,t),n})();class W0 extends Xr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Xo}}function K0(n){return ke(null==n?void 0:n.lift)}function Gt(n){return e=>{if(K0(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Nt extends De{constructor(e,t,r,i,s){super(e),this.onFinalize=s,this._next=t?function(o){try{t(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function me(n,e){return Gt((t,r)=>{let i=0;t.subscribe(new Nt(r,s=>{r.next(n.call(e,s,i++))}))})}function Qs(n){return this instanceof Qs?(this.v=n,this):new Qs(n)}function zj(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Qs?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Wj(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function J0(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const X0=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Z0(n){return ke(null==n?void 0:n.then)}function eS(n){return ke(n[cm])}function tS(n){return Symbol.asyncIterator&&ke(null==n?void 0:n[Symbol.asyncIterator])}function nS(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const rS=function Qj(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function iS(n){return ke(null==n?void 0:n[rS])}function sS(n){return zj(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Qs(t.read());if(i)return yield Qs(void 0);yield yield Qs(r)}}finally{t.releaseLock()}})}function oS(n){return ke(null==n?void 0:n.getReader)}function Zr(n){if(n instanceof Re)return n;if(null!=n){if(eS(n))return function Yj(n){return new Re(e=>{const t=n[cm]();if(ke(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(X0(n))return function Jj(n){return new Re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Z0(n))return function Xj(n){return new Re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Qn)})}(n);if(tS(n))return aS(n);if(iS(n))return function Zj(n){return new Re(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(oS(n))return function e$(n){return aS(sS(n))}(n)}throw nS(n)}function aS(n){return new Re(e=>{(function t$(n,e){var t,r,i,s;return function qj(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Wj(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ti(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function kt(n,e,t=1/0){return ke(e)?kt((r,i)=>me((s,o)=>e(r,s,i,o))(Zr(n(r,i))),t):("number"==typeof e&&(t=e),Gt((r,i)=>function n$(n,e,t,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let v=!1;Zr(t(g,c++)).subscribe(new Nt(e,E=>{null==i||i(E),s?f(E):e.next(E)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;u.length&&l<r;){const E=u.shift();o?Ti(e,o,()=>p(E)):p(E)}h()}catch(E){e.error(E)}}))};return n.subscribe(new Nt(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,n,t)))}function gl(n=1/0){return kt(Ks,n)}const Ii=new Re(n=>n.complete());function hm(n){return n[n.length-1]}function uS(n){return ke(hm(n))?n.pop():void 0}function ml(n){return function i$(n){return n&&ke(n.schedule)}(hm(n))?n.pop():void 0}function zd(n,e=0){return Gt((t,r)=>{t.subscribe(new Nt(r,i=>Ti(r,n,()=>r.next(i),e),()=>Ti(r,n,()=>r.complete(),e),i=>Ti(r,n,()=>r.error(i),e)))})}function Wd(n,e=0){return Gt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function lS(n,e){if(!n)throw new Error("Iterable cannot be null");return new Re(t=>{Ti(t,e,()=>{const r=n[Symbol.asyncIterator]();Ti(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Rt(n,e){return e?function d$(n,e){if(null!=n){if(eS(n))return function o$(n,e){return Zr(n).pipe(Wd(e),zd(e))}(n,e);if(X0(n))return function u$(n,e){return new Re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Z0(n))return function a$(n,e){return Zr(n).pipe(Wd(e),zd(e))}(n,e);if(tS(n))return lS(n,e);if(iS(n))return function l$(n,e){return new Re(t=>{let r;return Ti(t,e,()=>{r=n[rS](),Ti(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>ke(null==r?void 0:r.return)&&r.return()})}(n,e);if(oS(n))return function c$(n,e){return lS(sS(n),e)}(n,e)}throw nS(n)}(n,e):Zr(n)}function Kd(n){return n<=0?()=>Ii:Gt((e,t)=>{let r=0;e.subscribe(new Nt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function cS(n={}){const{connector:e=(()=>new Xr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,u=null,l=0,c=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,c=d=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return Gt((g,v)=>{l++,!d&&!c&&h();const E=u=null!=u?u:e();v.add(()=>{l--,0===l&&!d&&!c&&(a=fm(p,i))}),E.subscribe(v),o||(o=new he({next:w=>E.next(w),error:w=>{d=!0,h(),a=fm(f,t,w),E.error(w)},complete:()=>{c=!0,h(),a=fm(f,r),E.complete()}}),Rt(g).subscribe(o))})(s)}}function fm(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(Kd(1)).subscribe(()=>n())}function Fe(n){for(let e in n)if(n[e]===Fe)return e;throw Error("Could not find renamed property on target object.")}function pm(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ae(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ae).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function gm(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const f$=Fe({__forward_ref__:Fe});function Ue(n){return n.__forward_ref__=Ue,n.toString=function(){return Ae(this())},n}function se(n){return dS(n)?n():n}function dS(n){return"function"==typeof n&&n.hasOwnProperty(f$)&&n.__forward_ref__===Ue}class ye extends Error{constructor(e,t){super(function mm(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ee(n){return"string"==typeof n?n:null==n?"":String(n)}function wn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ee(n)}function Qd(n,e){const t=e?` in ${e}`:"";throw new ye(-201,`No provider for ${wn(n)} found${t}`)}function Jn(n,e){null==n&&function $e(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function K(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function zt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ym(n){return hS(n,Yd)||hS(n,pS)}function hS(n,e){return n.hasOwnProperty(e)?n[e]:null}function fS(n){return n&&(n.hasOwnProperty(_m)||n.hasOwnProperty(w$))?n[_m]:null}const Yd=Fe({\u0275prov:Fe}),_m=Fe({\u0275inj:Fe}),pS=Fe({ngInjectableDef:Fe}),w$=Fe({ngInjectorDef:Fe});var re=(()=>((re=re||{})[re.Default=0]="Default",re[re.Host=1]="Host",re[re.Self=2]="Self",re[re.SkipSelf=4]="SkipSelf",re[re.Optional=8]="Optional",re))();let vm;function us(n){const e=vm;return vm=n,e}function gS(n,e,t){const r=ym(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&re.Optional?null:void 0!==e?e:void Qd(Ae(n),"Injector")}function ls(n){return{toString:n}.toString()}var Mr=(()=>((Mr=Mr||{})[Mr.OnPush=0]="OnPush",Mr[Mr.Default=1]="Default",Mr))(),xr=(()=>{return(n=xr||(xr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",xr;var n})();const b$="undefined"!=typeof globalThis&&globalThis,C$="undefined"!=typeof window&&window,T$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pe=b$||"undefined"!=typeof global&&global||C$||T$,ta={},Le=[],Jd=Fe({\u0275cmp:Fe}),wm=Fe({\u0275dir:Fe}),Em=Fe({\u0275pipe:Fe}),mS=Fe({\u0275mod:Fe}),Si=Fe({\u0275fac:Fe}),yl=Fe({__NG_ELEMENT_ID__:Fe});let I$=0;function sn(n){return ls(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Mr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Le,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||xr.Emulated,id:"c",styles:n.styles||Le,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=I$++,r.inputs=wS(n.inputs,t),r.outputs=wS(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(yS):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(_S):null,r})}function yS(n){return un(n)||function cs(n){return n[wm]||null}(n)}function _S(n){return function Ys(n){return n[Em]||null}(n)}const vS={};function on(n){return ls(()=>{const e={type:n.type,bootstrap:n.bootstrap||Le,declarations:n.declarations||Le,imports:n.imports||Le,exports:n.exports||Le,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(vS[n.id]=n.type),e})}function wS(n,e){if(null==n)return ta;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const G=sn;function an(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function un(n){return n[Jd]||null}function pr(n,e){const t=n[mS]||null;if(!t&&!0===e)throw new Error(`Type ${Ae(n)} does not have '\u0275mod' property.`);return t}function ei(n){return Array.isArray(n)&&"object"==typeof n[1]}function kr(n){return Array.isArray(n)&&!0===n[1]}function Tm(n){return 0!=(8&n.flags)}function th(n){return 2==(2&n.flags)}function nh(n){return 1==(1&n.flags)}function Rr(n){return null!==n.template}function N$(n){return 0!=(512&n[2])}function eo(n,e){return n.hasOwnProperty(Si)?n[Si]:null}class P${constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Zn(){return bS}function bS(n){return n.type.prototype.ngOnChanges&&(n.setInput=F$),O$}function O$(){const n=TS(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===ta)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function F$(n,e,t,r){const i=TS(n)||function L$(n,e){return n[CS]=e}(n,{previous:ta,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new P$(u&&u.currentValue,e,o===ta),n[r]=e}Zn.ngInherit=!0;const CS="__ngSimpleChanges__";function TS(n){return n[CS]||null}let Sm;function Xe(n){return!!n.listen}const SS={createRenderer:(n,e)=>function Am(){return void 0!==Sm?Sm:"undefined"!=typeof document?document:void 0}()};function dt(n){for(;Array.isArray(n);)n=n[0];return n}function rh(n,e){return dt(e[n])}function yr(n,e){return dt(e[n.index])}function Mm(n,e){return n.data[e]}function oa(n,e){return n[e]}function er(n,e){const t=e[n];return ei(t)?t:t[0]}function AS(n){return 4==(4&n[2])}function xm(n){return 128==(128&n[2])}function ds(n,e){return null==e?null:n[e]}function MS(n){n[18]=0}function Nm(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const J={lFrame:LS(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function xS(){return J.bindingsEnabled}function I(){return J.lFrame.lView}function _e(){return J.lFrame.tView}function aa(n){return J.lFrame.contextLView=n,n[8]}function bt(){let n=NS();for(;null!==n&&64===n.type;)n=n.parent;return n}function NS(){return J.lFrame.currentTNode}function ti(n,e){const t=J.lFrame;t.currentTNode=n,t.isParent=e}function km(){return J.lFrame.isParent}function ih(){return J.isInCheckNoChangesMode}function sh(n){J.isInCheckNoChangesMode=n}function En(){const n=J.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ua(){return J.lFrame.bindingIndex++}function Mi(n){const e=J.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function J$(n,e){const t=J.lFrame;t.bindingIndex=t.bindingRootIndex=n,Pm(e)}function Pm(n){J.lFrame.currentDirectiveIndex=n}function PS(){return J.lFrame.currentQueryIndex}function Fm(n){J.lFrame.currentQueryIndex=n}function Z$(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function OS(n,e,t){if(t&re.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&re.Host||(i=Z$(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=J.lFrame=FS();return r.currentTNode=e,r.lView=n,!0}function oh(n){const e=FS(),t=n[1];J.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function FS(){const n=J.lFrame,e=null===n?null:n.child;return null===e?LS(n):e}function LS(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function VS(){const n=J.lFrame;return J.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const US=VS;function ah(){const n=VS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function bn(){return J.lFrame.selectedIndex}function hs(n){J.lFrame.selectedIndex=n}function Ze(){const n=J.lFrame;return Mm(n.tView,n.selectedIndex)}function uh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function lh(n,e,t){BS(n,e,3,t)}function ch(n,e,t,r){(3&n[2])===t&&BS(n,e,t,r)}function Lm(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function BS(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(uH(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function uH(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class bl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function dh(n,e,t){const r=Xe(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],u=t[i++];r?n.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=t[++i];Um(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function jS(n){return 3===n||4===n||6===n}function Um(n){return 64===n.charCodeAt(0)}function hh(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||$S(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function $S(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function HS(n){return-1!==n}function la(n){return 32767&n}function ca(n,e){let t=function fH(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Bm=!0;function fh(n){const e=Bm;return Bm=n,e}let pH=0;function Tl(n,e){const t=$m(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,jm(r.data,n),jm(e,null),jm(r.blueprint,null));const i=ph(n,e),s=n.injectorIndex;if(HS(i)){const o=la(i),a=ca(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function jm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function $m(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ph(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function gh(n,e,t){!function gH(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(yl)&&(r=t[yl]),null==r&&(r=t[yl]=pH++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function zS(n,e,t){if(t&re.Optional)return n;Qd(e,"NodeInjector")}function WS(n,e,t,r){if(t&re.Optional&&void 0===r&&(r=null),0==(t&(re.Self|re.Host))){const i=n[9],s=us(void 0);try{return i?i.get(e,r,t&re.Optional):gS(e,r,t&re.Optional)}finally{us(s)}}return zS(r,e,t)}function KS(n,e,t,r=re.Default,i){if(null!==n){const s=function vH(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(yl)?n[yl]:void 0;return"number"==typeof e?e>=0?255&e:yH:e}(t);if("function"==typeof s){if(!OS(e,n,r))return r&re.Host?zS(i,t,r):WS(e,t,r,i);try{const o=s(r);if(null!=o||r&re.Optional)return o;Qd(t)}finally{US()}}else if("number"==typeof s){let o=null,a=$m(n,e),u=-1,l=r&re.Host?e[16][6]:null;for((-1===a||r&re.SkipSelf)&&(u=-1===a?ph(n,e):e[a+8],-1!==u&&JS(r,!1)?(o=e[1],a=la(u),e=ca(u,e)):a=-1);-1!==a;){const c=e[1];if(YS(s,a,c.data)){const d=_H(a,e,t,o,r,l);if(d!==QS)return d}u=e[a+8],-1!==u&&JS(r,e[1].data[a+8]===l)&&YS(s,a,e)?(o=c,a=la(u),e=ca(u,e)):a=-1}}}return WS(e,t,r,i)}const QS={};function yH(){return new da(bt(),I())}function _H(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],c=mh(a,o,t,null==r?th(a)&&Bm:r!=o&&0!=(3&a.type),i&re.Host&&s===a);return null!==c?Il(e,o,c,a):QS}function mh(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&Rr(f)&&f.type===t)return u}return null}function Il(n,e,t,r){let i=n[t];const s=e.data;if(function lH(n){return n instanceof bl}(i)){const o=i;o.resolving&&function p$(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ye(-200,`Circular dependency in DI detected for ${n}${t}`)}(wn(s[t]));const a=fh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?us(o.injectImpl):null;OS(n,r,re.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function aH(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=bS(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&us(u),fh(a),o.resolving=!1,US()}}return i}function YS(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function JS(n,e){return!(n&re.Self||n&re.Host&&e)}class da{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return KS(this._tNode,this._lView,e,r,t)}}function Vn(n){return ls(()=>{const e=n.prototype.constructor,t=e[Si]||Hm(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Si]||Hm(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Hm(n){return dS(n)?()=>{const e=Hm(se(n));return e&&e()}:eo(n)}function Dl(n){return function mH(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(jS(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(bt(),n)}const fa="__parameters__";function ga(n,e,t){return ls(()=>{const r=function qm(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(fa)?u[fa]:Object.defineProperty(u,fa,{value:[]})[fa];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class X{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=K({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const EH=new X("AnalyzeForEntryComponents");function _r(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),_r(r,e)):e!==n&&e.push(r)}return e}function ni(n,e){n.forEach(t=>Array.isArray(t)?ni(t,e):e(t))}function ZS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function yh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function tr(n,e,t){let r=ma(n,e);return r>=0?n[1|r]=t:(r=~r,function TH(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function zm(n,e){const t=ma(n,e);if(t>=0)return n[1|t]}function ma(n,e){return function nA(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const xl={},Km="__NG_DI_FLAG__",vh="ngTempTokenPath",NH=/\n/gm,iA="__source",RH=Fe({provide:String,useValue:Fe});let Nl;function sA(n){const e=Nl;return Nl=n,e}function PH(n,e=re.Default){if(void 0===Nl)throw new ye(203,"");return null===Nl?gS(n,void 0,e):Nl.get(n,e&re.Optional?null:void 0,e)}function F(n,e=re.Default){return(function E$(){return vm}()||PH)(se(n),e)}function Qm(n){const e=[];for(let t=0;t<n.length;t++){const r=se(n[t]);if(Array.isArray(r)){if(0===r.length)throw new ye(900,"");let i,s=re.Default;for(let o=0;o<r.length;o++){const a=r[o],u=OH(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function kl(n,e){return n[Km]=e,n.prototype[Km]=e,n}function OH(n){return n[Km]}const Rl=kl(ga("Inject",n=>({token:n})),-1),at=kl(ga("Optional"),8),ya=kl(ga("SkipSelf"),4);class pA{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ps(n){return n instanceof pA?n.changingThisBreaksApplicationSecurity:n}const rq=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,iq=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ht=(()=>((ht=ht||{})[ht.NONE=0]="NONE",ht[ht.HTML=1]="HTML",ht[ht.STYLE=2]="STYLE",ht[ht.SCRIPT=3]="SCRIPT",ht[ht.URL=4]="URL",ht[ht.RESOURCE_URL=5]="RESOURCE_URL",ht))();function xi(n){const e=function Ll(){const n=I();return n&&n[12]}();return e?e.sanitize(ht.URL,n)||"":function Ol(n,e){const t=function ZH(n){return n instanceof pA&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?ps(n):function Ch(n){return(n=String(n)).match(rq)||n.match(iq)?n:"unsafe:"+n}(ee(n))}const TA="__ngContext__";function cn(n,e){n[TA]=e}function iy(n){const e=function Vl(n){return n[TA]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function oy(n){return n.ngOriginalError}function Sq(n,...e){n.error(...e)}class wa{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function Dq(n){return n&&n.ngErrorLogger||Sq}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&oy(e);for(;t&&oy(t);)t=oy(t);return t||null}}const MA=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pe))();function ii(n){return n instanceof Function?n():n}var nr=(()=>((nr=nr||{})[nr.Important=1]="Important",nr[nr.DashCase=2]="DashCase",nr))();function uy(n,e){return undefined(n,e)}function Ul(n){const e=n[3];return kr(e)?e[3]:e}function ly(n){return PA(n[13])}function cy(n){return PA(n[4])}function PA(n){for(;null!==n&&!kr(n);)n=n[4];return n}function ba(n,e,t,r,i){if(null!=r){let s,o=!1;kr(r)?s=r:ei(r)&&(o=!0,r=r[0]);const a=dt(r);0===n&&null!==t?null==i?BA(e,t,a):to(e,t,a,i||null,!0):1===n&&null!==t?to(e,t,a,i||null,!0):2===n?function WA(n,e,t){const r=Ih(n,e);r&&function Yq(n,e,t,r){Xe(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Zq(n,e,t,r,i){const s=t[7];s!==dt(t)&&ba(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];Bl(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function hy(n,e,t){return Xe(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function FA(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Nm(i,-1)),t.splice(r,1)}function fy(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&FA(i,r),e>0&&(n[t-1][4]=r[4]);const s=yh(n,10+e);!function $q(n,e){Bl(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function LA(n,e){if(!(256&e[2])){const t=e[11];Xe(t)&&t.destroyNode&&Bl(n,e,t,3,null,null),function Gq(n){let e=n[13];if(!e)return py(n[1],n);for(;e;){let t=null;if(ei(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)ei(e)&&py(e[1],e),e=e[3];null===e&&(e=n),ei(e)&&py(e[1],e),t=e&&e[4]}e=t}}(e)}}function py(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function Qq(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof bl)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function Kq(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):dt(e[o]),u=r[i=t[s+2]],l=t[s+3];"boolean"==typeof l?a.removeEventListener(t[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&Xe(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&kr(e[3])){t!==e[3]&&FA(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function VA(n,e,t){return function UA(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===xr.None||i===xr.Emulated)return null}return yr(r,t)}(n,e.parent,t)}function to(n,e,t,r,i){Xe(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function BA(n,e,t){Xe(n)?n.appendChild(e,t):e.appendChild(t)}function jA(n,e,t,r,i){null!==r?to(n,e,t,r,i):BA(n,e,t)}function Ih(n,e){return Xe(n)?n.parentNode(e):e.parentNode}let qA=function HA(n,e,t){return 40&n.type?yr(n,t):null};function Dh(n,e,t,r){const i=VA(n,r,e),s=e[11],a=function $A(n,e,t){return qA(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)jA(s,i,t[u],a,!1);else jA(s,i,t,a,!1)}function Sh(n,e){if(null!==e){const t=e.type;if(3&t)return yr(e,n);if(4&t)return my(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Sh(n,r);{const i=n[e.index];return kr(i)?my(-1,i):dt(i)}}if(32&t)return uy(e,n)()||dt(n[e.index]);{const r=zA(n,e);return null!==r?Array.isArray(r)?r[0]:Sh(Ul(n[16]),r):Sh(n,e.next)}}return null}function zA(n,e){return null!==e?n[16][6].projection[e.projection]:null}function my(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Sh(r,i)}return e[7]}function yy(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&cn(dt(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)yy(n,e,t.child,r,i,s,!1),ba(e,n,i,a,s);else if(32&u){const l=uy(t,r);let c;for(;c=l();)ba(e,n,i,c,s);ba(e,n,i,a,s)}else 16&u?KA(n,e,r,t,i,s):ba(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Bl(n,e,t,r,i,s){yy(t,r,n.firstChild,e,i,s,!1)}function KA(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)ba(e,n,i,u[l],s);else yy(n,e,u,o[3],i,s,!0)}function QA(n,e,t){Xe(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function _y(n,e,t){Xe(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function YA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const JA="ng-template";function t3(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==YA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function XA(n){return 4===n.type&&n.value!==JA}function n3(n,e,t){return e===(4!==n.type||t?n.value:JA)}function r3(n,e,t){let r=4;const i=n.attrs||[],s=function o3(n){for(let e=0;e<n.length;e++)if(jS(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!n3(n,u,t)||""===u&&1===e.length){if(Pr(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!t3(n.attrs,l,t)){if(Pr(r))return!1;o=!0}continue}const d=i3(8&r?"class":u,i,XA(n),t);if(-1===d){if(Pr(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==YA(f,l,0)||2&r&&l!==h){if(Pr(r))return!1;o=!0}}}}else{if(!o&&!Pr(r)&&!Pr(u))return!1;if(o&&Pr(u))continue;o=!1,r=u|1&r}}return Pr(r)||o}function Pr(n){return 0==(1&n)}function i3(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function a3(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function ZA(n,e,t=!1){for(let r=0;r<e.length;r++)if(r3(n,e[r],t))return!0;return!1}function eM(n,e){return n?":not("+e.trim()+")":e}function l3(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Pr(o)&&(e+=eM(s,i),i=""),r=o,s=s||!Pr(r);t++}return""!==i&&(e+=eM(s,i)),e}const te={};function x(n){tM(_e(),I(),bn()+n,ih())}function tM(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&lh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&ch(e,s,0,t)}hs(t)}function Ah(n,e){return n<<17|e<<2}function Or(n){return n>>17&32767}function vy(n){return 2|n}function Ni(n){return(131068&n)>>2}function wy(n,e){return-131069&n|e<<2}function Ey(n){return 1|n}function hM(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Fm(i),o.contentQueries(2,e[s],s)}}}function jl(n,e,t,r,i,s,o,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,MS(c),c[3]=c[15]=n,c[8]=t,c[10]=o||n&&n[10],c[11]=a||n&&n[11],c[12]=u||n&&n[12]||null,c[9]=l||n&&n[9]||null,c[6]=s,c[16]=2==e.type?n[16]:c,c}function Ca(n,e,t,r,i){let s=n.data[e];if(null===s)s=function xy(n,e,t,r,i){const s=NS(),o=km(),u=n.data[e]=function S3(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function Y$(){return J.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function El(){const n=J.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ti(s,!0),s}function Ta(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function $l(n,e,t){oh(e);try{const r=n.viewQuery;null!==r&&Uy(1,r,t);const i=n.template;null!==i&&fM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&hM(n,e),n.staticViewQueries&&Uy(2,n.viewQuery,t);const s=n.components;null!==s&&function T3(n,e){for(let t=0;t<e.length;t++)G3(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,ah()}}function Ia(n,e,t,r){const i=e[2];if(256==(256&i))return;oh(e);const s=ih();try{MS(e),function kS(n){return J.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&fM(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const l=n.preOrderCheckHooks;null!==l&&lh(e,l,null)}else{const l=n.preOrderHooks;null!==l&&ch(e,l,0,null),Lm(e,0)}if(function H3(n){for(let e=ly(n);null!==e;e=cy(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&Nm(s,1),i[2]|=1024}}}(e),function $3(n){for(let e=ly(n);null!==e;e=cy(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];xm(r)&&Ia(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&hM(n,e),!s)if(o){const l=n.contentCheckHooks;null!==l&&lh(e,l)}else{const l=n.contentHooks;null!==l&&ch(e,l,1),Lm(e,1)}!function b3(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)hs(~i);else{const s=i,o=t[++r],a=t[++r];J$(o,s),a(2,e[s])}}}finally{hs(-1)}}(n,e);const a=n.components;null!==a&&function C3(n,e){for(let t=0;t<e.length;t++)q3(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&Uy(2,u,r),!s)if(o){const l=n.viewCheckHooks;null!==l&&lh(e,l)}else{const l=n.viewHooks;null!==l&&ch(e,l,2),Lm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Nm(e[3],-1))}finally{ah()}}function I3(n,e,t,r){const i=e[10],s=!ih(),o=AS(e);try{s&&!o&&i.begin&&i.begin(),o&&$l(n,e,r),Ia(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function fM(n,e,t,r,i){const s=bn(),o=2&r;try{hs(-1),o&&e.length>20&&tM(n,e,20,ih()),t(r,i)}finally{hs(s)}}function Ny(n,e,t){!xS()||(function P3(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Tl(t,e),cn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=Rr(u);l&&U3(e,t,u);const c=Il(e,n,a,t);cn(c,e),null!==o&&B3(0,a-i,c,u,0,o),l&&(er(t.index,e)[8]=c)}}(n,e,t,yr(t,e)),128==(128&t.flags)&&function O3(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function X$(){return J.lFrame.currentDirectiveIndex}();try{hs(o);for(let u=r;u<i;u++){const l=n.data[u],c=e[u];Pm(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&bM(l,c)}}finally{hs(-1),Pm(a)}}(n,e,t))}function ky(n,e,t=yr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function gM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Nh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Nh(n,e,t,r,i,s,o,a,u,l){const c=20+r,d=c+i,h=function D3(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:te);return t}(c,d),f="function"==typeof l?l():l;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function _M(n,e,t,r){const i=AM(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&MM(n).push(r,i.length-1))}function vM(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Ry(n,e,t,r){let i=!1;if(xS()){const s=function F3(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ZA(t,o.selectors,!1)&&(i||(i=[]),gh(Tl(t,e),n,o.type),Rr(o)?(CM(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,TM(t,n.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=Ta(n,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];t.mergedAttrs=hh(t.mergedAttrs,d.hostAttrs),IM(n,t,e,l,d),V3(l,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),l++}!function A3(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||XA(e)?null:j3(d,s);o.push(h),a=vM(d,l,a),u=vM(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(n,t)}o&&function L3(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new ye(-301,`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=hh(t.mergedAttrs,t.attrs),i}function EM(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function R3(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function bM(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function CM(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function V3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Rr(e)&&(t[""]=n)}}function TM(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function IM(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=eo(i.type)),o=new bl(s,Rr(i),null);n.blueprint[r]=o,t[r]=o,EM(n,e,0,r,Ta(n,t,i.hostVars,te),i)}function U3(n,e,t){const r=yr(e,n),i=gM(t),s=n[10],o=kh(n,jl(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function si(n,e,t,r,i,s){const o=yr(n,e);!function Py(n,e,t,r,i,s,o){if(null==s)Xe(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?ee(s):o(s,r||"",i);Xe(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function B3(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(t,d,l,c):t[c]=d}}}function j3(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function DM(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function q3(n,e){const t=er(e,n);if(xm(t)){const r=t[1];80&t[2]?Ia(r,t,r.template,t[8]):t[5]>0&&Oy(t)}}function Oy(n){for(let r=ly(n);null!==r;r=cy(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Ia(o,s,o.template,s[8])}else s[5]>0&&Oy(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=er(t[r],n);xm(i)&&i[5]>0&&Oy(i)}}function G3(n,e){const t=er(e,n),r=t[1];(function z3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),$l(r,t,t[8])}function kh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Fy(n){for(;n;){n[2]|=64;const e=Ul(n);if(N$(n)&&!e)return n;n=e}return null}function Vy(n,e,t){const r=e[10];r.begin&&r.begin();try{Ia(n,e,n.template,t)}catch(i){throw NM(e,i),i}finally{r.end&&r.end()}}function SM(n){!function Ly(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=iy(t),i=r[1];I3(i,r,i.template,t)}}(n[8])}function Uy(n,e,t){Fm(0),e(n,t)}const Y3=(()=>Promise.resolve(null))();function AM(n){return n[7]||(n[7]=[])}function MM(n){return n.cleanup||(n.cleanup=[])}function NM(n,e){const t=n[9],r=t?t.get(wa,null):null;r&&r.handleError(e)}function kM(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],l=n.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function ki(n,e,t){const r=rh(e,n);!function OA(n,e,t){Xe(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function Rh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=gm(i,a):2==s&&(r=gm(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const By=new X("INJECTOR",-1);class RM{get(e,t=xl){if(t===xl){const r=new Error(`NullInjectorError: No provider for ${Ae(e)}!`);throw r.name="NullInjectorError",r}return t}}const jy=new X("Set Injector scope."),Hl={},Z3={};let $y;function PM(){return void 0===$y&&($y=new RM),$y}function OM(n,e=null,t=null,r){const i=FM(n,e,t,r);return i._resolveInjectorDefTypes(),i}function FM(n,e=null,t=null,r){return new eG(n,t,e||PM(),r)}class eG{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&ni(t,a=>this.processProvider(a,e,t)),ni([e],a=>this.processInjectorType(a,[],s)),this.records.set(By,Da(void 0,this));const o=this.records.get(jy);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:Ae(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=xl,r=re.Default){this.assertNotDestroyed();const i=sA(this),s=us(void 0);try{if(!(r&re.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function uG(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(e)&&ym(e);a=u&&this.injectableDefInScope(u)?Da(Hy(e),Hl):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&re.Self?PM():this.parent).get(e,t=r&re.Optional&&t===xl?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[vh]=o[vh]||[]).unshift(Ae(e)),i)throw o;return function FH(n,e,t,r){const i=n[vh];throw e[iA]&&i.unshift(e[iA]),n.message=function LH(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Ae(e);if(Array.isArray(e))i=e.map(Ae).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ae(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(NH,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[vh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{us(s),sA(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Ae(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,"")}processInjectorType(e,t,r){if(!(e=se(e)))return!1;let i=fS(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=fS(s)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(o);try{ni(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:h,providers:f}=c[d];ni(f,p=>this.processProvider(p,h,f||Le))}}this.injectorDefTypes.add(o);const u=eo(o)||(()=>new o);this.records.set(o,Da(u,Hl));const l=i.providers;if(null!=l&&!a){const c=e;ni(l,d=>this.processProvider(d,c,l))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Sa(e=se(e))?e:se(e&&e.provide);const s=function nG(n,e,t){return VM(n)?Da(void 0,n.useValue):Da(LM(n),Hl)}(e);if(Sa(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Da(void 0,Hl,!0),o.factory=()=>Qm(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===Hl&&(t.value=Z3,t.value=t.factory()),"object"==typeof t.value&&t.value&&function aG(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=se(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Hy(n){const e=ym(n),t=null!==e?e.factory:eo(n);if(null!==t)return t;if(n instanceof X)throw new ye(204,"");if(n instanceof Function)return function tG(n){const e=n.length;if(e>0)throw function Ml(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new ye(204,"");const t=function _$(n){const e=n&&(n[Yd]||n[pS]);if(e){const t=function v$(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new ye(204,"")}function LM(n,e,t){let r;if(Sa(n)){const i=se(n);return eo(i)||Hy(i)}if(VM(n))r=()=>se(n.useValue);else if(function iG(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Qm(n.deps||[]));else if(function rG(n){return!(!n||!n.useExisting)}(n))r=()=>F(se(n.useExisting));else{const i=se(n&&(n.useClass||n.provide));if(!function oG(n){return!!n.deps}(n))return eo(i)||Hy(i);r=()=>new i(...Qm(n.deps))}return r}function Da(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function VM(n){return null!==n&&"object"==typeof n&&RH in n}function Sa(n){return"function"==typeof n}let ft=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return OM({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return OM({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=xl,n.NULL=new RM,n.\u0275prov=K({token:n,providedIn:"any",factory:()=>F(By)}),n.__NG_ELEMENT_ID__=-1,n})();function mG(n,e){uh(iy(n)[1],bt())}function Ve(n){let e=function YM(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Rr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ye(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=zy(n.inputs),o.declaredInputs=zy(n.declaredInputs),o.outputs=zy(n.outputs);const a=i.hostBindings;a&&wG(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&_G(n,u),l&&vG(n,l),pm(n.inputs,i.inputs),pm(n.declaredInputs,i.declaredInputs),pm(n.outputs,i.outputs),Rr(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ve&&(t=!1)}}e=Object.getPrototypeOf(e)}!function yG(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=hh(i.hostAttrs,t=hh(t,i.hostAttrs))}}(r)}function zy(n){return n===ta?{}:n===Le?[]:n}function _G(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function vG(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function wG(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Ph=null;function Aa(){if(!Ph){const n=Pe.Symbol;if(n&&n.iterator)Ph=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ph=r)}}}return Ph}function ql(n){return!!Wy(n)&&(Array.isArray(n)||!(n instanceof Map)&&Aa()in n)}function Wy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function oi(n,e,t){return n[e]=t}function dn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function no(n,e,t,r){const i=dn(n,e,t);return dn(n,e+1,r)||i}function ai(n,e,t,r){const i=I();return dn(i,ua(),e)&&(_e(),si(Ze(),i,n,e,t,r)),ai}function be(n,e,t,r,i,s,o,a){const u=I(),l=_e(),c=n+20,d=l.firstCreatePass?function SG(n,e,t,r,i,s,o,a,u){const l=e.consts,c=Ca(e,n,4,o||null,ds(l,a));Ry(e,t,c,ds(l,u)),uh(e,c);const d=c.tViews=Nh(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,t,r,i,s,o):l.data[c];ti(d,!1);const h=u[11].createComment("");Dh(l,u,h,d),cn(h,u),kh(u,u[c]=DM(h,u,h,d)),nh(d)&&Ny(l,u,d),null!=o&&ky(u,d,a)}function Me(n){return oa(function Q$(){return J.lFrame.contextLView}(),20+n)}function C(n,e=re.Default){const t=I();return null===t?F(n,e):KS(bt(),t,se(n),e)}function Xy(){throw new Error("invalid")}function B(n,e,t){const r=I();return dn(r,ua(),e)&&function rr(n,e,t,r,i,s,o,a){const u=yr(e,t);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(kM(n,t,c,r,i),th(e)&&function x3(n,e){const t=er(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function M3(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,Xe(s)?s.setProperty(u,r,i):Um(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(_e(),Ze(),r,n,e,r[11],t,!1),B}function Zy(n,e,t,r,i){const o=i?"class":"style";kM(n,t,e.inputs[o],o,r)}function y(n,e,t,r){const i=I(),s=_e(),o=20+n,a=i[11],u=i[o]=hy(a,e,function oH(){return J.lFrame.currentNamespace}()),l=s.firstCreatePass?function KG(n,e,t,r,i,s,o){const a=e.consts,l=Ca(e,n,2,i,ds(a,s));return Ry(e,t,l,ds(a,o)),null!==l.attrs&&Rh(l,l.attrs,!1),null!==l.mergedAttrs&&Rh(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,t,r):s.data[o];ti(l,!0);const c=l.mergedAttrs;null!==c&&dh(a,u,c);const d=l.classes;null!==d&&_y(a,u,d);const h=l.styles;null!==h&&QA(a,u,h),64!=(64&l.flags)&&Dh(s,i,u,l),0===function q$(){return J.lFrame.elementDepthCount}()&&cn(u,i),function G$(){J.lFrame.elementDepthCount++}(),nh(l)&&(Ny(s,i,l),function pM(n,e,t){if(Tm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,l,i)),null!==r&&ky(i,l)}function _(){let n=bt();km()?function Rm(){J.lFrame.isParent=!1}():(n=n.parent,ti(n,!1));const e=n;!function z$(){J.lFrame.elementDepthCount--}();const t=_e();t.firstCreatePass&&(uh(t,n),Tm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function dH(n){return 0!=(16&n.flags)}(e)&&Zy(t,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function hH(n){return 0!=(32&n.flags)}(e)&&Zy(t,e,I(),e.stylesWithoutHost,!1)}function Oe(n,e,t,r){y(n,e,t,r),_()}function zl(){return I()}function Wl(n){return!!n&&"function"==typeof n.then}function _1(n){return!!n&&"function"==typeof n.subscribe}const e_=_1;function ge(n,e,t,r){const i=I(),s=_e(),o=bt();return function w1(n,e,t,r,i,s,o,a){const u=nh(r),c=n.firstCreatePass&&MM(n),d=e[8],h=AM(e);let f=!0;if(3&r.type||a){const v=yr(r,e),E=a?a(v):v,w=h.length,A=a?k=>a(dt(k[r.index])):r.index;if(Xe(t)){let k=null;if(!a&&u&&(k=function JG(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,f=!1;else{s=t_(r,e,d,s,!1);const z=t.listen(E,i,s);h.push(s,z),c&&c.push(i,A,w,w+1)}}else s=t_(r,e,d,s,!0),E.addEventListener(i,s,o),h.push(s),c&&c.push(i,A,w,o)}else s=t_(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const v=g.length;if(v)for(let E=0;E<v;E+=2){const Se=e[g[E]][g[E+1]].subscribe(s),Ne=h.length;h.push(s,Se),c&&c.push(i,r.index,Ne,-(Ne+1))}}}(s,i,i[11],o,n,e,!!t,r),ge}function E1(n,e,t,r){try{return!1!==t(r)}catch(i){return NM(n,i),!1}}function t_(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?er(n.index,e):e;0==(32&e[2])&&Fy(a);let u=E1(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=E1(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Un(n=1){return function eH(n){return(J.lFrame.contextLView=function tH(n,e){for(;n>0;)e=e[15],n--;return e}(n,J.lFrame.contextLView))[8]}(n)}function N1(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Or(s):Ni(s),u=!1;for(;0!==a&&(!1===u||o);){const c=n[a+1];rz(n[a],e)&&(u=!0,n[a+1]=r?Ey(c):vy(c)),a=r?Or(c):Ni(c)}u&&(n[t+1]=r?vy(s):Ey(s))}function rz(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ma(n,e)>=0}const Tt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function k1(n){return n.substring(Tt.key,Tt.keyEnd)}function R1(n,e){const t=Tt.textEnd;return t===e?-1:(e=Tt.keyEnd=function az(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Tt.key=e,t),Ua(n,e,t))}function Ua(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Lh(n,e){return function Lr(n,e,t,r){const i=I(),s=_e(),o=Mi(2);s.firstUpdatePass&&j1(s,n,o,r),e!==te&&dn(i,o,e)&&H1(s,s.data[bn()],i,i[11],n,i[o+1]=function yz(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ae(ps(n)))),n}(e,t),r,o)}(n,e,null,!0),Lh}function U1(n){!function Vr(n,e,t,r){const i=_e(),s=Mi(2);i.firstUpdatePass&&j1(i,null,s,r);const o=I();if(t!==te&&dn(o,s,t)){const a=i.data[bn()];if(G1(a,r)&&!B1(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=gm(u,t||"")),Zy(i,a,o,t,r)}else!function mz(n,e,t,r,i,s,o,a){i===te&&(i=Le);let u=0,l=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=u<i.length?i[u+1]:void 0,f=l<s.length?s[l+1]:void 0;let g,p=null;c===d?(u+=2,l+=2,h!==f&&(p=d,g=f)):null===d||null!==c&&c<d?(u+=2,p=c):(l+=2,p=d,g=f),null!==p&&H1(n,e,t,r,p,g,o,a),c=u<i.length?i[u]:null,d=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function gz(n,e,t){if(null==t||""===t)return Le;const r=[],i=ps(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(tr,li,n,!0)}function li(n,e){for(let t=function sz(n){return function O1(n){Tt.key=0,Tt.keyEnd=0,Tt.value=0,Tt.valueEnd=0,Tt.textEnd=n.length}(n),R1(n,Ua(n,0,Tt.textEnd))}(e);t>=0;t=R1(e,t))tr(n,k1(e),!0)}function B1(n,e){return e>=n.expandoStartIndex}function j1(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[bn()],o=B1(n,t);G1(s,r)&&null===e&&!o&&(e=!1),e=function dz(n,e,t,r){const i=function Om(n){const e=J.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Kl(t=r_(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=r_(i,n,e,t,r),null===s){let u=function hz(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ni(r))return n[Or(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=r_(null,n,e,u[1],r),u=Kl(u,e.attrs,r),function fz(n,e,t,r){n[Or(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function pz(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Kl(r,n[s].hostAttrs,t);return Kl(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function tz(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Or(o),u=Ni(o);n[r]=t;let c,l=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||ma(d,c)>0)&&(l=!0)}else c=t;if(i)if(0!==u){const h=Or(n[a+1]);n[r+1]=Ah(h,a),0!==h&&(n[h+1]=wy(n[h+1],r)),n[a+1]=function h3(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Ah(a,0),0!==a&&(n[a+1]=wy(n[a+1],r)),a=r;else n[r+1]=Ah(u,0),0===a?a=r:n[u+1]=wy(n[u+1],r),u=r;l&&(n[r+1]=vy(n[r+1])),N1(n,c,r,!0),N1(n,c,r,!1),function nz(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&ma(s,e)>=0&&(t[r+1]=Ey(t[r+1]))}(e,c,n,r,s),o=Ah(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function r_(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Kl(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Kl(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),tr(n,o,!!t||e[++s]))}return void 0===n?null:n}function H1(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1];Vh(function iM(n){return 1==(1&n)}(l)?q1(u,e,t,i,Ni(l),o):void 0)||(Vh(s)||function rM(n){return 2==(2&n)}(l)&&(s=q1(u,null,t,i,a,o)),function e3(n,e,t,r,i){const s=Xe(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:nr.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=nr.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,rh(bn(),t),i,s))}function q1(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=t[i+1];h===te&&(h=d?Le:void 0);let f=d?zm(h,r):c===r?h:void 0;if(l&&!Vh(f)&&(f=zm(u,r)),Vh(f)&&(a=f,o))return a;const p=n[i+1];i=o?Or(p):Ni(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=zm(u,r))}return a}function Vh(n){return void 0!==n}function G1(n,e){return 0!=(n.flags&(e?16:32))}function D(n,e=""){const t=I(),r=_e(),i=n+20,s=r.firstCreatePass?Ca(r,i,1,e,null):r.data[i],o=t[i]=function dy(n,e){return Xe(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Dh(r,t,o,s),ti(s,!1)}function Ur(n){return et("",n,""),Ur}function et(n,e,t){const r=I(),i=function xa(n,e,t,r){return dn(n,ua(),t)?e+ee(t)+r:te}(r,n,e,t);return i!==te&&ki(r,bn(),i),et}const ro=void 0;var Lz=["en",[["a","p"],["AM","PM"],ro],[["AM","PM"],ro,ro],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ro,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ro,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ro,"{1} 'at' {0}",ro],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Fz(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Ba={};function Tn(n){const e=function Vz(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=hx(e);if(t)return t;const r=e.split("-")[0];if(t=hx(r),t)return t;if("en"===r)return Lz;throw new Error(`Missing locale data for the locale "${n}".`)}function hx(n){return n in Ba||(Ba[n]=Pe.ng&&Pe.ng.common&&Pe.ng.common.locales&&Pe.ng.common.locales[n]),Ba[n]}var O=(()=>((O=O||{})[O.LocaleId=0]="LocaleId",O[O.DayPeriodsFormat=1]="DayPeriodsFormat",O[O.DayPeriodsStandalone=2]="DayPeriodsStandalone",O[O.DaysFormat=3]="DaysFormat",O[O.DaysStandalone=4]="DaysStandalone",O[O.MonthsFormat=5]="MonthsFormat",O[O.MonthsStandalone=6]="MonthsStandalone",O[O.Eras=7]="Eras",O[O.FirstDayOfWeek=8]="FirstDayOfWeek",O[O.WeekendRange=9]="WeekendRange",O[O.DateFormat=10]="DateFormat",O[O.TimeFormat=11]="TimeFormat",O[O.DateTimeFormat=12]="DateTimeFormat",O[O.NumberSymbols=13]="NumberSymbols",O[O.NumberFormats=14]="NumberFormats",O[O.CurrencyCode=15]="CurrencyCode",O[O.CurrencySymbol=16]="CurrencySymbol",O[O.CurrencyName=17]="CurrencyName",O[O.Currencies=18]="Currencies",O[O.Directionality=19]="Directionality",O[O.PluralCase=20]="PluralCase",O[O.ExtraData=21]="ExtraData",O))();const Uh="en-US";let fx=Uh;function o_(n,e,t,r,i){if(n=se(n),Array.isArray(n))for(let s=0;s<n.length;s++)o_(n[s],e,t,r,i);else{const s=_e(),o=I();let a=Sa(n)?n:se(n.provide),u=LM(n);const l=bt(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(Sa(n)||!n.multi){const f=new bl(u,i,C),p=u_(a,e,i?c:c+h,d);-1===p?(gh(Tl(l,o),s,a),a_(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=u_(a,e,c+h,d),p=u_(a,e,c,c+h),g=f>=0&&t[f],v=p>=0&&t[p];if(i&&!v||!i&&!g){gh(Tl(l,o),s,a);const E=function FW(n,e,t,r,i){const s=new bl(n,t,C);return s.multi=[],s.index=e,s.componentProviders=0,Lx(s,i,r&&!t),s}(i?OW:PW,t.length,i,r,u);!i&&v&&(t[p].providerFactory=E),a_(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(E),o.push(E)}else a_(s,n,f>-1?f:p,Lx(t[i?p:f],u,!i&&r));!i&&r&&v&&t[p].componentProviders++}}}function a_(n,e,t,r){const i=Sa(e),s=function sG(n){return!!n.useClass}(e);if(i||s){const u=(s?se(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function Lx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function u_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function PW(n,e,t,r){return l_(this.multi,[])}function OW(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Il(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),l_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],l_(i,s);return s}function l_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ze(n,e=[]){return t=>{t.providersResolver=(r,i)=>function RW(n,e,t){const r=_e();if(r.firstCreatePass){const i=Rr(n);o_(t,r.data,r.blueprint,i,!0),o_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Vx{}class UW{resolveComponentFactory(e){throw function VW(n){const e=Error(`No component factory found for ${Ae(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let $a=(()=>{class n{}return n.NULL=new UW,n})();function BW(){return Ha(bt(),I())}function Ha(n,e){return new ir(yr(n,e))}let ir=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=BW,n})();function jW(n){return n instanceof ir?n.nativeElement:n}class Zl{}let Ri=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function HW(){const n=I(),t=er(bt().index,n);return function $W(n){return n[11]}(ei(t)?t:n)}(),n})(),qW=(()=>{class n{}return n.\u0275prov=K({token:n,providedIn:"root",factory:()=>null}),n})();class qa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Bx=new qa("13.1.3"),c_={};function qh(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(dt(s)),kr(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&qh(u[1],u,l,r)}const o=t.type;if(8&o)qh(n,e,t.child,r);else if(32&o){const a=uy(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=zA(e,t);if(Array.isArray(a))r.push(...a);else{const u=Ul(e[16]);qh(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class ec{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return qh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(kr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(fy(e,r),yh(t,r))}this._attachedToViewContainer=!1}LA(this._lView[1],this._lView)}onDestroy(e){_M(this._lView[1],this._lView,null,e)}markForCheck(){Fy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Vy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function K3(n,e,t){sh(!0);try{Vy(n,e,t)}finally{sh(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ye(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qq(n,e){Bl(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ye(902,"");this._appRef=e}}class GW extends ec{constructor(e){super(e),this._view=e}detectChanges(){SM(this._view)}checkNoChanges(){!function Q3(n){sh(!0);try{SM(n)}finally{sh(!1)}}(this._view)}get context(){return null}}class jx extends $a{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=un(e);return new d_(t,this.ngModule)}}function $x(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const WW=new X("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>MA});class d_ extends Vx{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function c3(n){return n.map(l3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return $x(this.componentDef.inputs)}get outputs(){return $x(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function KW(n,e){return{get:(t,r,i)=>{const s=n.get(t,c_,i);return s!==c_||r===c_?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(Zl,SS),a=s.get(qW,null),u=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=r?function yM(n,e,t){if(Xe(n))return n.selectRootElement(e,t===xr.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):hy(o.createRenderer(null,this.componentDef),l,function zW(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),d=this.componentDef.onPush?576:528,h=function QM(n,e){return{components:[],scheduler:n||MA,clean:Y3,playerHandler:e||null,flags:0}}(),f=Nh(0,null,null,1,0,null,null,null,null,null),p=jl(null,f,h,d,null,null,o,u,a,s);let g,v;oh(p);try{const E=function WM(n,e,t,r,i,s){const o=t[1];t[20]=n;const u=Ca(o,20,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(Rh(u,l,!0),null!==n&&(dh(i,n,l),null!==u.classes&&_y(i,n,u.classes),null!==u.styles&&QA(i,n,u.styles)));const c=r.createRenderer(n,e),d=jl(t,gM(e),null,e.onPush?64:16,t[20],u,r,c,s||null,null);return o.firstCreatePass&&(gh(Tl(u,t),o,e.type),CM(o,u),TM(u,t.length,1)),kh(t,d),t[20]=d}(c,this.componentDef,p,o,u);if(c)if(r)dh(u,c,["ng-version",Bx.full]);else{const{attrs:w,classes:A}=function d3(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Pr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);w&&dh(u,c,w),A&&A.length>0&&_y(u,c,A.join(" "))}if(v=Mm(f,20),void 0!==t){const w=v.projection=[];for(let A=0;A<this.ngContentSelectors.length;A++){const k=t[A];w.push(null!=k?Array.from(k):null)}}g=function KM(n,e,t,r,i){const s=t[1],o=function k3(n,e,t){const r=bt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),IM(n,r,e,Ta(n,e,1,null),t));const i=Il(e,n,r.directiveStart,r);cn(i,e);const s=yr(r,e);return s&&cn(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=bt();e.contentQueries(1,o,u.directiveStart)}const a=bt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(hs(a.index),EM(t[1],a,0,a.directiveStart,a.directiveEnd,e),bM(e,o)),o}(E,this.componentDef,p,h,[mG]),$l(f,p,null)}finally{ah()}return new YW(this.componentType,g,Ha(v,p),p,v)}}class YW extends class LW{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new GW(i),this.componentType=e}get injector(){return new da(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Pi{}class Hx{}const Ga=new Map;class zx extends Pi{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new jx(this);const r=pr(e);this._bootstrapComponents=ii(r.bootstrap),this._r3Injector=FM(e,t,[{provide:Pi,useValue:this},{provide:$a,useValue:this.componentFactoryResolver}],Ae(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ft.THROW_IF_NOT_FOUND,r=re.Default){return e===ft||e===Pi||e===By?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class h_ extends Hx{constructor(e){super(),this.moduleType=e,null!==pr(e)&&function XW(n){const e=new Set;!function t(r){const i=pr(r,!0),s=i.id;null!==s&&(function qx(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Ae(e)} vs ${Ae(e.name)}`)}(s,Ga.get(s),r),Ga.set(s,r));const o=ii(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new zx(this.moduleType,e)}}function za(n,e,t,r){return Kx(I(),En(),n,e,t,r)}function Br(n,e,t,r,i){return Qx(I(),En(),n,e,t,r,i)}function tc(n,e){const t=n[e];return t===te?void 0:t}function Kx(n,e,t,r,i,s){const o=e+t;return dn(n,o,i)?oi(n,o+1,s?r.call(s,i):r(i)):tc(n,o+1)}function Qx(n,e,t,r,i,s,o){const a=e+t;return no(n,a,i,s)?oi(n,a+2,o?r.call(o,i,s):r(i,s)):tc(n,a+2)}function Yx(n,e,t,r,i,s,o,a){const u=e+t;return function Oh(n,e,t,r,i){const s=no(n,e,t,r);return dn(n,e+2,i)||s}(n,u,i,s,o)?oi(n,u+3,a?r.call(a,i,s,o):r(i,s,o)):tc(n,u+3)}function wr(n,e){const t=_e();let r;const i=n+20;t.firstCreatePass?(r=function o4(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=eo(r.type)),o=us(C);try{const a=fh(!1),u=s();return fh(a),function AG(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,I(),i,u),u}finally{us(o)}}function Oi(n,e,t){const r=n+20,i=I(),s=oa(i,r);return nc(i,r)?Kx(i,En(),e,s.transform,t,s):s.transform(t)}function f_(n,e,t,r){const i=n+20,s=I(),o=oa(s,i);return nc(s,i)?Qx(s,En(),e,o.transform,t,r,o):o.transform(t,r)}function nc(n,e){return n[1].data[e].pure}function p_(n){return e=>{setTimeout(n,void 0,e)}}const nt=class l4 extends Xr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,u=t||(()=>null),l=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),l=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=p_(u),a&&(a=p_(a)),l&&(l=p_(l)));const c=super.subscribe({next:a,error:u,complete:l});return e instanceof ct&&e.add(c),c}};function c4(){return this._results[Aa()]()}class g_{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Aa(),r=g_.prototype;r[t]||(r[t]=c4)}get changes(){return this._changes||(this._changes=new nt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=_r(e);(this._changesDetected=!function bH(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Fi=(()=>{class n{}return n.__NG_ELEMENT_ID__=f4,n})();const d4=Fi,h4=class extends d4{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=jl(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),$l(t,r,e),new ec(r)}};function f4(){return Gh(bt(),I())}function Gh(n,e){return 4&n.type?new h4(e,n,Ha(n,e)):null}let jr=(()=>{class n{}return n.__NG_ELEMENT_ID__=p4,n})();function p4(){return nN(bt(),I())}const g4=jr,eN=class extends g4{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ha(this._hostTNode,this._hostLView)}get injector(){return new da(this._hostTNode,this._hostLView)}get parentInjector(){const e=ph(this._hostTNode,this._hostLView);if(HS(e)){const t=ca(e,this._hostLView),r=la(e);return new da(t[1].data[r+8],t)}return new da(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=tN(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function Al(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new d_(un(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule&&l){const d=l.get(Pi,null);d&&(s=d)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(function H$(n){return kr(n[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new eN(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function zq(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],ZS(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function Wq(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=my(s,o),u=r[11],l=Ih(u,o[7]);return null!==l&&function Hq(n,e,t,r,i,s){r[0]=i,r[6]=e,Bl(n,r,t,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),ZS(m_(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=tN(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=fy(this._lContainer,t);r&&(yh(m_(this._lContainer),t),LA(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=fy(this._lContainer,t);return r&&null!=yh(m_(this._lContainer),t)?new ec(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function tN(n){return n[8]}function m_(n){return n[8]||(n[8]=[])}function nN(n,e){let t;const r=e[n.index];if(kr(r))t=r;else{let i;if(8&n.type)i=dt(r);else{const s=e[11];i=s.createComment("");const o=yr(n,e);to(s,Ih(s,o),i,function Jq(n,e){return Xe(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=DM(r,e,i,n),kh(e,t)}return new eN(t,n,e)}class y_{constructor(e){this.queryList=e,this.matches=null}clone(){return new y_(this.queryList)}setDirty(){this.queryList.setDirty()}}class __{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new __(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==aN(e,t).matches&&this.queries[t].setDirty()}}class rN{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class v_{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new v_(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class w_{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new w_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,_4(t,s)),this.matchTNodeWithReadOption(e,t,mh(t,e,s,!1,!1))}else r===Fi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,mh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ir||i===jr||i===Fi&&4&t.type)this.addMatch(t.index,-2);else{const s=mh(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function _4(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function w4(n,e,t,r){return-1===t?function v4(n,e){return 11&n.type?Ha(n,e):4&n.type?Gh(n,e):null}(e,n):-2===t?function E4(n,e,t){return t===ir?Ha(e,n):t===Fi?Gh(e,n):t===jr?nN(e,n):void 0}(n,e,r):Il(n,n[1],t,e)}function iN(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let u=0;u<o.length;u+=2){const l=o[u];a.push(l<0?null:w4(e,s[l],o[u+1],t.metadata.read))}i.matches=a}return i.matches}function E_(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=iN(n,e,i,t);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const l=s[a+1],c=e[-u];for(let d=10;d<c.length;d++){const h=c[d];h[17]===h[3]&&E_(h[1],h,l,r)}if(null!==c[9]){const d=c[9];for(let h=0;h<d.length;h++){const f=d[h];E_(f[1],f,l,r)}}}}}return r}function b_(n){const e=I(),t=_e(),r=PS();Fm(r+1);const i=aN(t,r);if(n.dirty&&AS(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?E_(t,e,r,[]):iN(t,e,i,r);n.reset(s,jW),n.notifyOnChanges()}return!0}return!1}function C_(n,e,t,r){const i=_e();if(i.firstCreatePass){const s=bt();(function oN(n,e,t){null===n.queries&&(n.queries=new v_),n.queries.track(new w_(e,t))})(i,new rN(e,t,r),s.index),function T4(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}!function sN(n,e,t){const r=new g_(4==(4&t));_M(n,e,r,r.destroy),null===e[19]&&(e[19]=new __),e[19].queries.push(new y_(r))}(i,I(),t)}function T_(){return function C4(n,e){return n[19].queries[e].queryList}(I(),PS())}function aN(n,e){return n.queries.getByIndex(e)}function Wa(n,e){return Gh(n,e)}function Kh(...n){}const Qh=new X("Application Initializer");let Qa=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Kh,this.reject=Kh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Wl(s))t.push(s);else if(e_(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(F(Qh,8))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const ic=new X("AppId"),$4={provide:ic,useFactory:function j4(){return`${x_()}${x_()}${x_()}`},deps:[]};function x_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const TN=new X("Platform Initializer"),Ya=new X("Platform ID"),IN=new X("appBootstrapListener");let DN=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const ys=new X("LocaleId"),SN=new X("DefaultCurrencyCode");class H4{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Yh=(()=>{class n{compileModuleSync(t){return new h_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=ii(pr(t).declarations).reduce((o,a)=>{const u=un(a);return u&&o.push(new d_(u)),o},[]);return new H4(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const G4=(()=>Promise.resolve(0))();function N_(n){"undefined"==typeof Zone?G4.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class He{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nt(!1),this.onMicrotaskEmpty=new nt(!1),this.onStable=new nt(!1),this.onError=new nt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function z4(){let n=Pe.requestAnimationFrame,e=Pe.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Q4(n){const e=()=>{!function K4(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Pe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,R_(n),n.isCheckStableRunning=!0,k_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),R_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return AN(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),MN(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return AN(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),MN(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,R_(n),k_(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!He.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(He.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,W4,Kh,Kh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const W4={};function k_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function R_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function AN(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function MN(n){n._nesting--,k_(n)}class Y4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nt,this.onMicrotaskEmpty=new nt,this.onStable=new nt,this.onError=new nt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let P_=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{He.assertNotInAngularZone(),N_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())N_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(F(He))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),xN=(()=>{class n{constructor(){this._applications=new Map,O_.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return O_.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();class J4{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let $r,O_=new J4;const NN=new X("AllowMultipleToken");class kN{constructor(e,t){this.name=e,this.token=t}}function RN(n,e,t=[]){const r=`Platform: ${e}`,i=new X(r);return(s=[])=>{let o=PN();if(!o||o.injector.get(NN,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:jy,useValue:"platform"});!function t8(n){if($r&&!$r.destroyed&&!$r.injector.get(NN,!1))throw new ye(400,"");$r=n.get(ON);const e=n.get(TN,null);e&&e.forEach(t=>t())}(ft.create({providers:a,name:r}))}return function n8(n){const e=PN();if(!e)throw new ye(401,"");return e}()}}function PN(){return $r&&!$r.destroyed?$r:null}let ON=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function r8(n,e){let t;return t="noop"===n?new Y4:("zone.js"===n?void 0:n)||new He({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:He,useValue:a}];return a.run(()=>{const l=ft.create({providers:u,parent:this.injector,name:t.moduleType.name}),c=t.create(l),d=c.injector.get(wa,null);if(!d)throw new ye(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});c.onDestroy(()=>{F_(this._modules,c),h.unsubscribe()})}),function i8(n,e,t){try{const r=t();return Wl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=c.injector.get(Qa);return h.runInitializers(),h.donePromise.then(()=>(function $z(n){Jn(n,"Expected localeId to be defined"),"string"==typeof n&&(fx=n.toLowerCase().replace(/_/g,"-"))}(c.injector.get(ys,Uh)||Uh),this._moduleDoBootstrap(c),c))})})}bootstrapModule(t,r=[]){const i=FN({},r);return function Z4(n,e,t){const r=new h_(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(sc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new ye(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ye(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(F(ft))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();function FN(n,e){return Array.isArray(e)?e.reduce(FN,n):Object.assign(Object.assign({},n),e)}let sc=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Re(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),u=new Re(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{He.assertNotInAngularZone(),N_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{He.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=function h$(...n){const e=ml(n),t=function s$(n,e){return"number"==typeof hm(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Zr(r[0]):gl(t)(Rt(r,e)):Ii}(a,u.pipe(cS()))}bootstrap(t,r){if(!this._initStatus.done)throw new ye(405,"");let i;i=t instanceof Vx?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function e8(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Pi),a=i.create(ft.NULL,[],r||i.selector,s),u=a.location.nativeElement,l=a.injector.get(P_,null),c=l&&a.injector.get(xN);return l&&c&&c.registerApplication(u,l),a.onDestroy(()=>{this.detachView(a.hostView),F_(this.components,a),c&&c.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new ye(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;F_(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(IN,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(F(He),F(ft),F(wa),F($a),F(Qa))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();function F_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let VN=!0,L_=(()=>{class n{}return n.__NG_ELEMENT_ID__=a8,n})();function a8(n){return function u8(n,e,t){if(th(n)&&!t){const r=er(n.index,e);return new ec(r,r)}return 47&n.type?new ec(e[16],e):null}(bt(),I(),16==(16&n))}class GN{constructor(){}supports(e){return ql(e)}create(e){return new p8(e)}}const f8=(n,e)=>e;class p8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||f8}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<WN(r,i,s)?t:r,a=WN(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,c=u-i;if(l!=c){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ql(e))throw new ye(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function DG(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Aa()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new g8(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new zN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class g8{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class m8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class zN{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new m8,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function WN(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class KN{constructor(){}supports(e){return e instanceof Map||Wy(e)}create(){return new y8}}class y8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Wy(e)))throw new ye(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new _8(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class _8{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function QN(){return new oc([new GN])}let oc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||QN()),deps:[[n,new ya,new at]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new ye(901,"")}}return n.\u0275prov=K({token:n,providedIn:"root",factory:QN}),n})();function YN(){return new Ja([new KN])}let Ja=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||YN()),deps:[[n,new ya,new at]]}}find(t){const r=this.factories.find(s=>s.supports(t));if(r)return r;throw new ye(901,"")}}return n.\u0275prov=K({token:n,providedIn:"root",factory:YN}),n})();const v8=[new KN],E8=new oc([new GN]),b8=new Ja(v8),C8=RN(null,"core",[{provide:Ya,useValue:"unknown"},{provide:ON,deps:[ft]},{provide:xN,deps:[]},{provide:DN,deps:[]}]),A8=[{provide:sc,useClass:sc,deps:[He,ft,wa,$a,Qa]},{provide:WW,deps:[He],useFactory:function M8(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Qa,useClass:Qa,deps:[[new at,Qh]]},{provide:Yh,useClass:Yh,deps:[]},$4,{provide:oc,useFactory:function T8(){return E8},deps:[]},{provide:Ja,useFactory:function I8(){return b8},deps:[]},{provide:ys,useFactory:function D8(n){return n||function S8(){return"undefined"!=typeof $localize&&$localize.locale||Uh}()},deps:[[new Rl(ys),new at,new ya]]},{provide:SN,useValue:"USD"}];let x8=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(F(sc))},n.\u0275mod=on({type:n}),n.\u0275inj=zt({providers:A8}),n})(),Xh=null;function ci(){return Xh}const Dn=new X("DocumentToken");let so=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:function(){return function P8(){return F(JN)}()},providedIn:"platform"}),n})();const O8=new X("Location Initialized");let JN=(()=>{class n extends so{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ci().getBaseHref(this._doc)}onPopState(t){const r=ci().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ci().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){XN()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){XN()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(F(Dn))},n.\u0275prov=K({token:n,factory:function(){return function F8(){return new JN(F(Dn))}()},providedIn:"platform"}),n})();function XN(){return!!window.history.pushState}function $_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ZN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Li(n){return n&&"?"!==n[0]?"?"+n:n}let Xa=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:function(){return function L8(n){const e=F(Dn).location;return new ek(F(so),e&&e.origin||"")}()},providedIn:"root"}),n})();const H_=new X("appBaseHref");let ek=(()=>{class n extends Xa{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Li(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Li(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Li(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(F(so),F(H_,8))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),V8=(()=>{class n extends Xa{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=$_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Li(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Li(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(F(so),F(H_,8))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),q_=(()=>{class n{constructor(t,r){this._subject=new nt,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ZN(tk(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Li(r))}normalize(t){return n.stripTrailingSlash(function B8(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,tk(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Li(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Li(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Li,n.joinWithSlash=$_,n.stripTrailingSlash=ZN,n.\u0275fac=function(t){return new(t||n)(F(Xa),F(so))},n.\u0275prov=K({token:n,factory:function(){return function U8(){return new q_(F(Xa),F(so))}()},providedIn:"root"}),n})();function tk(n){return n.replace(/\/index.html$/,"")}var pt=(()=>((pt=pt||{})[pt.Zero=0]="Zero",pt[pt.One=1]="One",pt[pt.Two=2]="Two",pt[pt.Few=3]="Few",pt[pt.Many=4]="Many",pt[pt.Other=5]="Other",pt))(),ut=(()=>((ut=ut||{})[ut.Format=0]="Format",ut[ut.Standalone=1]="Standalone",ut))(),de=(()=>((de=de||{})[de.Narrow=0]="Narrow",de[de.Abbreviated=1]="Abbreviated",de[de.Wide=2]="Wide",de[de.Short=3]="Short",de))(),Ye=(()=>((Ye=Ye||{})[Ye.Short=0]="Short",Ye[Ye.Medium=1]="Medium",Ye[Ye.Long=2]="Long",Ye[Ye.Full=3]="Full",Ye))(),q=(()=>((q=q||{})[q.Decimal=0]="Decimal",q[q.Group=1]="Group",q[q.List=2]="List",q[q.PercentSign=3]="PercentSign",q[q.PlusSign=4]="PlusSign",q[q.MinusSign=5]="MinusSign",q[q.Exponential=6]="Exponential",q[q.SuperscriptingExponent=7]="SuperscriptingExponent",q[q.PerMille=8]="PerMille",q[q.Infinity=9]="Infinity",q[q.NaN=10]="NaN",q[q.TimeSeparator=11]="TimeSeparator",q[q.CurrencyDecimal=12]="CurrencyDecimal",q[q.CurrencyGroup=13]="CurrencyGroup",q))();function Zh(n,e){return br(Tn(n)[O.DateFormat],e)}function ef(n,e){return br(Tn(n)[O.TimeFormat],e)}function tf(n,e){return br(Tn(n)[O.DateTimeFormat],e)}function Er(n,e){const t=Tn(n),r=t[O.NumberSymbols][e];if(void 0===r){if(e===q.CurrencyDecimal)return t[O.NumberSymbols][q.Decimal];if(e===q.CurrencyGroup)return t[O.NumberSymbols][q.Group]}return r}const W8=function dx(n){return Tn(n)[O.PluralCase]};function rk(n){if(!n[O.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[O.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function br(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function z_(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Z8=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ac={},e6=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var It=(()=>((It=It||{})[It.Short=0]="Short",It[It.ShortGMT=1]="ShortGMT",It[It.Long=2]="Long",It[It.Extended=3]="Extended",It))(),Q=(()=>((Q=Q||{})[Q.FullYear=0]="FullYear",Q[Q.Month=1]="Month",Q[Q.Date=2]="Date",Q[Q.Hours=3]="Hours",Q[Q.Minutes=4]="Minutes",Q[Q.Seconds=5]="Seconds",Q[Q.FractionalSeconds=6]="FractionalSeconds",Q[Q.Day=7]="Day",Q))(),ae=(()=>((ae=ae||{})[ae.DayPeriods=0]="DayPeriods",ae[ae.Days=1]="Days",ae[ae.Months=2]="Months",ae[ae.Eras=3]="Eras",ae))();function t6(n,e,t,r){let i=function c6(n){if(ok(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return nf(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Z8))return function d6(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,u,l),e}(r)}const e=new Date(n);if(!ok(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Vi(t,e)||e;let a,o=[];for(;e;){if(a=e6.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const c=o.pop();if(!c)break;e=c}}let u=i.getTimezoneOffset();r&&(u=sk(r,u),i=function l6(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function u6(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(sk(e,i)-i))}(i,r,!0));let l="";return o.forEach(c=>{const d=function a6(n){if(K_[n])return K_[n];let e;switch(n){case"G":case"GG":case"GGG":e=je(ae.Eras,de.Abbreviated);break;case"GGGG":e=je(ae.Eras,de.Wide);break;case"GGGGG":e=je(ae.Eras,de.Narrow);break;case"y":e=gt(Q.FullYear,1,0,!1,!0);break;case"yy":e=gt(Q.FullYear,2,0,!0,!0);break;case"yyy":e=gt(Q.FullYear,3,0,!1,!0);break;case"yyyy":e=gt(Q.FullYear,4,0,!1,!0);break;case"Y":e=uf(1);break;case"YY":e=uf(2,!0);break;case"YYY":e=uf(3);break;case"YYYY":e=uf(4);break;case"M":case"L":e=gt(Q.Month,1,1);break;case"MM":case"LL":e=gt(Q.Month,2,1);break;case"MMM":e=je(ae.Months,de.Abbreviated);break;case"MMMM":e=je(ae.Months,de.Wide);break;case"MMMMM":e=je(ae.Months,de.Narrow);break;case"LLL":e=je(ae.Months,de.Abbreviated,ut.Standalone);break;case"LLLL":e=je(ae.Months,de.Wide,ut.Standalone);break;case"LLLLL":e=je(ae.Months,de.Narrow,ut.Standalone);break;case"w":e=W_(1);break;case"ww":e=W_(2);break;case"W":e=W_(1,!0);break;case"d":e=gt(Q.Date,1);break;case"dd":e=gt(Q.Date,2);break;case"c":case"cc":e=gt(Q.Day,1);break;case"ccc":e=je(ae.Days,de.Abbreviated,ut.Standalone);break;case"cccc":e=je(ae.Days,de.Wide,ut.Standalone);break;case"ccccc":e=je(ae.Days,de.Narrow,ut.Standalone);break;case"cccccc":e=je(ae.Days,de.Short,ut.Standalone);break;case"E":case"EE":case"EEE":e=je(ae.Days,de.Abbreviated);break;case"EEEE":e=je(ae.Days,de.Wide);break;case"EEEEE":e=je(ae.Days,de.Narrow);break;case"EEEEEE":e=je(ae.Days,de.Short);break;case"a":case"aa":case"aaa":e=je(ae.DayPeriods,de.Abbreviated);break;case"aaaa":e=je(ae.DayPeriods,de.Wide);break;case"aaaaa":e=je(ae.DayPeriods,de.Narrow);break;case"b":case"bb":case"bbb":e=je(ae.DayPeriods,de.Abbreviated,ut.Standalone,!0);break;case"bbbb":e=je(ae.DayPeriods,de.Wide,ut.Standalone,!0);break;case"bbbbb":e=je(ae.DayPeriods,de.Narrow,ut.Standalone,!0);break;case"B":case"BB":case"BBB":e=je(ae.DayPeriods,de.Abbreviated,ut.Format,!0);break;case"BBBB":e=je(ae.DayPeriods,de.Wide,ut.Format,!0);break;case"BBBBB":e=je(ae.DayPeriods,de.Narrow,ut.Format,!0);break;case"h":e=gt(Q.Hours,1,-12);break;case"hh":e=gt(Q.Hours,2,-12);break;case"H":e=gt(Q.Hours,1);break;case"HH":e=gt(Q.Hours,2);break;case"m":e=gt(Q.Minutes,1);break;case"mm":e=gt(Q.Minutes,2);break;case"s":e=gt(Q.Seconds,1);break;case"ss":e=gt(Q.Seconds,2);break;case"S":e=gt(Q.FractionalSeconds,1);break;case"SS":e=gt(Q.FractionalSeconds,2);break;case"SSS":e=gt(Q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=sf(It.Short);break;case"ZZZZZ":e=sf(It.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=sf(It.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=sf(It.Long);break;default:return null}return K_[n]=e,e}(c);l+=d?d(i,t,u):"''"===c?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function nf(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Vi(n,e){const t=function j8(n){return Tn(n)[O.LocaleId]}(n);if(ac[t]=ac[t]||{},ac[t][e])return ac[t][e];let r="";switch(e){case"shortDate":r=Zh(n,Ye.Short);break;case"mediumDate":r=Zh(n,Ye.Medium);break;case"longDate":r=Zh(n,Ye.Long);break;case"fullDate":r=Zh(n,Ye.Full);break;case"shortTime":r=ef(n,Ye.Short);break;case"mediumTime":r=ef(n,Ye.Medium);break;case"longTime":r=ef(n,Ye.Long);break;case"fullTime":r=ef(n,Ye.Full);break;case"short":const i=Vi(n,"shortTime"),s=Vi(n,"shortDate");r=rf(tf(n,Ye.Short),[i,s]);break;case"medium":const o=Vi(n,"mediumTime"),a=Vi(n,"mediumDate");r=rf(tf(n,Ye.Medium),[o,a]);break;case"long":const u=Vi(n,"longTime"),l=Vi(n,"longDate");r=rf(tf(n,Ye.Long),[u,l]);break;case"full":const c=Vi(n,"fullTime"),d=Vi(n,"fullDate");r=rf(tf(n,Ye.Full),[c,d])}return r&&(ac[t][e]=r),r}function rf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Hr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function gt(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function r6(n,e){switch(n){case Q.FullYear:return e.getFullYear();case Q.Month:return e.getMonth();case Q.Date:return e.getDate();case Q.Hours:return e.getHours();case Q.Minutes:return e.getMinutes();case Q.Seconds:return e.getSeconds();case Q.FractionalSeconds:return e.getMilliseconds();case Q.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===Q.Hours)0===a&&-12===t&&(a=12);else if(n===Q.FractionalSeconds)return function n6(n,e){return Hr(n,3).substr(0,e)}(a,e);const u=Er(o,q.MinusSign);return Hr(a,e,u,r,i)}}function je(n,e,t=ut.Format,r=!1){return function(i,s){return function i6(n,e,t,r,i,s){switch(t){case ae.Months:return function q8(n,e,t){const r=Tn(n),s=br([r[O.MonthsFormat],r[O.MonthsStandalone]],e);return br(s,t)}(e,i,r)[n.getMonth()];case ae.Days:return function H8(n,e,t){const r=Tn(n),s=br([r[O.DaysFormat],r[O.DaysStandalone]],e);return br(s,t)}(e,i,r)[n.getDay()];case ae.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const l=function K8(n){const e=Tn(n);return rk(e),(e[O.ExtraData][2]||[]).map(r=>"string"==typeof r?z_(r):[z_(r[0]),z_(r[1])])}(e),c=function Q8(n,e,t){const r=Tn(n);rk(r);const s=br([r[O.ExtraData][0],r[O.ExtraData][1]],e)||[];return br(s,t)||[]}(e,i,r),d=l.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,g=o>=f.hours&&a>=f.minutes,v=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&v)return!0}else if(g||v)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return c[d]}return function $8(n,e,t){const r=Tn(n),s=br([r[O.DayPeriodsFormat],r[O.DayPeriodsStandalone]],e);return br(s,t)}(e,i,r)[o<12?0:1];case ae.Eras:return function G8(n,e){return br(Tn(n)[O.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function sf(n){return function(e,t,r){const i=-1*r,s=Er(t,q.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case It.Short:return(i>=0?"+":"")+Hr(o,2,s)+Hr(Math.abs(i%60),2,s);case It.ShortGMT:return"GMT"+(i>=0?"+":"")+Hr(o,1,s);case It.Long:return"GMT"+(i>=0?"+":"")+Hr(o,2,s)+":"+Hr(Math.abs(i%60),2,s);case It.Extended:return 0===r?"Z":(i>=0?"+":"")+Hr(o,2,s)+":"+Hr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function ik(n){return nf(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function W_(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=ik(t),o=function o6(n){const e=nf(n,0,1).getDay();return nf(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Hr(i,n,Er(r,q.MinusSign))}}function uf(n,e=!1){return function(t,r){return Hr(ik(t).getFullYear(),n,Er(r,q.MinusSign),e)}}const K_={};function sk(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function ok(n){return n instanceof Date&&!isNaN(n.valueOf())}class cf{}let b6=(()=>{class n extends cf{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(W8(r||this.locale)(t)){case pt.Zero:return"zero";case pt.One:return"one";case pt.Two:return"two";case pt.Few:return"few";case pt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(F(ys))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();function ck(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let lc=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(ql(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ae(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(C(oc),C(Ja),C(ir),C(Ri))},n.\u0275dir=G({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class T6{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let df=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new T6(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),dk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{dk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(jr),C(Fi),C(oc))},n.\u0275dir=G({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function dk(n,e){n.context.$implicit=e.item}let _s=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new I6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){hk("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){hk("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(jr),C(Fi))},n.\u0275dir=G({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class I6{constructor(){this.$implicit=null,this.ngIf=null}}function hk(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ae(e)}'.`)}function qr(n,e){return new ye(2100,"")}class N6{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class k6{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const R6=new k6,P6=new N6;let hf=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Wl(t))return R6;if(_1(t))return P6;throw qr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(C(L_,16))},n.\u0275pipe=an({name:"async",type:n,pure:!1}),n})(),pk=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw qr();return t.toLowerCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=an({name:"lowercase",type:n,pure:!0}),n})();const O6=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let ff=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw qr();return t.replace(O6,r=>r[0].toUpperCase()+r.substr(1).toLowerCase())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=an({name:"titlecase",type:n,pure:!0}),n})();const L6=new X("DATE_PIPE_DEFAULT_TIMEZONE");let tv=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,s){var o;if(null==t||""===t||t!=t)return null;try{return t6(t,r,s||this.locale,null!==(o=null!=i?i:this.defaultTimezone)&&void 0!==o?o:void 0)}catch(a){throw qr()}}}return n.\u0275fac=function(t){return new(t||n)(C(ys,16),C(L6,24))},n.\u0275pipe=an({name:"date",type:n,pure:!0}),n})(),K6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({providers:[{provide:cf,useClass:b6}]}),n})();let X6=(()=>{class n{}return n.\u0275prov=K({token:n,providedIn:"root",factory:()=>new Z6(F(Dn),window)}),n})();class Z6{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function e5(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=yk(this.window.history)||yk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function yk(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class _k{}class iv extends class t5 extends class R8{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function k8(n){Xh||(Xh=n)}(new iv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function n5(){return cc=cc||document.querySelector("base"),cc?cc.getAttribute("href"):null}();return null==t?null:function r5(n){pf=pf||document.createElement("a"),pf.setAttribute("href",n);const e=pf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ck(document.cookie,e)}}let pf,cc=null;const vk=new X("TRANSITION_ID"),s5=[{provide:Qh,useFactory:function i5(n,e,t){return()=>{t.get(Qa).donePromise.then(()=>{const r=ci(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[vk,Dn,ft],multi:!0}];class sv{static init(){!function X4(n){O_=n}(new sv)}addToWindow(e){Pe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pe.getAllAngularRootElements=()=>e.getAllRootElements(),Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(r=>{const i=Pe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?ci().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let o5=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const gf=new X("EventManagerPlugins");let mf=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(F(gf),F(He))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();class wk{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=ci().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ek=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),dc=(()=>{class n extends Ek{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(bk),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(bk))}}return n.\u0275fac=function(t){return new(t||n)(F(Dn))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();function bk(n){ci().remove(n)}const ov={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},av=/%COMP%/g;function yf(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?yf(n,i,t):(i=i.replace(av,n),t.push(i))}return t}function Ik(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let _f=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new uv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case xr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new h5(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case xr.ShadowDom:return new f5(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=yf(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(F(mf),F(dc),F(ic))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();class uv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ov[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=ov[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ov[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(nr.DashCase|nr.Important)?e.style.setProperty(t,r,i&nr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&nr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ik(r)):this.eventManager.addEventListener(e,t,Ik(r))}}class h5 extends uv{constructor(e,t,r,i){super(e),this.component=r;const s=yf(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function l5(n){return"_ngcontent-%COMP%".replace(av,n)}(i+"-"+r.id),this.hostAttr=function c5(n){return"_nghost-%COMP%".replace(av,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class f5 extends uv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=yf(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let p5=(()=>{class n extends wk{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(F(Dn))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const Sk=["alt","control","meta","shift"],m5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ak={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},y5={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let _5=(()=>{class n extends wk{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ci().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(Sk.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function v5(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Ak.hasOwnProperty(e)&&(e=Ak[e]))}return m5[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Sk.forEach(s=>{s!=i&&y5[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(F(Dn))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const C5=RN(C8,"browser",[{provide:Ya,useValue:"browser"},{provide:TN,useValue:function w5(){iv.makeCurrent(),sv.init()},multi:!0},{provide:Dn,useFactory:function b5(){return function U$(n){Sm=n}(document),document},deps:[]}]),T5=[{provide:jy,useValue:"root"},{provide:wa,useFactory:function E5(){return new wa},deps:[]},{provide:gf,useClass:p5,multi:!0,deps:[Dn,He,Ya]},{provide:gf,useClass:_5,multi:!0,deps:[Dn]},{provide:_f,useClass:_f,deps:[mf,dc,ic]},{provide:Zl,useExisting:_f},{provide:Ek,useExisting:dc},{provide:dc,useClass:dc,deps:[Dn]},{provide:P_,useClass:P_,deps:[He]},{provide:mf,useClass:mf,deps:[gf,He]},{provide:_k,useClass:o5,deps:[]}];let Mk=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:ic,useValue:t.appId},{provide:vk,useExisting:ic},s5]}}}return n.\u0275fac=function(t){return new(t||n)(F(n,12))},n.\u0275mod=on({type:n}),n.\u0275inj=zt({providers:T5,imports:[K6,x8]}),n})();function ie(...n){return Rt(n,ml(n))}function Za(n,e){return ke(e)?kt(n,e,1):kt(n,1)}function oo(n,e){return Gt((t,r)=>{let i=0;t.subscribe(new Nt(r,s=>n.call(e,s,i++)&&r.next(s)))})}"undefined"!=typeof window&&window;class kk{}class Rk{}class Ui{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ui?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ui;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ui?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class O5{encodeKey(e){return Pk(e)}encodeValue(e){return Pk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const L5=/%(\d[a-f0-9])/gi,V5={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Pk(n){return encodeURIComponent(n).replace(L5,(e,t)=>{var r;return null!==(r=V5[t])&&void 0!==r?r:e})}function Ok(n){return`${n}`}class ws{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new O5,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function F5(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ws({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Ok(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Ok(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class U5{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Fk(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Lk(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Vk(n){return"undefined"!=typeof FormData&&n instanceof FormData}class hc{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function B5(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ui),this.context||(this.context=new U5),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new ws,this.urlWithParams=t}serializeBody(){return null===this.body?null:Fk(this.body)||Lk(this.body)||Vk(this.body)||function j5(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ws?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Vk(this.body)?null:Lk(this.body)?this.body.type||null:Fk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ws?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const d=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),c)),new hc(r,i,o,{params:c,headers:l,context:d,reportProgress:u,responseType:s,withCredentials:a})}}var mt=(()=>((mt=mt||{})[mt.Sent=0]="Sent",mt[mt.UploadProgress=1]="UploadProgress",mt[mt.ResponseHeader=2]="ResponseHeader",mt[mt.DownloadProgress=3]="DownloadProgress",mt[mt.Response=4]="Response",mt[mt.User=5]="User",mt))();class cv{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ui,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class dv extends cv{constructor(e={}){super(e),this.type=mt.ResponseHeader}clone(e={}){return new dv({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class vf extends cv{constructor(e={}){super(e),this.type=mt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new vf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Uk extends cv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function hv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let $5=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof hc)s=t;else{let u,l;u=i.headers instanceof Ui?i.headers:new Ui(i.headers),i.params&&(l=i.params instanceof ws?i.params:new ws({fromObject:i.params})),s=new hc(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=ie(s).pipe(Za(u=>this.handler.handle(u)));if(t instanceof hc||"events"===i.observe)return o;const a=o.pipe(oo(u=>u instanceof vf));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(me(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(me(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(me(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(me(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ws).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,hv(i,r))}post(t,r,i={}){return this.request("POST",t,hv(i,r))}put(t,r,i={}){return this.request("PUT",t,hv(i,r))}}return n.\u0275fac=function(t){return new(t||n)(F(kk))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();class Bk{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const jk=new X("HTTP_INTERCEPTORS");let H5=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const q5=/^\)\]\}',?\n/;let $k=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Re(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=1223===i.status?204:i.status,p=i.statusText||"OK",g=new Ui(i.getAllResponseHeaders()),v=function G5(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new dv({headers:g,status:f,statusText:p,url:v}),o},u=()=>{let{headers:f,status:p,statusText:g,url:v}=a(),E=null;204!==p&&(E=void 0===i.response?i.responseText:i.response),0===p&&(p=E?200:0);let w=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof E){const A=E;E=E.replace(q5,"");try{E=""!==E?JSON.parse(E):null}catch(k){E=A,w&&(w=!1,E={error:k,text:E})}}w?(r.next(new vf({body:E,headers:f,status:p,statusText:g,url:v||void 0})),r.complete()):r.error(new Uk({error:E,headers:f,status:p,statusText:g,url:v||void 0}))},l=f=>{const{url:p}=a(),g=new Uk({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let c=!1;const d=f=>{c||(r.next(a()),c=!0);let p={type:mt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:mt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",l),i.addEventListener("timeout",l),i.addEventListener("abort",l),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:mt.Sent}),()=>{i.removeEventListener("error",l),i.removeEventListener("abort",l),i.removeEventListener("load",u),i.removeEventListener("timeout",l),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(F(_k))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const fv=new X("XSRF_COOKIE_NAME"),pv=new X("XSRF_HEADER_NAME");class Hk{}let z5=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ck(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(F(Dn),F(Ya),F(fv))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),gv=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(F(Hk),F(pv))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),W5=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(jk,[]);this.chain=r.reduceRight((i,s)=>new Bk(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(F(Rk),F(ft))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),K5=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:gv,useClass:H5}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:fv,useValue:t.cookieName}:[],t.headerName?{provide:pv,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({providers:[gv,{provide:jk,useExisting:gv,multi:!0},{provide:Hk,useClass:z5},{provide:fv,useValue:"XSRF-TOKEN"},{provide:pv,useValue:"X-XSRF-TOKEN"}]}),n})(),Q5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({providers:[$5,{provide:kk,useClass:W5},$k,{provide:Rk,useExisting:$k}],imports:[[K5.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const{isArray:Y5}=Array,{getPrototypeOf:J5,prototype:X5,keys:Z5}=Object;function qk(n){if(1===n.length){const e=n[0];if(Y5(e))return{args:e,keys:null};if(function eK(n){return n&&"object"==typeof n&&J5(n)===X5}(e)){const t=Z5(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:tK}=Array;function Gk(n){return me(e=>function nK(n,e){return tK(e)?n(...e):n(e)}(n,e))}function zk(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Wk=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(C(Ri),C(ir))},n.\u0275dir=G({type:n}),n})(),ao=(()=>{class n extends Wk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Vn(n)))(r||n)}}(),n.\u0275dir=G({type:n,features:[Ve]}),n})();const di=new X("NgValueAccessor"),sK={provide:di,useExisting:Ue(()=>uo),multi:!0},aK=new X("CompositionEventMode");let uo=(()=>{class n extends Wk{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function oK(){const n=ci()?ci().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Ri),C(ir),C(aK,8))},n.\u0275dir=G({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ge("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ze([sK]),Ve]}),n})();function Es(n){return null==n||0===n.length}const hn=new X("NgValidators"),bs=new X("NgAsyncValidators");function fc(n){return null}function iR(n){return null!=n}function sR(n){const e=Wl(n)?Rt(n):n;return e_(e),e}function oR(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function aR(n,e){return e.map(t=>t(n))}function uR(n){return n.map(e=>function lK(n){return!n.validate}(e)?e:t=>e.validate(t))}function mv(n){return null!=n?function lR(n){if(!n)return null;const e=n.filter(iR);return 0==e.length?null:function(t){return oR(aR(t,e))}}(uR(n)):null}function yv(n){return null!=n?function cR(n){if(!n)return null;const e=n.filter(iR);return 0==e.length?null:function(t){return function rK(...n){const e=uS(n),{args:t,keys:r}=qk(n),i=new Re(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;Zr(t[c]).subscribe(new Nt(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?zk(r,a):a),s.complete())}))}});return e?i.pipe(Gk(e)):i}(aR(t,e).map(sR)).pipe(me(oR))}}(uR(n)):null}function dR(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function _v(n){return n?Array.isArray(n)?n:[n]:[]}function wf(n,e){return Array.isArray(n)?n.includes(e):n===e}function pR(n,e){const t=_v(e);return _v(n).forEach(i=>{wf(t,i)||t.push(i)}),t}function gR(n,e){return _v(e).filter(t=>!wf(n,t))}class mR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Cs extends mR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Sn extends mR{get formDirective(){return null}get path(){return null}}class yR{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let pc=(()=>{class n extends yR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Cs,2))},n.\u0275dir=G({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Lh("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Ve]}),n})(),Ef=(()=>{class n extends yR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Sn,10))},n.\u0275dir=G({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Lh("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Ve]}),n})();function gc(n,e){Ev(n,e),e.valueAccessor.writeValue(n.value),function yK(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vR(n,e)})}(n,e),function vK(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function _K(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vR(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function mK(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function If(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ev(n,e){const t=function hR(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(dR(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function fR(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(dR(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();If(e._rawValidators,i),If(e._rawAsyncValidators,i)}function vR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Sf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const mc="VALID",Af="INVALID",eu="PENDING",yc="DISABLED";function Iv(n){return(Sv(n)?n.validators:n)||null}function bR(n){return Array.isArray(n)?mv(n):n||null}function Dv(n,e){return(Sv(e)?e.asyncValidators:n)||null}function CR(n){return Array.isArray(n)?yv(n):n||null}function Sv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Av=n=>n instanceof xv;function IR(n){return(n=>n instanceof AR)(n)?n.value:n.getRawValue()}function DR(n,e){const t=Av(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new ye(1e3,"");if(!r[e])throw new ye(1001,"")}function SR(n,e){Av(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new ye(1002,"")})}class Mv{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=bR(this._rawValidators),this._composedAsyncValidatorFn=CR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mc}get invalid(){return this.status===Af}get pending(){return this.status==eu}get disabled(){return this.status===yc}get enabled(){return this.status!==yc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=bR(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=CR(e)}addValidators(e){this.setValidators(pR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gR(e,this._rawAsyncValidators))}hasValidator(e){return wf(this._rawValidators,e)}hasAsyncValidator(e){return wf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=eu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mc||this.status===eu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yc:mc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=eu,this._hasOwnPendingAsyncValidator=!0;const t=sR(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function CK(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Av(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof IK)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?yc:this.errors?Af:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(eu)?eu:this._anyControlsHaveStatus(Af)?Af:mc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class AR extends Mv{constructor(e=null,t,r){super(Iv(t),Dv(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Sf(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Sf(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class xv extends Mv{constructor(e,t,r){super(Iv(t),Dv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){SR(this,e),Object.keys(e).forEach(r=>{DR(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=IR(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class IK extends Mv{constructor(e,t,r){super(Iv(t),Dv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){SR(this,e),e.forEach((r,i)=>{DR(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>IR(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const DK={provide:Sn,useExisting:Ue(()=>tu)},_c=(()=>Promise.resolve(null))();let tu=(()=>{class n extends Sn{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new nt,this.form=new xv({},mv(t),yv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){_c.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),gc(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){_c.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),Sf(this._directives,t)})}addFormGroup(t){_c.then(()=>{const r=this._findContainer(t.path),i=new xv({});(function wR(n,e){Ev(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){_c.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){_c.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function ER(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(C(hn,10),C(bs,10))},n.\u0275dir=G({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&ge("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ze([DK]),Ve]}),n})();const AK={provide:Cs,useExisting:Ue(()=>nu)},NR=(()=>Promise.resolve(null))();let nu=(()=>{class n extends Cs{constructor(t,r,i,s){super(),this.control=new AR,this._registered=!1,this.update=new nt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Cv(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===uo?t=s:function bK(n){return Object.getPrototypeOf(n.constructor)===ao}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function bv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function Cf(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){NR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;NR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(C(Sn,9),C(hn,10),C(bs,10),C(di,10))},n.\u0275dir=G({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ze([AK]),Ve,Zn]}),n})(),Mf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),RR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({}),n})();let vc=(()=>{class n{constructor(){this._validator=fc}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):fc,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,features:[Zn]}),n})();const zK={provide:hn,useExisting:Ue(()=>ru),multi:!0};let ru=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function Xk(n){return Es(n.value)?{required:!0}:null}(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&ai("required",r.required?"":null)},inputs:{required:"required"},features:[ze([zK])]}),n})();const QK={provide:hn,useExisting:Ue(()=>xf),multi:!0};let xf=(()=>{class n extends vc{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function $R(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function tR(n){return e=>Es(e.value)||!function Qk(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Vn(n)))(r||n)}}(),n.\u0275dir=G({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&ai("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[ze([QK]),Ve]}),n})();const JK={provide:hn,useExisting:Ue(()=>Nf),multi:!0};let Nf=(()=>{class n{constructor(){this._validator=fc}ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=function rR(n){if(!n)return fc;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Es(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(this.pattern)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&ai("pattern",r.pattern?r.pattern:null)},inputs:{pattern:"pattern"},features:[ze([JK]),Zn]}),n})(),XK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({imports:[[RR]]}),n})(),ZK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({imports:[XK]}),n})();class Gr extends Xr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function QR(n,e,t){n?Ti(t,n,e):e()}const kf=Yo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Fv(...n){return function n7(){return gl(1)}()(Rt(n,ml(n)))}function YR(n){return new Re(e=>{Zr(n()).subscribe(e)})}function JR(){return Gt((n,e)=>{let t=null;n._refCount++;const r=new Nt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class r7 extends Re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,K0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ct;const t=this.getSubject();e.add(this.source.subscribe(new Nt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ct.EMPTY)}return e}refCount(){return JR()(this)}}function Bi(n,e){return Gt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(new Nt(r,u=>{null==i||i.unsubscribe();let l=0;const c=s++;Zr(n(u,c)).subscribe(i=new Nt(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function s7(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(new Nt(o,c=>{const d=l++;u=a?n(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function XR(n,e){return Gt(s7(n,e,arguments.length>=2,!0))}function Ts(n){return Gt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(new Nt(t,void 0,void 0,o=>{s=Zr(n(o,Ts(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Lv(n){return n<=0?()=>Ii:Gt((e,t)=>{let r=[];e.subscribe(new Nt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ZR(n=o7){return Gt((e,t)=>{let r=!1;e.subscribe(new Nt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function o7(){return new kf}function eP(n){return Gt((e,t)=>{let r=!1;e.subscribe(new Nt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function iu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?oo((i,s)=>n(i,s,r)):Ks,Kd(1),t?eP(e):ZR(()=>new kf))}function jn(n,e,t){const r=ke(n)||e||t?{next:n,error:e,complete:t}:n;return r?Gt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new Nt(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Ks}class ji{constructor(e,t){this.id=e,this.url=t}}class Vv extends ji{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wc extends ji{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tP extends ji{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class l7 extends ji{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class c7 extends ji{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d7 extends ji{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h7 extends ji{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class f7 extends ji{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p7 extends ji{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nP{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rP{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class g7{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m7{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y7{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _7{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ce="primary";class v7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function su(n){return new v7(n)}const sP="ngNavigationCancelingError";function Uv(n){const e=Error("NavigationCancelingError: "+n);return e[sP]=!0,e}function E7(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function hi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!oP(n[i],e[i]))return!1;return!0}function oP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function aP(n){return Array.prototype.concat.apply([],n)}function uP(n){return n.length>0?n[n.length-1]:null}function Wt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function fi(n){return e_(n)?n:Wl(n)?Rt(Promise.resolve(n)):ie(n)}const T7={exact:function dP(n,e,t){if(!co(n.segments,e.segments)||!Rf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!dP(n.children[r],e.children[r],t))return!1;return!0},subset:hP},lP={exact:function I7(n,e){return hi(n,e)},subset:function D7(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>oP(n[t],e[t]))},ignored:()=>!0};function cP(n,e,t){return T7[t.paths](n.root,e.root,t.matrixParams)&&lP[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function hP(n,e,t){return fP(n,e,e.segments,t)}function fP(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!co(i,t)||e.hasChildren()||!Rf(i,t,r))}if(n.segments.length===t.length){if(!co(n.segments,t)||!Rf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!hP(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(co(n.segments,i)&&Rf(n.segments,i,r)&&n.children[ce])&&fP(n.children[ce],e,s,r)}}function Rf(n,e,t){return e.every((r,i)=>lP[t](n[i].parameters,r.parameters))}class lo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=su(this.queryParams)),this._queryParamMap}toString(){return M7.serialize(this)}}class fe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Wt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pf(this)}}class Ec{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=su(this.parameters)),this._parameterMap}toString(){return _P(this)}}function co(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class pP{}class gP{parse(e){const t=new V7(e);return new lo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${bc(e.root,!0)}`,r=function k7(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Of(t)}=${Of(i)}`).join("&"):`${Of(t)}=${Of(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function x7(n){return encodeURI(n)}(e.fragment)}`:""}`}}const M7=new gP;function Pf(n){return n.segments.map(e=>_P(e)).join("/")}function bc(n,e){if(!n.hasChildren())return Pf(n);if(e){const t=n.children[ce]?bc(n.children[ce],!1):"",r=[];return Wt(n.children,(i,s)=>{s!==ce&&r.push(`${s}:${bc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function A7(n,e){let t=[];return Wt(n.children,(r,i)=>{i===ce&&(t=t.concat(e(r,i)))}),Wt(n.children,(r,i)=>{i!==ce&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ce?[bc(n.children[ce],!1)]:[`${i}:${bc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ce]?`${Pf(n)}/${t[0]}`:`${Pf(n)}/(${t.join("//")})`}}function mP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Of(n){return mP(n).replace(/%3B/gi,";")}function Bv(n){return mP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ff(n){return decodeURIComponent(n)}function yP(n){return Ff(n.replace(/\+/g,"%20"))}function _P(n){return`${Bv(n.path)}${function N7(n){return Object.keys(n).map(e=>`;${Bv(e)}=${Bv(n[e])}`).join("")}(n.parameters)}`}const R7=/^[^\/()?;=#]+/;function Lf(n){const e=n.match(R7);return e?e[0]:""}const P7=/^[^=?&#]+/,F7=/^[^&#]+/;class V7{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ce]=new fe(e,t)),r}parseSegment(){const e=Lf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ec(Ff(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Lf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Lf(this.remaining);i&&(r=i,this.capture(r))}e[Ff(t)]=Ff(r)}parseQueryParam(e){const t=function O7(n){const e=n.match(P7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function L7(n){const e=n.match(F7);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=yP(t),s=yP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Lf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ce]:new fe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class vP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=jv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=jv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=$v(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $v(e,this._root).map(t=>t.value)}}function jv(n,e){if(n===e.value)return e;for(const t of e.children){const r=jv(n,t);if(r)return r}return null}function $v(n,e){if(n===e.value)return[e];for(const t of e.children){const r=$v(n,t);if(r.length)return r.unshift(e),r}return[]}class $i{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ou(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class wP extends vP{constructor(e,t){super(e),this.snapshot=t,Hv(this,e)}toString(){return this.snapshot.toString()}}function EP(n,e){const t=function U7(n,e){const o=new Vf([],{},{},"",{},ce,e,null,n.root,-1,{});return new CP("",new $i(o,[]))}(n,e),r=new Gr([new Ec("",{})]),i=new Gr({}),s=new Gr({}),o=new Gr({}),a=new Gr(""),u=new Hi(r,i,o,a,s,ce,e,t.root);return u.snapshot=t.root,new wP(new $i(u,[]),t)}class Hi{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(e=>su(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(e=>su(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bP(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function B7(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Vf{constructor(e,t,r,i,s,o,a,u,l,c,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=su(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=su(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CP extends vP{constructor(e,t){super(t),this.url=e,Hv(this,t)}toString(){return TP(this._root)}}function Hv(n,e){e.value._routerState=n,e.children.forEach(t=>Hv(n,t))}function TP(n){const e=n.children.length>0?` { ${n.children.map(TP).join(", ")} } `:"";return`${n.value}${e}`}function qv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,hi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),hi(e.params,t.params)||n.params.next(t.params),function b7(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!hi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),hi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Gv(n,e){const t=hi(n.params,e.params)&&function S7(n,e){return co(n,e)&&n.every((t,r)=>hi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Gv(n.parent,e.parent))}function Cc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function $7(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Cc(n,r,i);return Cc(n,r)})}(n,e,t);return new $i(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Cc(n,a)),o}}const r=function H7(n){return new Hi(new Gr(n.url),new Gr(n.params),new Gr(n.queryParams),new Gr(n.fragment),new Gr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Cc(n,s));return new $i(r,i)}}function Uf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tc(n){return"object"==typeof n&&null!=n&&n.outlets}function zv(n,e,t,r,i){let s={};return r&&Wt(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new lo(t.root===n?e:IP(t.root,n,e),s,i)}function IP(n,e,t){const r={};return Wt(n.children,(i,s)=>{r[s]=i===e?t:IP(i,e,t)}),new fe(n.segments,r)}class DP{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Uf(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Tc);if(i&&i!==uP(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wv{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function SP(n,e,t){if(n||(n=new fe([],{})),0===n.segments.length&&n.hasChildren())return Bf(n,e,t);const r=function Q7(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Tc(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!MP(u,l,o))return s;r+=2}else{if(!MP(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new fe(n.segments.slice(0,r.pathIndex),{});return s.children[ce]=new fe(n.segments.slice(r.pathIndex),n.children),Bf(s,0,i)}return r.match&&0===i.length?new fe(n.segments,{}):r.match&&!n.hasChildren()?Kv(n,e,t):r.match?Bf(n,0,i):Kv(n,e,t)}function Bf(n,e,t){if(0===t.length)return new fe(n.segments,{});{const r=function K7(n){return Tc(n[0])?n[0].outlets:{[ce]:n}}(t),i={};return Wt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=SP(n.children[o],e,s))}),Wt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new fe(n.segments,i)}}function Kv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Tc(s)){const u=Y7(s.outlets);return new fe(r,u)}if(0===i&&Uf(t[0])){r.push(new Ec(n.segments[e].path,AP(t[0]))),i++;continue}const o=Tc(s)?s.outlets[ce]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Uf(a)?(r.push(new Ec(o,AP(a))),i+=2):(r.push(new Ec(o,{})),i++)}return new fe(r,{})}function Y7(n){const e={};return Wt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Kv(new fe([],{}),0,t))}),e}function AP(n){const e={};return Wt(n,(t,r)=>e[r]=`${t}`),e}function MP(n,e,t){return n==t.path&&hi(e,t.parameters)}class X7{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),qv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ou(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Wt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ou(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ou(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ou(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new _7(s.value.snapshot))}),e.children.length&&this.forwardEvent(new m7(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(qv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),qv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function Z7(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class Qv{constructor(e,t){this.routes=e,this.module=t}}function Is(n){return"function"==typeof n}function ho(n){return n instanceof lo}const Ic=Symbol("INITIAL_VALUE");function Dc(){return Bi(n=>function e7(...n){const e=ml(n),t=uS(n),{args:r,keys:i}=qk(n);if(0===r.length)return Rt([],e);const s=new Re(function t7(n,e,t=Ks){return r=>{QR(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)QR(e,()=>{const l=Rt(n[u],e);let c=!1;l.subscribe(new Nt(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>zk(i,o):Ks));return t?s.pipe(Gk(t)):s}(n.map(e=>e.pipe(Kd(1),function i7(...n){const e=ml(n);return Gt((t,r)=>{(e?Fv(n,t,e):Fv(n,t)).subscribe(r)})}(Ic)))).pipe(XR((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==Ic?i:(s===Ic&&(r=!0),r||!1!==s&&o!==t.length-1&&!ho(s)?i:s),e)},Ic),oo(e=>e!==Ic),me(e=>ho(e)?e:!0===e),Kd(1)))}class s9{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Sc,this.attachRef=null}}class Sc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new s9,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let jf=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new nt,this.deactivateEvents=new nt,this.attachEvents=new nt,this.detachEvents=new nt,this.name=s||ce,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new o9(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(C(Sc),C(jr),C($a),Dl("name"),C(L_))},n.\u0275dir=G({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class o9{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Hi?this.route:e===Sc?this.childContexts:this.parent.get(e,t)}}let xP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=sn({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Oe(0,"router-outlet")},directives:[jf],encapsulation:2}),n})();function NP(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];a9(r,u9(e,r))}}function a9(n,e){n.children&&NP(n.children,e)}function u9(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Yv(n){const e=n.children&&n.children.map(Yv),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ce&&(t.component=xP),t}function Cr(n){return n.outlet||ce}function kP(n,e){const t=n.filter(r=>Cr(r)===e);return t.push(...n.filter(r=>Cr(r)!==e)),t}const RP={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function $f(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},RP):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||E7)(t,n,e);if(!s)return Object.assign({},RP);const o={};Wt(s.posParams,(u,l)=>{o[l]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Hf(n,e,t,r,i="corrected"){if(t.length>0&&function d9(n,e,t){return t.some(r=>qf(n,e,r)&&Cr(r)!==ce)}(n,t,r)){const o=new fe(e,function c9(n,e,t,r){const i={};i[ce]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Cr(s)!==ce){const o=new fe([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Cr(s)]=o}return i}(n,e,r,new fe(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function h9(n,e,t){return t.some(r=>qf(n,e,r))}(n,t,r)){const o=new fe(n.segments,function l9(n,e,t,r,i,s){const o={};for(const a of r)if(qf(n,t,a)&&!i[Cr(a)]){const u=new fe([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Cr(a)]=u}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new fe(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function qf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function PP(n,e,t,r){return!!(Cr(n)===r||r!==ce&&qf(e,t,n))&&("**"===n.path||$f(e,n,t).matched)}function OP(n,e,t){return 0===e.length&&!n.children[t]}class Ac{constructor(e){this.segmentGroup=e||null}}class FP{constructor(e){this.urlTree=e}}function Gf(n){return new Re(e=>e.error(new Ac(n)))}function LP(n){return new Re(e=>e.error(new FP(n)))}function f9(n){return new Re(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class m9{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Pi)}apply(){const e=Hf(this.urlTree.root,[],[],this.config).segmentGroup,t=new fe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ce).pipe(me(s=>this.createUrlTree(Jv(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ts(s=>{if(s instanceof FP)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ac?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ce).pipe(me(i=>this.createUrlTree(Jv(i),e.queryParams,e.fragment))).pipe(Ts(i=>{throw i instanceof Ac?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new fe([],{[ce]:e}):e;return new lo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(me(s=>new fe([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Rt(i).pipe(Za(s=>{const o=r.children[s],a=kP(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(me(u=>({segment:u,outlet:s})))}),XR((s,o)=>(s[o.outlet]=o.segment,s),{}),function a7(n,e){const t=arguments.length>=2;return r=>r.pipe(n?oo((i,s)=>n(i,s,r)):Ks,Lv(1),t?eP(e):ZR(()=>new kf))}())}expandSegment(e,t,r,i,s,o){return Rt(r).pipe(Za(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Ts(l=>{if(l instanceof Ac)return ie(null);throw l}))),iu(a=>!!a),Ts((a,u)=>{if(a instanceof kf||"EmptyError"===a.name){if(OP(t,i,s))return ie(new fe([],{}));throw new Ac(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return PP(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Gf(t):Gf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?LP(s):this.lineralizeSegments(r,s).pipe(kt(o=>{const a=new fe(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:l,positionalParamSegments:c}=$f(t,i,s);if(!a)return Gf(t);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?LP(d):this.lineralizeSegments(i,d).pipe(kt(h=>this.expandSegment(e,t,r,h.concat(s.slice(l)),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ie(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(me(h=>(r._loadedConfig=h,new fe(i,{})))):ie(new fe(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=$f(t,r,i);if(!o)return Gf(t);const l=i.slice(u);return this.getChildConfig(e,r,i).pipe(kt(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:g}=Hf(t,a,l,f),v=new fe(p.segments,p.children);if(0===g.length&&v.hasChildren())return this.expandChildren(h,f,v).pipe(me(k=>new fe(a,k)));if(0===f.length&&0===g.length)return ie(new fe(a,{}));const E=Cr(r)===s;return this.expandSegment(h,v,f,g,E?ce:s,!0).pipe(me(A=>new fe(a.concat(A.segments),A.children)))}))}getChildConfig(e,t,r){return t.children?ie(new Qv(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ie(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(kt(i=>i?this.configLoader.load(e.injector,t).pipe(me(s=>(t._loadedConfig=s,s))):function p9(n){return new Re(e=>e.error(Uv(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):ie(new Qv([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ie(i.map(o=>{const a=e.get(o);let u;if(function t9(n){return n&&Is(n.canLoad)}(a))u=a.canLoad(t,r);else{if(!Is(a))throw new Error("Invalid CanLoad guard");u=a(t,r)}return fi(u)})).pipe(Dc(),jn(o=>{if(!ho(o))return;const a=Uv(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),me(o=>!0===o)):ie(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ie(r);if(i.numberOfChildren>1||!i.children[ce])return f9(e.redirectTo);i=i.children[ce]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new lo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Wt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Wt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new fe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Jv(n){const e={};for(const r of Object.keys(n.children)){const s=Jv(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function y9(n){if(1===n.numberOfChildren&&n.children[ce]){const e=n.children[ce];return new fe(n.segments.concat(e.segments),e.children)}return n}(new fe(n.segments,e))}class VP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class zf{constructor(e,t){this.component=e,this.route=t}}function v9(n,e,t){const r=n._root;return Mc(r,e?e._root:null,t,[r.value])}function Wf(n,e,t){const r=function E9(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Mc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ou(e);return n.children.forEach(o=>{(function b9(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function C9(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!co(n.url,e.url);case"pathParamsOrQueryParamsChange":return!co(n.url,e.url)||!hi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gv(n,e)||!hi(n.queryParams,e.queryParams);default:return!Gv(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new VP(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Mc(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zf(a.outlet.component,o))}else o&&xc(e,a,i),i.canActivateChecks.push(new VP(r)),Mc(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Wt(s,(o,a)=>xc(o,t.getContext(a),i)),i}function xc(n,e,t){const r=ou(n),i=n.value;Wt(r,(s,o)=>{xc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new zf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class k9{}function UP(n){return new Re(e=>e.error(n))}class P9{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Hf(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ce);if(null===t)return null;const r=new Vf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ce,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new $i(r,t),s=new CP(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=bP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=kP(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=BP(r);return function O9(n){n.sort((e,t)=>e.value.outlet===ce?-1:t.value.outlet===ce?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return OP(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!PP(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?uP(r).parameters:{};s=new Vf(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,HP(e),Cr(e),e.component,e,jP(t),$P(t)+r.length,qP(e))}else{const f=$f(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new Vf(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,HP(e),Cr(e),e.component,e,jP(t),$P(t)+o.length,qP(e))}const u=function F9(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Hf(t,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const f=this.processChildren(u,l);return null===f?null:[new $i(s,f)]}if(0===u.length&&0===c.length)return[new $i(s,[])];const d=Cr(e)===i,h=this.processSegment(u,l,c,d?ce:i);return null===h?null:[new $i(s,h)]}}function L9(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function BP(n){const e=[],t=new Set;for(const r of n){if(!L9(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=BP(r.children);e.push(new $i(r.value,i))}return e.filter(r=>!t.has(r))}function jP(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function $P(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function HP(n){return n.data||{}}function qP(n){return n.resolve||{}}function Xv(n){return Bi(e=>{const t=n(e);return t?Rt(t).pipe(me(()=>e)):ie(e)})}class G9 extends class q9{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Zv=new X("ROUTES");class GP{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(me(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new Qv(aP(o.injector.get(Zv,void 0,re.Self|re.Optional)).map(Yv),o)}),Ts(s=>{throw t._loader$=void 0,s}));return t._loader$=new r7(i,()=>new Xr).pipe(JR()),t._loader$}loadModuleFactory(e){return fi(e()).pipe(kt(t=>t instanceof Hx?ie(t):Rt(this.compiler.compileModuleAsync(t))))}}class W9{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function K9(n){throw n}function Q9(n,e,t){return e.parse("/")}function zP(n,e){return ie(null)}const Y9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},J9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ot=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xr,this.errorHandler=K9,this.malformedUriErrorHandler=Q9,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zP,afterPreactivation:zP},this.urlHandlingStrategy=new W9,this.routeReuseStrategy=new G9,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Pi),this.console=o.get(DN);const d=o.get(He);this.isNgZoneEnabled=d instanceof He&&He.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function C7(){return new lo(new fe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new GP(o,a,h=>this.triggerEvent(new nP(h)),h=>this.triggerEvent(new rP(h))),this.routerState=EP(this.currentUrlTree,this.rootComponentType),this.transitions=new Gr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(oo(i=>0!==i.id),me(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Bi(i=>{let s=!1,o=!1;return ie(i).pipe(jn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Bi(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Kf(a.source)&&(this.browserUrlTree=a.extractedUrl),ie(a).pipe(Bi(d=>{const h=this.transitions.getValue();return r.next(new Vv(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Ii:Promise.resolve(d)}),function _9(n,e,t,r){return Bi(i=>function g9(n,e,t,r,i){return new m9(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(me(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),jn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function V9(n,e,t,r,i){return kt(s=>function R9(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new P9(n,e,t,r,i,s).recognize();return null===o?UP(new k9):ie(o)}catch(o){return UP(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(me(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),jn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new c7(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:v}=a,E=new Vv(h,this.serializeUrl(f),p,g);r.next(E);const w=EP(f,this.rootComponentType).snapshot;return ie(Object.assign(Object.assign({},a),{targetSnapshot:w,urlAfterRedirects:f,extras:Object.assign(Object.assign({},v),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ii}),Xv(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),jn(a=>{const u=new d7(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),me(a=>Object.assign(Object.assign({},a),{guards:v9(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function T9(n,e){return kt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ie(Object.assign(Object.assign({},t),{guardsResult:!0})):function I9(n,e,t,r){return Rt(n).pipe(kt(i=>function N9(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ie(s.map(a=>{const u=Wf(a,e,i);let l;if(function i9(n){return n&&Is(n.canDeactivate)}(u))l=fi(u.canDeactivate(n,e,t,r));else{if(!Is(u))throw new Error("Invalid CanDeactivate guard");l=fi(u(n,e,t,r))}return l.pipe(iu())})).pipe(Dc()):ie(!0)}(i.component,i.route,t,e,r)),iu(i=>!0!==i,!0))}(o,r,i,n).pipe(kt(a=>a&&function e9(n){return"boolean"==typeof n}(a)?function D9(n,e,t,r){return Rt(e).pipe(Za(i=>Fv(function A9(n,e){return null!==n&&e&&e(new g7(n)),ie(!0)}(i.route.parent,r),function S9(n,e){return null!==n&&e&&e(new y7(n)),ie(!0)}(i.route,r),function x9(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function w9(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>YR(()=>ie(o.guards.map(u=>{const l=Wf(u,o.node,t);let c;if(function r9(n){return n&&Is(n.canActivateChild)}(l))c=fi(l.canActivateChild(r,n));else{if(!Is(l))throw new Error("Invalid CanActivateChild guard");c=fi(l(r,n))}return c.pipe(iu())})).pipe(Dc())));return ie(s).pipe(Dc())}(n,i.path,t),function M9(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ie(!0);const i=r.map(s=>YR(()=>{const o=Wf(s,e,t);let a;if(function n9(n){return n&&Is(n.canActivate)}(o))a=fi(o.canActivate(e,n));else{if(!Is(o))throw new Error("Invalid CanActivate guard");a=fi(o(e,n))}return a.pipe(iu())}));return ie(i).pipe(Dc())}(n,i.route,t))),iu(i=>!0!==i,!0))}(r,s,n,e):ie(a)),me(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),jn(a=>{if(ho(a.guardsResult)){const l=Uv(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw l.url=a.guardsResult,l}const u=new h7(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),oo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Xv(a=>{if(a.guards.canActivateChecks.length)return ie(a).pipe(jn(u=>{const l=new f7(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),Bi(u=>{let l=!1;return ie(u).pipe(function U9(n,e){return kt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ie(t);let s=0;return Rt(i).pipe(Za(o=>function B9(n,e,t,r){return function j9(n,e,t,r){const i=Object.keys(n);if(0===i.length)return ie({});const s={};return Rt(i).pipe(kt(o=>function $9(n,e,t,r){const i=Wf(n,e,r);return fi(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(jn(a=>{s[o]=a}))),Lv(1),kt(()=>Object.keys(s).length===i.length?ie(s):Ii))}(n._resolve,n,e,r).pipe(me(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),bP(n,t).resolve),null)))}(o.route,r,n,e)),jn(()=>s++),Lv(1),kt(o=>s===i.length?ie(t):Ii))})}(this.paramsInheritanceStrategy,this.ngModule.injector),jn({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),jn(u=>{const l=new p7(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),Xv(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),me(a=>{const u=function j7(n,e,t){const r=Cc(n,e._root,t?t._root:void 0);return new wP(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),jn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>me(r=>(new X7(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),jn({next(){s=!0},complete(){s=!0}}),function u7(n){return Gt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Ts(a=>{if(o=!0,function w7(n){return n&&n[sP]}(a)){const u=ho(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const l=new tP(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(l),u?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Kf(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new l7(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return Ii}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){NP(t),this.config=t.map(Yv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,c=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function q7(n,e,t,r,i){if(0===t.length)return zv(e.root,e.root,e,r,i);const s=function G7(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new DP(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Wt(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new DP(t,e,r)}(t);if(s.toRoot())return zv(e.root,new fe([],{}),e,r,i);const o=function z7(n,e,t){if(n.isAbsolute)return new Wv(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Wv(s,s===e.root,0)}const r=Uf(n.commands[0])?0:1;return function W7(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Wv(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?Bf(o.segmentGroup,o.index,s.commands):SP(o.segmentGroup,o.index,s.commands);return zv(o.segmentGroup,a,e,r,i)}(l,this.currentUrlTree,t,d,null!=c?c:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ho(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function X9(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Y9):!1===r?Object.assign({},J9):r,ho(t))return cP(this.currentUrlTree,t,i);const s=this.parseUrl(t);return cP(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new wc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,u,l;if(this.disposed)return Promise.resolve(!1);const c=this.transitions.value,d=Kf(r)&&c&&!Kf(c.source),h=c.rawUrl.toString()===t.toString(),f=c.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&h&&f)return Promise.resolve(!0);let g,v,E;o?(g=o.resolve,v=o.reject,E=o.promise):E=new Promise((k,z)=>{g=k,v=z});const w=++this.navigationId;let A;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),A=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):A=0,this.setTransition({id:w,targetPageId:A,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:g,reject:v,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(k=>Promise.reject(k))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new tP(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Xy()},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();function Kf(n){return"imperative"!==n}let ew=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Xr,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:au(this.skipLocationChange),replaceUrl:au(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:au(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(C(Ot),C(Hi),Dl("tabindex"),C(Ri),C(ir))},n.\u0275dir=G({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&ge("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Zn]}),n})(),Ds=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Xr,this.subscription=t.events.subscribe(s=>{s instanceof wc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){if(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:au(this.skipLocationChange),replaceUrl:au(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:au(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(C(Ot),C(Hi),C(Xa))},n.\u0275dir=G({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&ge("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&ai("target",r.target)("href",r.href,xi)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Zn]}),n})();function au(n){return""===n||!!n}let WP=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new nt,this.routerEventsSubscription=t.events.subscribe(u=>{u instanceof wc&&this.update()})}ngAfterContentInit(){ie(this.links.changes,this.linksWithHrefs.changes,ie(null)).pipe(gl()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Rt(r).pipe(gl()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function Z9(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Ot),C(ir),C(Ri),C(L_),C(ew,8),C(Ds,8))},n.\u0275dir=G({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(C_(i,ew,5),C_(i,Ds,5)),2&t){let s;b_(s=T_())&&(r.links=s),b_(s=T_())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Zn]}),n})();class KP{}class QP{preload(e,t){return ie(null)}}let YP=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new GP(i,r,u=>t.triggerEvent(new nP(u)),u=>t.triggerEvent(new rP(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(oo(t=>t instanceof wc),Za(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Pi);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return Rt(i).pipe(gl(),me(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ie(r._loadedConfig):this.loader.load(t.injector,r)).pipe(kt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(F(Ot),F(Yh),F(ft),F(KP))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),tw=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Vv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof iP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new iP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Xy()},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const fo=new X("ROUTER_CONFIGURATION"),JP=new X("ROUTER_FORROOT_GUARD"),tQ=[q_,{provide:pP,useClass:gP},{provide:Ot,useFactory:function oQ(n,e,t,r,i,s,o={},a,u){const l=new Ot(null,n,e,t,r,i,aP(s));return a&&(l.urlHandlingStrategy=a),u&&(l.routeReuseStrategy=u),function aQ(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,l),o.enableTracing&&l.events.subscribe(c=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${c.constructor.name}`),console.log(c.toString()),console.log(c),null===(h=console.groupEnd)||void 0===h||h.call(console)}),l},deps:[pP,Sc,q_,ft,Yh,Zv,fo,[class z9{},new at],[class H9{},new at]]},Sc,{provide:Hi,useFactory:function uQ(n){return n.routerState.root},deps:[Ot]},YP,QP,class eQ{preload(e,t){return t().pipe(Ts(()=>ie(null)))}},{provide:fo,useValue:{enableTracing:!1}}];function nQ(){return new kN("Router",Ot)}let XP=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[tQ,ZP(t),{provide:JP,useFactory:sQ,deps:[[Ot,new at,new ya]]},{provide:fo,useValue:r||{}},{provide:Xa,useFactory:iQ,deps:[so,[new Rl(H_),new at],fo]},{provide:tw,useFactory:rQ,deps:[Ot,X6,fo]},{provide:KP,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:QP},{provide:kN,multi:!0,useFactory:nQ},[nw,{provide:Qh,multi:!0,useFactory:lQ,deps:[nw]},{provide:eO,useFactory:cQ,deps:[nw]},{provide:IN,multi:!0,useExisting:eO}]]}}static forChild(t){return{ngModule:n,providers:[ZP(t)]}}}return n.\u0275fac=function(t){return new(t||n)(F(JP,8),F(Ot,8))},n.\u0275mod=on({type:n}),n.\u0275inj=zt({}),n})();function rQ(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new tw(n,e,t)}function iQ(n,e,t={}){return t.useHash?new V8(n,e):new ek(n,e)}function sQ(n){return"guarded"}function ZP(n){return[{provide:EH,multi:!0,useValue:n},{provide:Zv,multi:!0,useValue:n}]}let nw=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Xr}appInitializer(){return this.injector.get(O8,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Ot),o=this.injector.get(fo);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ie(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(fo),i=this.injector.get(YP),s=this.injector.get(tw),o=this.injector.get(Ot),a=this.injector.get(sc);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(F(ft))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();function lQ(n){return n.appInitializer.bind(n)}function cQ(n){return n.bootstrapListener.bind(n)}const eO=new X("Router Initializer");let hQ=(()=>{class n{constructor(){this._contacts=[{id:"5eccd84b63798ecee4f530f7",name:"Guadalupe Stuart",email:"guadalupestuart@ontagene.com",birthday:new Date("2020-02-25T06:36:12"),phones:["+1 (855) 417-3827"]},{id:"5eccd84bb074b3d8c2b1ed05",name:"Burke Dillon",email:"burkedillon@ontagene.com",birthday:new Date("2016-04-19T01:42:16"),phones:["+1 (931) 490-2325","+1 (835) 560-3711"]},{id:"5eccd84b1d85b009d7649afd",name:"Lucinda Keith",email:"lucindakeith@ontagene.com",birthday:new Date("2017-09-22T08:13:04"),phones:["+1 (982) 463-2539"]},{id:"5eccd84bf8343e2c936872da",name:"Duffy Hatfield",email:"duffyhatfield@ontagene.com",birthday:new Date("2014-08-10T05:39:22"),phones:["+1 (810) 512-2750","+1 (816) 541-3648","+1 (897) 445-3800"]},{id:"5eccd84ba82601a8fd09c0e1",name:"Peterson Hunt",email:"petersonhunt@ontagene.com",birthday:new Date("2016-02-08T08:43:57"),phones:["+1 (803) 403-2929","+1 (885) 496-3950"]},{id:"5eccd84b8720e25fda396317",name:"Fanny Hughes",email:"fannyhughes@ontagene.com",birthday:new Date("2016-06-10T04:41:17"),phones:["+1 (844) 408-3338"]},{id:"5eccd84b195e403248341ade",name:"Alexandria Decker",email:"alexandriadecker@ontagene.com",birthday:new Date("2017-09-15T05:06:15"),phones:["+1 (912) 480-3008","+1 (837) 443-3835","+1 (996) 553-3609"]},{id:"5eccd84bfa98dd26fdc1ad5f",name:"Edwards Hendricks",email:"edwardshendricks@ontagene.com",birthday:new Date("2016-10-02T05:12:59"),phones:[]},{id:"5eccd84b9346cb8d4d358e8a",name:"Georgina Hogan",email:"georginahogan@ontagene.com",birthday:new Date("2017-03-14T01:46:01"),phones:["+1 (870) 495-2044","+1 (974) 599-2052","+1 (802) 443-3622"]},{id:"5eccd84bb47204c4f2a3352a",name:"Rebecca Ramirez",email:"rebeccaramirez@ontagene.com",birthday:new Date("2014-11-18T03:05:23"),phones:["+1 (867) 575-2067"]}]}getAll(){return this._contacts}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fQ=(()=>{class n{transform(t){const r=t.trim().replace(/  +/," ").split(".").filter(Boolean).map(i=>{const s=i.trim();return s[0].toUpperCase()+s.slice(1).toLowerCase()}).join(". ");return r.length?r+".":""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=an({name:"paragraphCapital",type:n,pure:!0}),n})();const pQ=function(n){return[n,"me-2"]};function gQ(n,e){if(1&n&&Oe(0,"i",5),2&n){const t=Un();B("ngClass",za(1,pQ,t.icon))}}let uu=(()=>{class n{constructor(){this.title="",this.icon="",this.description=""}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=sn({type:n,selectors:[["app-page-header"]],inputs:{title:"title",icon:"icon",description:"description"},decls:11,vars:7,consts:[[1,"row","mt-3"],[1,"col-12"],[1,"p-3","bg-light","border","rounded-3"],[1,"mb-2"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(t,r){1&t&&(y(0,"div",0),y(1,"div",1),y(2,"div",2),y(3,"h3",3),be(4,gQ,1,3,"i",4),y(5,"span"),D(6),wr(7,"titlecase"),_(),_(),y(8,"p"),D(9),wr(10,"paragraphCapital"),_(),_(),_(),_()),2&t&&(x(4),B("ngIf",r.icon),x(2),Ur(Oi(7,3,r.title)),x(3),Ur(Oi(10,5,r.description)))},directives:[_s,lc],pipes:[ff,fQ],styles:[""]}),n})();function mQ(n,e){if(1&n&&(y(0,"li"),y(1,"a",6),D(2),_(),_()),2&n){const t=e.$implicit;x(1),B("href","tel:"+t,xi),x(1),et(" ",t," ")}}function yQ(n,e){if(1&n&&(y(0,"ul"),be(1,mQ,3,2,"li",5),_()),2&n){const t=Un().$implicit;x(1),B("ngForOf",t.phones)}}function _Q(n,e){1&n&&D(0,"no phones.. ")}function vQ(n,e){if(1&n&&(y(0,"tr"),y(1,"td"),D(2),_(),y(3,"td"),D(4),wr(5,"titlecase"),_(),y(6,"td"),y(7,"a",6),D(8),wr(9,"lowercase"),_(),_(),y(10,"td"),D(11),wr(12,"date"),_(),y(13,"td"),be(14,yQ,2,1,"ul",7),be(15,_Q,1,0,"ng-template",null,8,Wa),_(),_()),2&n){const t=e.$implicit,r=e.index,i=Me(16);x(2),et("",r+1,"."),x(2),Ur(Oi(5,7,t.name)),x(3),B("href","mailto:"+t.email,xi),x(1),et(" ",Oi(9,9,t.email)," "),x(3),et(" ",f_(12,11,t.birthday,"dd/MM/yyyy")," "),x(3),B("ngIf",t.phones.length)("ngIfElse",i)}}function wQ(n,e){if(1&n&&(y(0,"table",4),y(1,"thead"),y(2,"tr"),y(3,"th"),D(4,"No."),_(),y(5,"th"),D(6,"Name"),_(),y(7,"th"),D(8,"Email"),_(),y(9,"th"),D(10,"Birthday"),_(),y(11,"th"),D(12,"Phones"),_(),_(),_(),y(13,"tbody"),be(14,vQ,17,14,"tr",5),_(),_()),2&n){const t=Un();x(14),B("ngForOf",t.contacts)}}function EQ(n,e){1&n&&D(0," no contacts... ")}let bQ=(()=>{class n{constructor(t){this.contacts=[],this.contacts=t.getAll()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(C(hQ))},n.\u0275cmp=sn({type:n,selectors:[["app-contacts"]],decls:7,vars:2,consts:[["title","contacts","icon","bi bi-people-fill","description","company employees details"],[1,"row","mt-3"],["class","table tabled-bordered align-middle mt-3",4,"ngIf","ngIfElse"],["noContacts",""],[1,"table","tabled-bordered","align-middle","mt-3"],[4,"ngFor","ngForOf"],[3,"href"],[4,"ngIf","ngIfElse"],["noPhones",""]],template:function(t,r){if(1&t&&(Oe(0,"app-page-header",0),y(1,"div",1),y(2,"h4"),D(3,"Company Employees Contacts Table"),_(),be(4,wQ,15,1,"table",2),_(),be(5,EQ,1,0,"ng-template",null,3,Wa)),2&t){const i=Me(6);x(4),B("ngIf",r.contacts.length)("ngIfElse",i)}},directives:[uu,_s,df],pipes:[ff,pk,tv],styles:[""]}),n})();function Qf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function iO(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){iO(s,r,i,o,a,"next",u)}function a(u){iO(s,r,i,o,a,"throw",u)}o(void 0)})}}const sw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class aw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Ft(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function uO(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function Jf(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function lO(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function cO(){const n=Ft();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lu(){return"object"==typeof indexedDB}function Xf(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function uw(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class pi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gi.prototype.create)}}class gi{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function PQ(n,e){return n.replace(OQ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new pi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const OQ=/\{\$([^}]+)}/g;function ep(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(hO(s)&&hO(o)){if(!ep(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function hO(n){return null!==n&&"object"==typeof n}function Nc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Rc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class VQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function UQ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=lw),void 0===i.error&&(i.error=lw),void 0===i.complete&&(i.complete=lw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lw(){}function dw(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Lt(n){return n&&n._delegate?n._delegate:n}class An{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const po="[DEFAULT]";class GQ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new aw;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function WQ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:po})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=po){return this.instances.has(e)}getOptions(e=po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===po?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=po){return this.component?this.component.multipleInstances?e:po:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class KQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new GQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const hw=[];var ve=(()=>{return(n=ve||(ve={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",ve;var n})();const fO={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},QQ=ve.INFO,YQ={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},JQ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=YQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class cu{constructor(e){this.name=e,this._logLevel=QQ,this._logHandler=JQ,this._userLogHandler=null,hw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?fO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}class XQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function ZQ(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const fw="@firebase/app",pw=new cu("@firebase/app"),gw="[DEFAULT]",IY={[fw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},go=new Map,tp=new Map;function DY(n,e){try{n.container.addComponent(e)}catch(t){pw.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $n(n){const e=n.name;if(tp.has(e))return pw.debug(`There were multiple attempts to register component ${e}.`),!1;tp.set(e,n);for(const t of go.values())DY(t,n);return!0}function du(n,e){return n.container.getProvider(e)}const Pc=new gi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class AY{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new An("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pc.create("app-deleted",{appName:this._name})}}const hu="9.6.5";function MY(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:gw,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw Pc.create("bad-app-name",{appName:String(r)});const i=go.get(r);if(i){if(ep(n,i.options)&&ep(t,i.config))return i;throw Pc.create("duplicate-app",{appName:r})}const s=new KQ(r);for(const a of tp.values())s.addComponent(a);const o=new AY(n,t,s);return go.set(r,o),o}function mw(n=gw){const e=go.get(n);if(!e)throw Pc.create("no-app",{appName:n});return e}function gO(){return Array.from(go.values())}function rt(n,e,t){var r;let i=null!==(r=IY[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void pw.warn(a.join(" "))}$n(new An(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}!function xY(n){$n(new An("platform-logger",e=>new XQ(e),"PRIVATE")),rt(fw,"0.7.15",n),rt(fw,"0.7.15","esm2017"),rt("fire-js","")}(""),rt("firebase","9.6.5","app");var fu=zs(940);const mO="@firebase/installations",_O="w:0.5.5",vO="FIS_v2",qi=new gi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function wO(n){return n instanceof pi&&n.code.includes("request-failed")}function vw({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function EO(n){return{token:n.token,requestStatus:2,expiresIn:VY(n.expiresIn),creationTime:Date.now()}}function ww(n,e){return Ew.apply(this,arguments)}function Ew(){return(Ew=m(function*(n,e){const r=(yield e.json()).error;return qi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function bO({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function CO(n,{refreshToken:e}){const t=bO(n);return t.append("Authorization",function UY(n){return`${vO} ${n}`}(e)),t}function bw(n){return Cw.apply(this,arguments)}function Cw(){return(Cw=m(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function VY(n){return Number(n.replace("s","000"))}function BY(n,e){return Tw.apply(this,arguments)}function Tw(){return(Tw=m(function*(n,{fid:e}){const t=vw(n),s={method:"POST",headers:bO(n),body:JSON.stringify({fid:e,authVersion:vO,appId:n.appId,sdkVersion:_O})},o=yield bw(()=>fetch(t,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:EO(a.authToken)}}throw yield ww("Create Installation",o)})).apply(this,arguments)}function TO(n){return new Promise(e=>{setTimeout(e,n)})}const $Y=/^[cdef][\w-]{21}$/;function HY(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function qY(n){return function jY(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return $Y.test(t)?t:""}catch(n){return""}}function pu(n){return`${n.appName}!${n.appId}`}const gu=new Map;function IO(n,e){const t=pu(n);DO(t,e),function WY(n,e){const t=function SO(){return!mo&&"BroadcastChannel"in self&&(mo=new BroadcastChannel("[Firebase] FID Change"),mo.onmessage=n=>{DO(n.data.key,n.data.fid)}),mo}();t&&t.postMessage({key:n,fid:e}),function AO(){0===gu.size&&mo&&(mo.close(),mo=null)}()}(t,e)}function DO(n,e){const t=gu.get(n);if(t)for(const r of t)r(e)}let mo=null;const yo="firebase-installations-store";let Dw=null;function Sw(){return Dw||(Dw=(0,fu.openDb)("firebase-installations-database",1,n=>{0===n.oldVersion&&n.createObjectStore(yo)})),Dw}function np(n,e){return Aw.apply(this,arguments)}function Aw(){return(Aw=m(function*(n,e){const t=pu(n),i=(yield Sw()).transaction(yo,"readwrite"),s=i.objectStore(yo),o=yield s.get(t);return yield s.put(e,t),yield i.complete,(!o||o.fid!==e.fid)&&IO(n,e.fid),e})).apply(this,arguments)}function Mw(n){return xw.apply(this,arguments)}function xw(){return(xw=m(function*(n){const e=pu(n),r=(yield Sw()).transaction(yo,"readwrite");yield r.objectStore(yo).delete(e),yield r.complete})).apply(this,arguments)}function Oc(n,e){return Nw.apply(this,arguments)}function Nw(){return(Nw=m(function*(n,e){const t=pu(n),i=(yield Sw()).transaction(yo,"readwrite"),s=i.objectStore(yo),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.complete,a&&(!o||o.fid!==a.fid)&&IO(n,a.fid),a})).apply(this,arguments)}function kw(n){return Rw.apply(this,arguments)}function Rw(){return(Rw=m(function*(n){let e;const t=yield Oc(n,r=>{const i=YY(r),s=JY(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function YY(n){return xO(n||{fid:HY(),registrationStatus:0})}function JY(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(qi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function XY(n,e){return Pw.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ZY(n)}:{installationEntry:e}}function Pw(){return(Pw=m(function*(n,e){try{return np(n,yield BY(n,e))}catch(t){throw wO(t)&&409===t.customData.serverCode?yield Mw(n):yield np(n,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function ZY(n){return Ow.apply(this,arguments)}function Ow(){return(Ow=m(function*(n){let e=yield MO(n);for(;1===e.registrationStatus;)yield TO(100),e=yield MO(n);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield kw(n);return r||t}return e})).apply(this,arguments)}function MO(n){return Oc(n,e=>{if(!e)throw qi.create("installation-not-found");return xO(e)})}function xO(n){return function eJ(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function tJ(n,e){return Fw.apply(this,arguments)}function Fw(){return(Fw=m(function*({appConfig:n,platformLoggerProvider:e},t){const r=nJ(n,t),i=CO(n,t),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:_O}})},u=yield bw(()=>fetch(r,a));if(u.ok)return EO(yield u.json());throw yield ww("Generate Auth Token",u)})).apply(this,arguments)}function nJ(n,{fid:e}){return`${vw(n)}/${e}/authTokens:generate`}function Lw(n){return Vw.apply(this,arguments)}function Vw(){return(Vw=m(function*(n,e=!1){let t;const r=yield Oc(n.appConfig,s=>{if(!kO(s))throw qi.create("not-registered");const o=s.authToken;if(!e&&sJ(o))return s;if(1===o.requestStatus)return t=rJ(n,e),s;{if(!navigator.onLine)throw qi.create("app-offline");const a=aJ(s);return t=iJ(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function rJ(n,e){return Uw.apply(this,arguments)}function Uw(){return(Uw=m(function*(n,e){let t=yield NO(n.appConfig);for(;1===t.authToken.requestStatus;)yield TO(100),t=yield NO(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Lw(n,e):r})).apply(this,arguments)}function NO(n){return Oc(n,e=>{if(!kO(e))throw qi.create("not-registered");return function uJ(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function iJ(n,e){return Bw.apply(this,arguments)}function Bw(){return(Bw=m(function*(n,e){try{const t=yield tJ(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield np(n.appConfig,r),t}catch(t){if(!wO(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield np(n.appConfig,r)}else yield Mw(n.appConfig);throw t}})).apply(this,arguments)}function kO(n){return void 0!==n&&2===n.registrationStatus}function sJ(n){return 2===n.requestStatus&&!function oJ(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function aJ(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function jw(){return(jw=m(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield kw(e.appConfig);return r?r.catch(console.error):Lw(e).catch(console.error),t.fid})).apply(this,arguments)}function $w(){return($w=m(function*(n,e=!1){const t=n;return yield dJ(t.appConfig),(yield Lw(t,e)).token})).apply(this,arguments)}function dJ(n){return Hw.apply(this,arguments)}function Hw(){return(Hw=m(function*(n){const{registrationPromise:e}=yield kw(n);e&&(yield e)})).apply(this,arguments)}function zw(n){return qi.create("missing-app-config-values",{valueName:n})}const RO="installations",mJ=n=>{const e=n.getProvider("app").getImmediate(),t=function pJ(n){if(!n||!n.options)throw zw("App Configuration");if(!n.name)throw zw("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw zw(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,platformLoggerProvider:du(e,"platform-logger"),_delete:()=>Promise.resolve()}},yJ=n=>{const t=du(n.getProvider("app").getImmediate(),RO).getImmediate();return{getId:()=>function lJ(n){return jw.apply(this,arguments)}(t),getToken:i=>function cJ(n){return $w.apply(this,arguments)}(t,i)}};(function _J(){$n(new An(RO,mJ,"PUBLIC")),$n(new An("installations-internal",yJ,"PRIVATE"))})(),rt(mO,"0.5.5"),rt(mO,"0.5.5","esm2017");const Ww="@firebase/remote-config",Hn=new gi("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class MJ{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function xJ(n=navigator){return n.languages&&n.languages[0]||n.language}class NJ{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:xJ()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(o,l),d=new Promise((E,w)=>{e.signal.addEventListener(()=>{const A=new Error("The operation was aborted.");A.name="AbortError",w(A)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(E){let w="fetch-client-network";throw"AbortError"===E.name&&(w="fetch-timeout"),Hn.create(w,{originalErrorMessage:E.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,v;if(200===h.status){let E;try{E=yield h.json()}catch(w){throw Hn.create("fetch-client-parse",{originalErrorMessage:w.message})}g=E.entries,v=E.state}if("INSTANCE_STATE_UNSPECIFIED"===v?f=500:"NO_CHANGE"===v?f=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(g={}),304!==f&&200!==f)throw Hn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class PJ{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return m(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return m(function*(){yield function kJ(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function RJ(n){if(!(n instanceof pi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+dw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class LJ{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ip(n,e){const t=n.target.error||void 0;return Hn.create(e,{originalErrorMessage:t&&t.message})}const _o="app_namespace_store";class jJ{constructor(e,t,r,i=function BJ(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(ip(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_o,{keyPath:"compositeKey"})}}catch(t){e(Hn.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([_o],"readonly").objectStore(_o),u=t.createCompositeKey(e);try{const l=a.get(u);l.onerror=c=>{s(ip(c,"storage-get"))},l.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(l){s(Hn.create("storage-get",{originalErrorMessage:l&&l.message}))}})})()}set(e,t){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([_o],"readwrite").objectStore(_o),l=r.createCompositeKey(e);try{const c=u.put({compositeKey:l,value:t});c.onerror=d=>{o(ip(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(Hn.create("storage-set",{originalErrorMessage:c&&c.message}))}})})()}delete(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([_o],"readwrite").objectStore(_o),u=t.createCompositeKey(e);try{const l=a.delete(u);l.onerror=c=>{s(ip(c,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(Hn.create("storage-delete",{originalErrorMessage:l&&l.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class $J{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function qJ(){return Xw.apply(this,arguments)}function Xw(){return(Xw=m(function*(){if(!lu())return!1;try{return yield Xf()}catch(n){return!1}})).apply(this,arguments)}!function HJ(){$n(new An("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Hn.create("registration-window");if(!lu())throw Hn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Hn.create("registration-project-id");if(!o)throw Hn.create("registration-api-key");if(!a)throw Hn.create("registration-app-id");const u=new jJ(a,r.name,t=t||"firebase"),l=new $J(u),c=new cu(Ww);c.logLevel=ve.ERROR;const d=new NJ(i,hu,t,s,o,a),h=new PJ(d,u),f=new MJ(h,u,l,c),p=new LJ(r,f,l,u,c);return function DJ(n){const e=Lt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),rt(Ww,"0.3.4"),rt(Ww,"0.3.4","esm2017")}();const GJ="/firebase-messaging-sw.js",zJ="/firebase-cloud-messaging-push-scope",LO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",VO="google.c.a.c_id",KJ="google.c.a.c_l",QJ="google.c.a.ts",YJ="google.c.a.e";var mu=(()=>{return(n=mu||(mu={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",mu;var n})();function Gi(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function JJ(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Zw="fcm_token_details_db",UO="fcm_token_object_Store";function ZJ(n){return eE.apply(this,arguments)}function eE(){return eE=m(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Zw))return null;let e=null;return(yield(0,fu.openDb)(Zw,5,function(){var r=m(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(UO))return;const o=i.transaction.objectStore(UO),a=yield o.index("fcmSenderId").get(n);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:Gi(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Gi(u.auth),p256dh:Gi(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Gi(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Gi(u.auth),p256dh:Gi(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Gi(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,fu.deleteDb)(Zw),yield(0,fu.deleteDb)("fcm_vapid_details_db"),yield(0,fu.deleteDb)("undefined"),eX(e)?e:null}),eE.apply(this,arguments)}function eX(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const vo="firebase-messaging-store";let tE=null;function nE(){return tE||(tE=(0,fu.openDb)("firebase-messaging-database",1,n=>{0===n.oldVersion&&n.createObjectStore(vo)})),tE}function BO(n){return rE.apply(this,arguments)}function rE(){return(rE=m(function*(n){const e=aE(n),r=yield(yield nE()).transaction(vo).objectStore(vo).get(e);if(r)return r;{const i=yield ZJ(n.appConfig.senderId);if(i)return yield iE(n,i),i}})).apply(this,arguments)}function iE(n,e){return sE.apply(this,arguments)}function sE(){return(sE=m(function*(n,e){const t=aE(n),i=(yield nE()).transaction(vo,"readwrite");return yield i.objectStore(vo).put(e,t),yield i.complete,e})).apply(this,arguments)}function rX(n){return oE.apply(this,arguments)}function oE(){return(oE=m(function*(n){const e=aE(n),r=(yield nE()).transaction(vo,"readwrite");yield r.objectStore(vo).delete(e),yield r.complete})).apply(this,arguments)}function aE({appConfig:n}){return n.appId}const Kt=new gi("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function sX(n,e){return uE.apply(this,arguments)}function uE(){return(uE=m(function*(n,e){const t=yield hE(n),r=$O(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(dE(n.appConfig),i)).json()}catch(o){throw Kt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Kt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Kt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function oX(n,e){return lE.apply(this,arguments)}function lE(){return(lE=m(function*(n,e){const t=yield hE(n),r=$O(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${dE(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw Kt.create("token-update-failed",{errorInfo:o})}if(s.error)throw Kt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Kt.create("token-update-no-token");return s.token})).apply(this,arguments)}function jO(n,e){return cE.apply(this,arguments)}function cE(){return(cE=m(function*(n,e){const r={method:"DELETE",headers:yield hE(n)};try{const s=yield(yield fetch(`${dE(n.appConfig)}/${e}`,r)).json();if(s.error)throw Kt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Kt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function dE({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function hE(n){return fE.apply(this,arguments)}function fE(){return(fE=m(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function $O({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==LO&&(i.web.applicationPubKey=r),i}const aX=6048e5;function uX(n){return pE.apply(this,arguments)}function pE(){return(pE=m(function*(n){const e=yield cX(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Gi(e.getKey("auth")),p256dh:Gi(e.getKey("p256dh"))},r=yield BO(n.firebaseDependencies);if(r){if(dX(r.subscriptionOptions,t))return Date.now()>=r.createTime+aX?lX(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield jO(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return qO(n.firebaseDependencies,t)}return qO(n.firebaseDependencies,t)})).apply(this,arguments)}function HO(n){return gE.apply(this,arguments)}function gE(){return(gE=m(function*(n){const e=yield BO(n.firebaseDependencies);e&&(yield jO(n.firebaseDependencies,e.token),yield rX(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function lX(n,e){return mE.apply(this,arguments)}function mE(){return(mE=m(function*(n,e){try{const t=yield oX(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield iE(n.firebaseDependencies,r),t}catch(t){throw yield HO(n),t}})).apply(this,arguments)}function qO(n,e){return yE.apply(this,arguments)}function yE(){return(yE=m(function*(n,e){const r={token:yield sX(n,e),createTime:Date.now(),subscriptionOptions:e};return yield iE(n,r),r.token})).apply(this,arguments)}function cX(n,e){return _E.apply(this,arguments)}function _E(){return(_E=m(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:JJ(e)})})).apply(this,arguments)}function dX(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function GO(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function hX(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i)}(e,n),function fX(n,e){!e.data||(n.data=e.data)}(e,n),function pX(n,e){if(!e.fcmOptions)return;n.fcmOptions={};const t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);const r=e.fcmOptions.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}(e,n),e}function gX(n){return"object"==typeof n&&!!n&&VO in n}function zO(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function vE(n){return Kt.create("missing-app-config-values",{valueName:n})}zO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class yX{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function mX(n){if(!n||!n.options)throw vE("App Configuration Object");if(!n.name)throw vE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw vE(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function WO(n){return wE.apply(this,arguments)}function wE(){return(wE=m(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(GJ,{scope:zJ}),n.swRegistration.update().catch(()=>{})}catch(e){throw Kt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function _X(n,e){return EE.apply(this,arguments)}function EE(){return(EE=m(function*(n,e){if(!e&&!n.swRegistration&&(yield WO(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Kt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function vX(n,e){return bE.apply(this,arguments)}function bE(){return(bE=m(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=LO)})).apply(this,arguments)}function CE(){return(CE=m(function*(n,e){if(!navigator)throw Kt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kt.create("permission-blocked");return yield vX(n,null==e?void 0:e.vapidKey),yield _X(n,null==e?void 0:e.serviceWorkerRegistration),uX(n)})).apply(this,arguments)}function wX(n,e,t){return TE.apply(this,arguments)}function TE(){return(TE=m(function*(n,e,t){const r=EX(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[VO],message_name:t[KJ],message_time:t[QJ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function EX(n){switch(n){case mu.NOTIFICATION_CLICKED:return"notification_open";case mu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function IE(){return(IE=m(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===mu.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(GO(t)):n.onMessageHandler.next(GO(t)));const r=t.data;gX(r)&&"1"===r[YJ]&&(yield wX(n,t.messageType,r))})).apply(this,arguments)}const QO="@firebase/messaging",CX=n=>{const e=new yX(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function bX(n,e){return IE.apply(this,arguments)}(e,t)),e},TX=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function KO(n,e){return CE.apply(this,arguments)}(e,r)}};function JO(){return DE.apply(this,arguments)}function DE(){return(DE=m(function*(){return"undefined"!=typeof window&&lu()&&(yield Xf())&&uw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function IX(){$n(new An("messaging",CX,"PUBLIC")),$n(new An("messaging-internal",TX,"PRIVATE")),rt(QO,"0.9.7"),rt(QO,"0.9.7","esm2017")}();const sp="analytics",AX="firebase_id",NX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",XO="https://www.googletagmanager.com/gtag/js",Qt=new cu("@firebase/analytics");function ZO(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function kX(n,e){const t=document.createElement("script");t.src=`${XO}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function PX(n,e,t,r,i,s){return ME.apply(this,arguments)}function ME(){return(ME=m(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield ZO(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){Qt.error(a)}n("config",i,s)})).apply(this,arguments)}function OX(n,e,t,r,i){return xE.apply(this,arguments)}function xE(){return(xE=m(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield ZO(t);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Qt.error(s)}})).apply(this,arguments)}function VX(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(XO))return e;return null}const sr=new gi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),eF=new class $X{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function HX(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function qX(n){return NE.apply(this,arguments)}function NE(){return(NE=m(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:HX(r)},s=NX.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw sr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function GX(n){return kE.apply(this,arguments)}function kE(){return(kE=m(function*(n,e=eF,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw sr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw sr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new KX;return setTimeout(m(function*(){a.abort()}),void 0!==t?t:6e4),tF({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function tF(n,e,t){return RE.apply(this,arguments)}function RE(){return(RE=m(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=eF){const{appId:s,measurementId:o}=n;try{yield zX(r,e)}catch(a){if(o)return Qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield qX(n);return i.deleteThrottleMetadata(s),a}catch(a){if(!WX(a)){if(i.deleteThrottleMetadata(s),o)return Qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?dw(t,i.intervalMillis,30):dw(t,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(s,l),Qt.debug(`Calling attemptFetch again in ${u} millis`),tF(n,l,r,i)}})).apply(this,arguments)}function zX(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(sr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WX(n){if(!(n instanceof pi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class KX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function QX(){return PE.apply(this,arguments)}function PE(){return(PE=m(function*(){if(!lu())return Qt.warn(sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Xf()}catch(n){return Qt.warn(sr.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0})).apply(this,arguments)}function OE(){return(OE=m(function*(n,e,t,r,i,s,o){var a;const u=GX(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Qt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Qt.error(f)),e.push(u);const l=QX().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);VX()||kX(s,c.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[AX]=d),i("config",c.measurementId,h),c.measurementId})).apply(this,arguments)}class JX{constructor(e){this.app=e}_delete(){return delete zi[this.app.options.appId],Promise.resolve()}}let zi={},nF=[];const rF={};let sF,Fc,op="dataLayer",FE=!1;function ZX(n,e,t){!function XX(){const n=[];if(Jf()&&n.push("This is a browser extension environment."),uw()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=sr.create("invalid-analytics-context",{errorInfo:e});Qt.warn(t.message)}}();const r=n.options.appId;if(!r)throw sr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw sr.create("no-api-key");Qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zi[r])throw sr.create("already-exists",{id:r});if(!FE){!function RX(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(op);const{wrappedGtag:s,gtagCore:o}=function LX(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function FX(n,e,t,r){function s(){return(s=m(function*(o,a,u){try{"event"===o?yield OX(n,e,t,a,u):"config"===o?yield PX(n,e,t,r,a,u):n("set",a)}catch(l){Qt.error(l)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(zi,nF,rF,op,"gtag");Fc=s,sF=o,FE=!0}return zi[r]=function YX(n,e,t,r,i,s,o){return OE.apply(this,arguments)}(n,nF,rF,e,sF,op,t),new JX(n)}function LE(){return(LE=m(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function oZ(){return $E.apply(this,arguments)}function $E(){return($E=m(function*(){if(Jf()||!uw()||!lu())return!1;try{return yield Xf()}catch(n){return!1}})).apply(this,arguments)}const oF="@firebase/analytics";!function uZ(){$n(new An(sp,(e,{options:t})=>ZX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),$n(new An("analytics-internal",function n(e){try{const t=e.getProvider(sp).getImmediate();return{logEvent:(r,i,s)=>function aZ(n,e,t,r){n=Lt(n),function eZ(n,e,t,r,i){return LE.apply(this,arguments)}(Fc,zi[n.app.options.appId],e,t,r).catch(i=>Qt.error(i))}(t,r,i,s)}}catch(t){throw sr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),rt(oF,"0.7.5"),rt(oF,"0.7.5","esm2017")}();class lZ extends ct{constructor(e,t){super()}schedule(e,t=0){return this}}const ap={setInterval(...n){const{delegate:e}=ap;return((null==e?void 0:e.setInterval)||setInterval)(...n)},clearInterval(n){const{delegate:e}=ap;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class uF extends lZ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return ap.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;ap.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Jo(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const HE={now:()=>(HE.delegate||Date).now(),delegate:void 0};class Lc{constructor(e,t=Lc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Lc.now=HE.now;class lF extends Lc{constructor(e,t=Lc.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const hZ=new class dZ extends lF{}(class cZ extends uF{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),fZ=new lF(uF),up=new qa("7.2.0"),qE="__angularfire_symbol__analyticsIsSupported",GE="__angularfire_symbol__remoteConfigIsSupported",zE="__angularfire_symbol__messagingIsSupported";function KE(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[qE]||(globalThis[qE]=oZ().then(n=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=n)),globalThis[zE]||(globalThis[zE]=JO().then(n=>globalThis.__angularfire_symbol__messagingIsSupportedValue=n)),globalThis[GE]||(globalThis[GE]=qJ().then(n=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=n));const QE=(n,e)=>{const t=e?[e]:gO(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function yu(){}class fF{constructor(e,t=hZ){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class pZ{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yu,{},yu,yu)),t.pipe(jn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let YE=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new fF(Zone.current)),this.insideAngular=t.run(()=>new fF(Zone.current,fZ)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(F(He))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wo(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function gZ(n){return wo().ngZone.runOutsideAngular(()=>n())}function Eo(n){return wo().ngZone.run(()=>n())}function mZ(n){return wo(),function yZ(n){return function(t){return(t=t.lift(new pZ(n.ngZone))).pipe(Wd(n.outsideAngular),zd(n.insideAngular))}}(wo())(n)}const _Z=(n,e)=>{const t=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Eo(()=>n.apply(t,arguments))}},or=(n,e)=>function(){let t;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(t||(t=Eo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yu,{},yu,yu)))),arguments[i]=_Z(arguments[i],t));const r=gZ(()=>n.apply(this,arguments));if(!e){if(r instanceof Re){const i=wo();return r.pipe(Wd(i.outsideAngular),zd(i.insideAngular))}return Eo(()=>r)}return r instanceof Re?r.pipe(mZ):r instanceof Promise?Eo(()=>new Promise((i,s)=>r.then(o=>Eo(()=>i(o)),o=>Eo(()=>s(o))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:Eo(()=>r)};class _u{constructor(e){return e}}class JE{constructor(){return gO()}}const XE=new X("angularfire2._apps"),wZ={provide:_u,useFactory:function vZ(n){return n&&1===n.length?n[0]:new _u(mw())},deps:[[new at,XE]]},EZ={provide:JE,deps:[[new at,XE]]};function bZ(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new _u(r)}}let CZ=(()=>{class n{constructor(t){rt("angularfire",up.full,"core"),rt("angularfire",up.full,"app"),rt("angular",Bx.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(F(Ya))},n.\u0275mod=on({type:n}),n.\u0275inj=zt({providers:[wZ,EZ]}),n})();function TZ(n,...e){return{ngModule:CZ,providers:[{provide:XE,useFactory:bZ(n),multi:!0,deps:[He,ft,YE,...e]}]}}const IZ=or(MY,!0),pF=new Map,DZ={activated:!1,tokenObservers:[]},SZ={initialized:!1,enabled:!1};function Vt(n){return pF.get(n)||DZ}function zr(n,e){pF.set(n,e)}function lp(){return SZ}class kZ{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return m(function*(){t.stop();try{t.pending=new aw,yield function RZ(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new aw,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Mn=new gi("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mF(n){if(!Vt(n).activated)throw Mn.create("use-before-activation",{appName:n.name})}function tb(n,e){return nb.apply(this,arguments)}function nb(){return(nb=m(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw Mn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw Mn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Mn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Mn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(u[1]),c=Date.now();return{token:a.attestationToken,expireTimeMillis:c+l,issuedAtTimeMillis:c}})).apply(this,arguments)}function VZ(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Vc="firebase-app-check-store";let hp=null;function _F(){return hp||(hp=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Mn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Vc,{keyPath:"compositeKey"})}}catch(t){e(Mn.create("storage-open",{originalErrorMessage:t.message}))}}),hp)}function rb(){return(rb=m(function*(n,e){const r=(yield _F()).transaction(Vc,"readwrite"),s=r.objectStore(Vc).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(Mn.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const Uc=new cu("@firebase/app-check");function bF(n,e){return lu()?function $Z(n,e){return function vF(n,e){return rb.apply(this,arguments)}(function EF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Uc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function CF(){return lp().enabled}function TF(){return ab.apply(this,arguments)}function ab(){return(ab=m(function*(){const n=lp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const KZ={error:"UNKNOWN_ERROR"};function QZ(n){return sw.encodeString(JSON.stringify(n),!1)}function fp(n){return ub.apply(this,arguments)}function ub(){return(ub=m(function*(n,e=!1){const t=n.app;mF(t);const r=Vt(t);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&pp(u)&&(i=u)}if(!e&&i&&pp(i))return{token:i.token};let a,o=!1;if(CF()){r.exchangeTokenPromise||(r.exchangeTokenPromise=tb(VZ(t,yield TF()),n.platformLoggerProvider).then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0);const u=yield r.exchangeTokenPromise;return yield bF(t,u),zr(t,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Uc.warn(u.message):Uc.error(u),s=u}return i?(a={token:i.token},zr(t,Object.assign(Object.assign({},r),{token:i})),yield bF(t,i)):a=JZ(s),o&&DF(t,a),a})).apply(this,arguments)}function cb(n,e){const t=Vt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),zr(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function IF(n){const{app:e}=n,t=Vt(e);let r=t.tokenRefresher;r||(r=function YZ(n){const{app:e}=n;return new kZ(m(function*(){let r;if(r=Vt(e).token?yield fp(n,!0):yield fp(n),r.error)throw r.error}),()=>!0,()=>{const t=Vt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),zr(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function DF(n,e){const t=Vt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function pp(n){return n.expireTimeMillis-Date.now()>0}function JZ(n){return{token:QZ(KZ),error:n}}class XZ{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Vt(this.app);for(const t of e)cb(this.app,t.next);return Promise.resolve()}}const PF="app-check-internal";!function hee(){$n(new An("app-check",n=>function ZZ(n,e){return new XZ(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(PF).initialize()})),$n(new An(PF,n=>function eee(n){return{getToken:e=>fp(n,e),addTokenListener:e=>function lb(n,e,t,r){const{app:i}=n,s=Vt(i),o={next:t,error:r,type:e};if(zr(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&pp(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),IF(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>IF(n))}(n,"INTERNAL",e),removeTokenListener:e=>cb(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),rt("@firebase/app-check","0.5.3")}();class pb{constructor(){return QE("app-check")}}"undefined"!=typeof window&&window;const yee=function FF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},LF=new gi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),VF=new cu("@firebase/auth");function mp(n,...e){VF.logLevel<=ve.ERROR&&VF.error(`Auth (9.6.5): ${n}`,...e)}function qn(n,...e){throw mb(n,...e)}function mi(n,...e){return mb(n,...e)}function UF(n,e,t){const r=Object.assign(Object.assign({},yee()),{[e]:t});return new gi("auth","Firebase",r).create(e,{appName:n.name})}function vu(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&qn(n,"argument-error"),UF(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mb(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return LF.create(n,...e)}function N(n,e,...t){if(!n)throw mb(e,...t)}function yi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mp(e),new Error(e)}function Ss(n,e){n||yi(e)}const BF=new Map;function Wi(n){Ss(n instanceof Function,"Expected a class definition");let e=BF.get(n);return e?(Ss(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,BF.set(n,e),e)}function Bc(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function jF(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class jc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ss(t>e,"Short delay should be less than long delay!"),this.isMobile=uO()||lO()}get(){return function wee(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function yb(){return"http:"===jF()||"https:"===jF()}()||Jf()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _b(n,e){Ss(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class $F{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Cee=new jc(3e4,6e4);function Dt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ut(n,e,t,r){return vb.apply(this,arguments)}function vb(){return(vb=m(function*(n,e,t,r,i={}){return HF(n,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Nc(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),$F.fetch()(qF(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function HF(n,e,t){return wb.apply(this,arguments)}function wb(){return(wb=m(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},bee),e);try{const i=new Tee(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw yp(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw yp(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw yp(n,"email-already-in-use",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw UF(n,c,l);qn(n,c)}}catch(i){if(i instanceof pi)throw i;qn(n,"network-request-failed")}})).apply(this,arguments)}function Ki(n,e,t,r){return Eb.apply(this,arguments)}function Eb(){return(Eb=m(function*(n,e,t,r,i={}){const s=yield Ut(n,e,t,r,i);return"mfaPendingCredential"in s&&qn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function qF(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?_b(n.config,i):`${n.config.apiScheme}://${i}`}class Tee{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(mi(this.auth,"network-request-failed")),Cee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=mi(n,e,r);return i.customData._tokenResponse=t,i}function bb(){return(bb=m(function*(n,e){return Ut(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function See(n,e){return Tb.apply(this,arguments)}function Tb(){return(Tb=m(function*(n,e){return Ut(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function $c(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Ib(){return(Ib=m(function*(n,e=!1){const t=Lt(n),r=yield t.getIdToken(e),i=_p(r);N(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$c(Db(i.auth_time)),issuedAtTime:$c(Db(i.iat)),expirationTime:$c(Db(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function Db(n){return 1e3*Number(n)}function _p(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return mp("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(n){try{return sw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t);return i?JSON.parse(i):(mp("Failed to decode base64 JWT payload"),null)}catch(i){return mp("Caught error parsing JWT payload as JSON",i),null}}function Qi(n,e){return Sb.apply(this,arguments)}function Sb(){return(Sb=m(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof pi&&xee(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function xee({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Nee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield t.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class GF{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$c(this.lastLoginAt),this.creationTime=$c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hc(n){return Ab.apply(this,arguments)}function Ab(){return(Ab=m(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Qi(n,See(t,{idToken:r}));N(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?Pee(s.providerUserInfo):[],a=Ree(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new GF(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)})).apply(this,arguments)}function Mb(){return(Mb=m(function*(n){const e=Lt(n);yield Hc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ree(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Pee(n){return n.map(e=>{var{providerId:t}=e,r=Qf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function xb(){return(xb=m(function*(n,e){const t=yield HF(n,{},m(function*(){const r=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=qF(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$F.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class qc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(void 0!==e.idToken,"internal-error"),N(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function Mee(n){const e=_p(n);return N(e,"internal-error"),N(void 0!==e.exp,"internal-error"),N(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return m(function*(){return N(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Oee(n,e){return xb.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new qc;return r&&(N("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(N("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(N("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qc,this.toJSON())}_performRefresh(){return yi("not implemented")}}function As(n,e){N("string"==typeof n||void 0===n,"internal-error",{appName:e})}class bo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Qf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Nee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new GF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return m(function*(){const r=yield Qi(t,t.stsTokenManager.getToken(t.auth,e));return N(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Aee(n){return Ib.apply(this,arguments)}(this,e)}reload(){return function kee(n){return Mb.apply(this,arguments)}(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new bo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Hc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const t=yield e.getIdToken();return yield Qi(e,function Iee(n,e){return bb.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,v=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,E=null!==(l=t.createdAt)&&void 0!==l?l:void 0,w=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:A,emailVerified:k,isAnonymous:z,providerData:Se,stsTokenManager:Ne}=t;N(A&&Ne,e,"internal-error");const Pn=qc.fromJSON(this.name,Ne);N("string"==typeof A,e,"internal-error"),As(d,e.name),As(h,e.name),N("boolean"==typeof k,e,"internal-error"),N("boolean"==typeof z,e,"internal-error"),As(f,e.name),As(p,e.name),As(g,e.name),As(v,e.name),As(E,e.name),As(w,e.name);const rn=new bo({uid:A,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:z,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Pn,createdAt:E,lastLoginAt:w});return Se&&Array.isArray(Se)&&(rn.providerData=Se.map(On=>Object.assign({},On))),v&&(rn._redirectEventId=v),rn}static _fromIdTokenResponse(e,t,r=!1){return m(function*(){const i=new qc;i.updateFromServerResponse(t);const s=new bo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Hc(s),s})()}}const zF=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(t,r){var i=this;return m(function*(){i.storage[t]=r})()}_get(t){var r=this;return m(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return m(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function vp(n,e,t){return`firebase:${n}:${e}:${t}`}class wu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=vp(this.userKey,i.apiKey,s),this.fullPersistenceKey=vp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?bo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return m(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return m(function*(){if(!t.length)return new wu(Wi(zF),e,r);const i=(yield Promise.all(t.map(function(){var l=m(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Wi(zF);const o=vp(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const c=yield l._get(o);if(c){const d=bo._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch(c){}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=m(function*(c){if(c!==s)try{yield c._remove(o)}catch(d){}});return function(c){return l.apply(this,arguments)}}())),new wu(s,e,r)):new wu(s,e,r)})()}}function WF(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XF(e))return"Blackberry";if(ZF(e))return"Webos";if(Nb(e))return"Safari";if((e.includes("chrome/")||QF(e))&&!e.includes("edge/"))return"Chrome";if(JF(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function KF(n=Ft()){return/firefox\//i.test(n)}function Nb(n=Ft()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QF(n=Ft()){return/crios\//i.test(n)}function YF(n=Ft()){return/iemobile/i.test(n)}function JF(n=Ft()){return/android/i.test(n)}function XF(n=Ft()){return/blackberry/i.test(n)}function ZF(n=Ft()){return/webos/i.test(n)}function wp(n=Ft()){return/iphone|ipad|ipod/i.test(n)}function eL(n=Ft()){return wp(n)||JF(n)||ZF(n)||XF(n)||/windows phone/i.test(n)||YF(n)}function tL(n,e=[]){let t;switch(n){case"Browser":t=WF(Ft());break;case"Worker":t=`${WF(Ft())}-${n}`;break;default:t=n}return`${t}/JsCore/9.6.5/${e.length?e.join(","):"FirebaseCore-web"}`}class Uee{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nL(this),this.idTokenSubscription=new nL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LF,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Wi(t)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield wu.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return m(function*(){var r;let i=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const s=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield t.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(N(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===i._redirectEventId?t.directlySetCurrentUser(i):t.reloadAndSetCurrentUserOrClear(i)):t.reloadAndSetCurrentUserOrClear(i):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return m(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return m(function*(){try{yield Hc(e)}catch(r){if("auth/network-request-failed"!==r.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Eee(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return m(function*(){const r=e?Lt(e):null;return r&&N(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return m(function*(){if(!t._deleted)return e&&N(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue(m(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue(m(function*(){yield t.assertedPersistence.setPersistence(Wi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return m(function*(){if(!t.redirectPersistenceManager){const r=e&&Wi(e)||t._popupRedirectResolver;N(r,t,"argument-error"),t.redirectPersistenceManager=yield wu.create(t,[Wi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return m(function*(){var r,i;return t._isInitialized&&(yield t.queue(m(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return m(function*(){if(e===t.currentUser)return t.queue(m(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return N(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return m(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){const t={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(t["X-Firebase-gmpid"]=e.app.options.appId),t})()}}function Gn(n){return Lt(n)}class nL{constructor(e){this.auth=e,this.observer=null,this.addObserver=function LQ(n,e){const t=new VQ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class kb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,t){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}function Pb(){return(Pb=m(function*(n,e){return Ut(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Fb(){return(Fb=m(function*(n,e){return Ki(n,"POST","/v1/accounts:signInWithPassword",Dt(n,e))})).apply(this,arguments)}function $b(){return($b=m(function*(n,e){return Ki(n,"POST","/v1/accounts:signInWithEmailLink",Dt(n,e))})).apply(this,arguments)}function Hb(){return(Hb=m(function*(n,e){return Ki(n,"POST","/v1/accounts:signInWithEmailLink",Dt(n,e))})).apply(this,arguments)}class Gc extends kb{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Gc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Gc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return m(function*(){switch(t.signInMethod){case"password":return function Hee(n,e){return Fb.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function Kee(n,e){return $b.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:qn(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return m(function*(){switch(r.signInMethod){case"password":return function oL(n,e){return Pb.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Qee(n,e){return Hb.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:qn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Yi(n,e){return qb.apply(this,arguments)}function qb(){return(qb=m(function*(n,e){return Ki(n,"POST","/v1/accounts:signInWithIdp",Dt(n,e))})).apply(this,arguments)}class Eu extends kb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Eu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Qf(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Eu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Yi(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Yi(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nc(t)}return e}}class Wc{constructor(e){var t,r,i,s,o,a;const u=kc(Rc(e)),l=null!==(t=u.apiKey)&&void 0!==t?t:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function nte(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);N(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function rte(n){const e=kc(Rc(n)).link,t=e?kc(Rc(e)).deep_link_id:null,r=kc(Rc(n)).deep_link_id;return(r?kc(Rc(r)).link:null)||r||t||e||n}(e);try{return new Wc(t)}catch(r){return null}}}let aL=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Gc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=Wc.parseLink(r);return N(i,"argument-error"),Gc._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Ms{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uL extends Ms{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let ite=(()=>{class n extends uL{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Eu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch(s){return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();function lL(n,e){return Yb.apply(this,arguments)}function Yb(){return(Yb=m(function*(n,e){return Ki(n,"POST","/v1/accounts:signUp",Dt(n,e))})).apply(this,arguments)}class Tr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return m(function*(){const s=yield bo._fromIdTokenResponse(e,r,i),o=cL(r);return new Tr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=cL(r);return new Tr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function cL(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Cp extends pi{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Cp(e,t,r,i)}}function dL(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Cp._fromErrorAndOperation(n,s,e,r):s})}function Zb(n,e){return eC.apply(this,arguments)}function eC(){return(eC=m(function*(n,e,t=!1){const r=yield Qi(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Tr._forOperation(n,"link",r)})).apply(this,arguments)}function nC(){return(nC=m(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Qi(n,dL(r,i,e,n),t);N(s.idToken,r,"internal-error");const o=_p(s.idToken);N(o,r,"internal-error");const{sub:a}=o;return N(n.uid===a,r,"user-mismatch"),Tr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&qn(r,"user-mismatch"),s}})).apply(this,arguments)}function pL(n,e){return rC.apply(this,arguments)}function rC(){return(rC=m(function*(n,e,t=!1){const r="signIn",i=yield dL(n,r,e),s=yield Tr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function sC(){return(sC=m(function*(n,e){return pL(Gn(n),e)})).apply(this,arguments)}function dte(n,e,t){return yC.apply(this,arguments)}function yC(){return(yC=m(function*(n,e,t){const r=Gn(n),i=yield lL(r,{returnSecureToken:!0,email:e,password:t}),s=yield Tr._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function hte(n,e,t){return function iC(n,e){return sC.apply(this,arguments)}(Lt(n),aL.credential(e,t))}function Ete(n){return Lt(n).signOut()}const Dp="__sak";class mL{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dp,"1"),this.storage.removeItem(Dp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ate=(()=>{class n extends mL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ite(){const n=Ft();return Nb(n)||wp(n)}()&&function Vee(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=eL(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Lee(){return cO()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),yL=(()=>{class n extends mL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let xte=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return m(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(u).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function Mte(n){return Promise.all(n.map(function(){var e=m(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function kC(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Nte{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return m(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,l)=>{const c=kC("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function St(){return window}function RC(){return void 0!==St().WorkerGlobalScope&&"function"==typeof St().importScripts}function PC(){return(PC=m(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const _L="firebaseLocalStorageDb",Sp="firebaseLocalStorage",vL="fbase_key";class Qc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ap(n,e){return n.transaction([Sp],e?"readwrite":"readonly").objectStore(Sp)}function OC(){const n=indexedDB.open(_L,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Sp,{keyPath:vL})}catch(i){t(i)}}),n.addEventListener("success",m(function*(){const r=n.result;r.objectStoreNames.contains(Sp)?e(r):(r.close(),yield function Lte(){const n=indexedDB.deleteDatabase(_L);return new Qc(n).toPromise()}(),e(yield OC()))}))})}function wL(n,e,t){return FC.apply(this,arguments)}function FC(){return(FC=m(function*(n,e,t){const r=Ap(n,!0).put({[vL]:e,value:t});return new Qc(r).toPromise()})).apply(this,arguments)}function LC(){return(LC=m(function*(n,e){const t=Ap(n,!1).get(e),r=yield new Qc(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function EL(n,e){const t=Ap(n,!0).delete(e);return new Qc(t).toPromise()}const jte=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return m(function*(){return t.db||(t.db=yield OC()),t.db})()}_withRetries(t){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return m(function*(){return RC()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return m(function*(){t.receiver=xte._getInstance(function Ote(){return RC()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return m(function*(){var r,i;if(t.activeServiceWorker=yield function Rte(){return PC.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Nte(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function Pte(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const t=yield OC();return yield wL(t,Dp,"1"),yield EL(t,Dp),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return m(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>wL(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return m(function*(){const i=yield r._withRetries(s=>function Vte(n,e){return LC.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>EL(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return m(function*(){const r=yield t._withRetries(o=>{const a=Ap(o,!1).getAll();return new Qc(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function CL(n){return`__${n}${Math.floor(1e6*Math.random())}`}function To(n,e){return e?Wi(e):(N(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}CL("rcb"),new jc(3e4,6e4);class WC extends kb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ine(n){return pL(n.auth,new WC(n),n.bypassAuthState)}function sne(n){const{auth:e,user:t}=n;return N(t,e,"internal-error"),function fL(n,e){return nC.apply(this,arguments)}(t,new WC(n),n.bypassAuthState)}function one(n){return KC.apply(this,arguments)}function KC(){return(KC=m(function*(n){const{auth:e,user:t}=n;return N(t,e,"internal-error"),Zb(t,new WC(n),n.bypassAuthState)})).apply(this,arguments)}new jc(2e3,1e4);const xp=new Map;class lne extends class ane{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(l))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ine;case"linkViaPopup":case"linkViaRedirect":return one;case"reauthViaPopup":case"reauthViaRedirect":return sne;default:qn(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return m(function*(){let r=xp.get(t.auth._key());if(!r){try{const s=(yield function cne(n,e){return ZC.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}xp.set(t.auth._key(),r)}return t.bypassAuthState||xp.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function ZC(){return(ZC=m(function*(n,e){const t=DL(e),r=IL(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function eT(n,e){return tT.apply(this,arguments)}function tT(){return(tT=m(function*(n,e){return IL(n)._set(DL(e),"true")})).apply(this,arguments)}function IL(n){return Wi(n._redirectPersistence)}function DL(n){return vp("pendingRedirect",n.config.apiKey,n.name)}function dne(n,e,t){return function hne(n,e,t){return nT.apply(this,arguments)}(n,e,t)}function nT(){return(nT=m(function*(n,e,t){const r=Gn(n);vu(n,e,Ms);const i=To(r,t);return yield eT(i,r),i._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function SL(n,e){return oT.apply(this,arguments)}function oT(){return(oT=m(function*(n,e,t=!1){const r=Gn(n),i=To(r,e),o=yield new lne(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class mne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function yne(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xL(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!xL(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(mi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ML(e))}saveEventToCache(e){this.cachedEventUids.add(ML(e)),this.lastProcessedEventTime=Date.now()}}function ML(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function xL({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function _ne(n){return uT.apply(this,arguments)}function uT(){return(uT=m(function*(n,e={}){return Ut(n,"GET","/v1/projects",e)})).apply(this,arguments)}const vne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wne=/^https?/;function lT(){return(lT=m(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield _ne(n);for(const t of e)try{if(bne(t))return}catch(r){}qn(n,"unauthorized-domain")})).apply(this,arguments)}function bne(n){const e=Bc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!wne.test(t))return!1;if(vne.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Cne=new jc(3e4,6e4);function NL(){const n=St().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Np=null;function Ine(n){return Np=Np||function Tne(n){return new Promise((e,t)=>{var r,i,s;function o(){NL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NL(),t(mi(n,"network-request-failed"))},timeout:Cne.get()})}if(null===(i=null===(r=St().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=St().gapi)||void 0===s?void 0:s.load)){const a=CL("iframefcb");return St()[a]=()=>{gapi.load?o():t(mi(n,"network-request-failed"))},function bL(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=mi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function Gte(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw Np=null,e})}(n),Np}const Dne=new jc(5e3,15e3),Mne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nne(n){const e=n.config;N(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?_b(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:hu},i=xne.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Nc(r).slice(1)}`}function cT(){return cT=m(function*(n){const e=yield Ine(n),t=St().gapi;return N(t,n,"internal-error"),e.open({where:document.body,url:Nne(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mne,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=mi(n,"network-request-failed"),u=St().setTimeout(()=>{o(a)},Dne.get());function l(){St().clearTimeout(u),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),cT.apply(this,arguments)}const Rne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class kL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function RL(n,e,t,r,i,s){N(n.config.authDomain,n,"auth-domain-config-required"),N(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:hu,eventId:i};if(e instanceof Ms){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function FQ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(s||{}))o[u]=l}if(e instanceof uL){const u=e.getScopes().filter(l=>""!==l);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function $ne({config:n}){return n.emulator?_b(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Nc(a).slice(1)}`}const dT="webStorageSupport",qne=class Hne{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yL,this._completeRedirectFn=SL}_openPopup(e,t,r,i){var s=this;return m(function*(){var o;Ss(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=RL(e,t,r,Bc(),i);return function Vne(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Rne),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ft().toLowerCase();t&&(a=QF(l)?"_blank":t),KF(l)&&(e=e||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Fee(n=Ft()){var e;return wp(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function Une(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new kL(null);const d=window.open(e||"",a,c);N(d,n,"popup-blocked");try{d.focus()}catch(h){}return new kL(d)}(e,a,kC())})()}_openRedirect(e,t,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function kte(n){St().location.href=n}(RL(e,t,r,Bc(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ss(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return m(function*(){const r=yield function kne(n){return cT.apply(this,arguments)}(e),i=new mne(e);return r.register("authEvent",s=>(N(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dT,{type:dT},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[dT];void 0!==o&&t(!!o),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Ene(n){return lT.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eL()||Nb()||wp()}};var OL="@firebase/auth";class Gne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return m(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Kne(n=mw()){const e=du(n,"auth");return e.isInitialized()?e.getImmediate():function _ee(n,e){const t=du(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(ep(t.getOptions(),null!=e?e:{}))return i;qn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:qne,persistence:[jte,Ate,yL]})}function Qne(n){return new Re(function(e){var t=function wte(n,e,t,r){return Lt(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}!function Wne(n){$n(new An("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{N(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),N(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tL(n)},u=new Uee(o,a);return function vee(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Wi);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,t),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),$n(new An("auth-internal",e=>{const t=Gn(e.getProvider("auth").getImmediate());return new Gne(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rt(OL,"0.19.7",function zne(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),rt(OL,"0.19.7","esm2017")}("Browser");class kp{constructor(e){return e}}class VL{constructor(){return QE("auth")}}const hT=new X("angularfire2.auth-instances");function Xne(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new kp(r)}}const Zne={provide:VL,deps:[[new at,hT]]},ere={provide:kp,useFactory:function Jne(n,e){const t=KE("auth",n,e);return t&&new kp(t)},deps:[[new at,hT],_u]};let tre=(()=>{class n{constructor(){rt("angularfire",up.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({providers:[ere,Zne]}),n})();function nre(n,...e){return{ngModule:tre,providers:[{provide:hT,useFactory:Xne(n),multi:!0,deps:[He,ft,YE,JE,[new at,pb],...e]}]}}const rre=or(Qne,!0),ire=or(dte,!0),sre=or(Kne,!0),ore=or(hte,!0),are=or(dne,!0),ure=or(Ete,!0);var V,lre="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ji={},fT=fT||{},Z=lre||self;function Rp(){}function pT(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Yc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var gT="closure_uid_"+(1e9*Math.random()>>>0),dre=0;function hre(n,e,t){return n.call.apply(n.bind,arguments)}function fre(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Yt(n,e,t){return(Yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hre:fre).apply(null,arguments)}function Pp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Jt(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function xs(){this.s=this.s,this.o=this.o}var gre={};xs.prototype.s=!1,xs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function cre(n){return Object.prototype.hasOwnProperty.call(n,gT)&&n[gT]||(n[gT]=++dre)}(this);delete gre[n]}},xs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const UL=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},BL=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function jL(n){return Array.prototype.concat.apply([],arguments)}function mT(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Op(n){return/^[\s\xa0]*$/.test(n)}var Nn,$L=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function xn(n,e){return-1!=n.indexOf(e)}function yT(n,e){return n<e?-1:n>e?1:0}e:{var HL=Z.navigator;if(HL){var qL=HL.userAgent;if(qL){Nn=qL;break e}}Nn=""}function _T(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function GL(n){const e={};for(const t in n)e[t]=n[t];return e}var zL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WL(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<zL.length;s++)t=zL[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function vT(n){return vT[" "](n),n}vT[" "]=Rp;var Fp,n,_re=xn(Nn,"Opera"),bu=xn(Nn,"Trident")||xn(Nn,"MSIE"),KL=xn(Nn,"Edge"),wT=KL||bu,QL=xn(Nn,"Gecko")&&!(xn(Nn.toLowerCase(),"webkit")&&!xn(Nn,"Edge"))&&!(xn(Nn,"Trident")||xn(Nn,"MSIE"))&&!xn(Nn,"Edge"),vre=xn(Nn.toLowerCase(),"webkit")&&!xn(Nn,"Edge");function YL(){var n=Z.document;return n?n.documentMode:void 0}e:{var ET="",bT=(n=Nn,QL?/rv:([^\);]+)(\)|;)/.exec(n):KL?/Edge\/([\d\.]+)/.exec(n):bu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):vre?/WebKit\/(\S+)/.exec(n):_re?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(bT&&(ET=bT?bT[1]:""),bu){var CT=YL();if(null!=CT&&CT>parseFloat(ET)){Fp=String(CT);break e}}Fp=ET}var wre={};var bre=Z.document&&bu&&(YL()||parseInt(Fp,10))||void 0,Cre=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Z.addEventListener("test",Rp,e),Z.removeEventListener("test",Rp,e)}catch(t){}return n}();function fn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Jc(n,e){if(fn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(QL){e:{try{vT(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Tre[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Jc.Z.h.call(this)}}fn.prototype.h=function(){this.defaultPrevented=!0},Jt(Jc,fn);var Tre={2:"touch",3:"pen",4:"mouse"};Jc.prototype.h=function(){Jc.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xc="closure_listenable_"+(1e6*Math.random()|0),Ire=0;function Dre(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++Ire,this.ca=this.fa=!1}function Lp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Vp(n){this.src=n,this.g={},this.h=0}function IT(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=UL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Lp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function DT(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}Vp.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=DT(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new Dre(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var ST="closure_lm_"+(1e6*Math.random()|0),AT={};function XL(n,e,t,r,i){if(r&&r.once)return eV(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)XL(n,e[s],t,r,i);return null}return t=kT(t),n&&n[Xc]?n.N(e,t,Yc(r)?!!r.capture:!!r,i):ZL(n,e,t,!1,r,i)}function ZL(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Yc(i)?!!i.capture:!!i,a=xT(n);if(a||(n[ST]=a=new Vp(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Sre(){var e=Are;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Cre||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(nV(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function eV(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)eV(n,e[s],t,r,i);return null}return t=kT(t),n&&n[Xc]?n.O(e,t,Yc(r)?!!r.capture:!!r,i):ZL(n,e,t,!0,r,i)}function tV(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)tV(n,e[s],t,r,i);else r=Yc(r)?!!r.capture:!!r,t=kT(t),n&&n[Xc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=DT(s=n.g[e],t,r,i))&&(Lp(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=xT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=DT(e,t,r,i)),(t=-1<n?e[n]:null)&&MT(t))}function MT(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Xc])IT(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(nV(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=xT(e))?(IT(t,n),0==t.h&&(t.src=null,e[ST]=null)):Lp(n)}}}function nV(n){return n in AT?AT[n]:AT[n]="on"+n}function Are(n,e){if(n.ca)n=!0;else{e=new Jc(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&MT(n),n=t.call(r,e)}return n}function xT(n){return(n=n[ST])instanceof Vp?n:null}var NT="__closure_events_fn_"+(1e9*Math.random()>>>0);function kT(n){return"function"==typeof n?n:(n[NT]||(n[NT]=function(e){return n.handleEvent(e)}),n[NT])}function Bt(){xs.call(this),this.i=new Vp(this),this.P=this,this.I=null}function Xt(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new fn(e,n);else if(e instanceof fn)e.target=e.target||n;else{var i=e;WL(e=new fn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Up(o,r,!0,e)&&i}if(i=Up(o=e.g=n,r,!0,e)&&i,i=Up(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Up(o=e.g=t[s],r,!1,e)&&i}function Up(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,u=o.ia||o.src;o.fa&&IT(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Jt(Bt,xs),Bt.prototype[Xc]=!0,Bt.prototype.removeEventListener=function(n,e,t,r){tV(this,n,e,t,r)},Bt.prototype.M=function(){if(Bt.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Lp(t[r]);delete n.g[e],n.h--}}this.I=null},Bt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Bt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var RT=Z.JSON.stringify;function Mre(){var n=iV;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var OT,rV=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Nre,n=>n.reset());class Nre{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function kre(n){Z.setTimeout(()=>{throw n},0)}function PT(n,e){OT||function Rre(){var n=Z.Promise.resolve(void 0);OT=function(){n.then(Pre)}}(),FT||(OT(),FT=!0),iV.add(n,e)}var FT=!1,iV=new class xre{constructor(){this.h=this.g=null}add(e,t){const r=rV.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Pre(){for(var n;n=Mre();){try{n.h.call(n.g)}catch(t){kre(t)}var e=rV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}FT=!1}function Bp(n,e){Bt.call(this),this.h=n||1,this.g=e||Z,this.j=Yt(this.kb,this),this.l=Date.now()}function LT(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function VT(n,e,t){if("function"==typeof n)t&&(n=Yt(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Yt(n.handleEvent,n)}return 2147483647<Number(e)?-1:Z.setTimeout(n,e||0)}function sV(n){n.g=VT(()=>{n.g=null,n.i&&(n.i=!1,sV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Jt(Bp,Bt),(V=Bp.prototype).da=!1,V.S=null,V.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xt(this,"tick"),this.da&&(LT(this),this.start()))}},V.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},V.M=function(){Bp.Z.M.call(this),LT(this),delete this.g};class Ore extends xs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sV(this)}M(){super.M(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zc(n){xs.call(this),this.h=n,this.g={}}Jt(Zc,xs);var oV=[];function aV(n,e,t,r){Array.isArray(t)||(t&&(oV[0]=t.toString()),t=oV);for(var i=0;i<t.length;i++){var s=XL(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function uV(n){_T(n.g,function(e,t){this.g.hasOwnProperty(t)&&MT(e)},n),n.g={}}function jp(){this.g=!0}function Cu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ure(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return RT(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}Zc.prototype.M=function(){Zc.Z.M.call(this),uV(this)},Zc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jp.prototype.Aa=function(){this.g=!1},jp.prototype.info=function(){};var Io={},lV=null;function $p(){return lV=lV||new Bt}function cV(n){fn.call(this,Io.Ma,n)}function ed(n){const e=$p();Xt(e,new cV(e,n))}function dV(n,e){fn.call(this,Io.STAT_EVENT,n),this.stat=e}function kn(n){const e=$p();Xt(e,new dV(e,n))}function hV(n,e){fn.call(this,Io.Na,n),this.size=e}function td(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){n()},e)}Io.Ma="serverreachability",Jt(cV,fn),Io.STAT_EVENT="statevent",Jt(dV,fn),Io.Na="timingevent",Jt(hV,fn);var Hp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},fV={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function UT(){}function gV(){}UT.prototype.h=null;var $T,nd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function BT(){fn.call(this,"d")}function jT(){fn.call(this,"c")}function qp(){}function rd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Zc(this),this.P=Bre,this.W=new Bp(n=wT?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mV}function mV(){this.i=null,this.g="",this.h=!1}Jt(BT,fn),Jt(jT,fn),Jt(qp,UT),qp.prototype.g=function(){return new XMLHttpRequest},qp.prototype.i=function(){return{}},$T=new qp;var Bre=45e3,HT={},Gp={};function qT(n,e,t){n.K=1,n.v=Yp(Xi(e)),n.s=t,n.U=!0,yV(n,null)}function yV(n,e){n.F=Date.now(),id(n),n.A=Xi(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),DV(t.h,"t",r),n.C=0,t=n.l.H,n.h=new mV,n.g=QV(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Ore(Yt(n.Ia,n,n.g),n.O)),aV(n.V,n.g,"readystatechange",n.gb),e=n.H?GL(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),ed(1),function Fre(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function _V(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function vV(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=jre(n,t),i==Gp){4==e&&(n.o=4,kn(14),r=!1),Cu(n.j,n.m,null,"[Incomplete Response]");break}if(i==HT){n.o=4,kn(15),Cu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Cu(n.j,n.m,i,null),GT(n,i)}_V(n)&&i!=Gp&&i!=HT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,kn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),nI(e),e.L=!0,kn(11))):(Cu(n.j,n.m,t,"[Invalid Chunked Response]"),Do(n),sd(n))}function jre(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Gp:(t=Number(e.substring(t,r)),isNaN(t)?HT:(r+=1)+t>e.length?Gp:(e=e.substr(r,t),n.C=r+t,e))}function id(n){n.Y=Date.now()+n.P,wV(n,n.P)}function wV(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=td(Yt(n.eb,n),e)}function zp(n){n.B&&(Z.clearTimeout(n.B),n.B=null)}function sd(n){0==n.l.G||n.I||GV(n.l,n)}function Do(n){zp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,LT(n.W),uV(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function GT(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||KT(t.i,n)))if(t.I=n.N,!n.J&&KT(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=td(Yt(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;ng(t),eg(t)}tI(t),kn(18)}if(1>=MV(t.i)&&t.ka){try{t.ka()}catch(l){}t.ka=void 0}}else Mo(t,11)}else if((n.J||t.g==n)&&ng(t),!Op(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.U=l[0],l=l[1],2==t.G)if("c"==l[0]){t.J=l[1],t.la=l[2];const c=l[3];null!=c&&(t.ma=c,t.h.info("VER="+t.ma));const d=l[4];null!=d&&(t.za=d,t.h.info("SVER="+t.za));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.K=r=1.5*h,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(xn(p,"spdy")||xn(p,"quic")||xn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(QT(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,We(r.F,r.D,g))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=KV(r,r.H?r.la:null,r.W),o.J){xV(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(zp(a),id(a)),r.g=o}else HV(r);0<t.l.length&&tg(t)}else"stop"!=l[0]&&"close"!=l[0]||Mo(t,7);else 3==t.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Mo(t,7):ZT(t):"noop"!=l[0]&&t.j&&t.j.wa(l),t.A=0)}ed(4)}catch(l){}}function zT(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(pT(n)||"string"==typeof n)BL(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(pT(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function $re(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(pT(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function Tu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Tu)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function WT(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];So(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)So(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function So(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(V=rd.prototype).setTimeout=function(n){this.P=n},V.gb=function(n){n=n.target;const e=this.L;e&&3==Zi(n)?e.l():this.Ia(n)},V.Ia=function(n){try{if(n==this.g)e:{const c=Zi(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||wT||this.g&&(this.h.h||this.g.ga()||VV(this.g)))){this.I||4!=c||7==e||ed(8==e||0>=d?3:2),zp(this);var t=this.g.ba();this.N=t;t:if(_V(this)){var r=VV(this.g);n="";var i=r.length,s=4==Zi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Do(this),sd(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function Lre(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Op(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,kn(12),Do(this),sd(this);break e}Cu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,GT(this,t)}this.U?(vV(this,c,o),wT&&this.i&&3==c&&(aV(this.V,this.W,"tick",this.fb),this.W.start())):(Cu(this.j,this.m,o,null),GT(this,o)),4==c&&Do(this),this.i&&!this.I&&(4==c?GV(this.l,this):(this.i=!1,id(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,kn(12)):(this.o=0,kn(13)),Do(this),sd(this)}}}catch(c){}},V.fb=function(){if(this.g){var n=Zi(this.g),e=this.g.ga();this.C<e.length&&(zp(this),vV(this,n,e),this.i&&4!=n&&id(this))}},V.cancel=function(){this.I=!0,Do(this)},V.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Vre(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ed(3),kn(17)),Do(this),this.o=2,sd(this)):wV(this,this.Y-n)},(V=Tu.prototype).R=function(){WT(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},V.T=function(){return WT(this),this.g.concat()},V.get=function(n,e){return So(this.h,n)?this.h[n]:e},V.set=function(n,e){So(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},V.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var EV=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ao(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ao){this.g=void 0!==e?e:n.g,Wp(this,n.j),this.s=n.s,Kp(this,n.i),Qp(this,n.m),this.l=n.l,e=n.h;var t=new ud;t.i=e.i,e.g&&(t.g=new Tu(e.g),t.h=e.h),bV(this,t),this.o=n.o}else n&&(t=String(n).match(EV))?(this.g=!!e,Wp(this,t[1]||"",!0),this.s=od(t[2]||""),Kp(this,t[3]||"",!0),Qp(this,t[4]),this.l=od(t[5]||"",!0),bV(this,t[6]||"",!0),this.o=od(t[7]||"")):(this.g=!!e,this.h=new ud(null,this.g))}function Xi(n){return new Ao(n)}function Wp(n,e,t){n.j=t?od(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Kp(n,e,t){n.i=t?od(e,!0):e}function Qp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function bV(n,e,t){e instanceof ud?(n.h=e,function Jre(n,e){e&&!n.j&&(Ns(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(TV(this,r),DV(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=ad(e,Qre)),n.h=new ud(e,n.g))}function We(n,e,t){n.h.set(e,t)}function Yp(n){return We(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function od(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ad(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,zre),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function zre(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ao.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ad(e,CV,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ad(e,CV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(ad(t,"/"==t.charAt(0)?Kre:Wre,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ad(t,Yre)),n.join("")};var CV=/[#\/\?@]/g,Wre=/[#\?:]/g,Kre=/[#\?]/g,Qre=/[#\?@]/g,Yre=/#/g;function ud(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ns(n){n.g||(n.g=new Tu,n.h=0,n.i&&function Hre(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function TV(n,e){Ns(n),e=Iu(n,e),So(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,So((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&WT(n)))}function IV(n,e){return Ns(n),e=Iu(n,e),So(n.g.h,e)}function DV(n,e,t){TV(n,e),0<t.length&&(n.i=null,n.g.set(Iu(n,e),mT(t)),n.h+=t.length)}function Iu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function SV(n){this.l=n||Zre,n=Z.PerformanceNavigationTiming?0<(n=Z.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Z.g&&Z.g.Ea&&Z.g.Ea()&&Z.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(V=ud.prototype).add=function(n,e){Ns(this),this.i=null,n=Iu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},V.forEach=function(n,e){Ns(this),this.g.forEach(function(t,r){BL(t,function(i){n.call(e,i,r,this)},this)},this)},V.T=function(){Ns(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},V.R=function(n){Ns(this);var e=[];if("string"==typeof n)IV(this,n)&&(e=jL(e,this.g.get(Iu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=jL(e,n[t])}return e},V.set=function(n,e){return Ns(this),this.i=null,IV(this,n=Iu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},V.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},V.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var Zre=10;function AV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function MV(n){return n.h?1:n.g?n.g.size:0}function KT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function QT(n,e){n.g?n.g.add(e):n.h=e}function xV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function NV(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return mT(n.i)}function YT(){}function eie(){this.g=new YT}function tie(n,e,t){const r=t||"";try{zT(n,function(i,s){let o=i;Yc(i)&&(o=RT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Jp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function ld(n){this.l=n.$b||null,this.j=n.ib||!1}function Xp(n,e){Bt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=JT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}SV.prototype.cancel=function(){if(this.i=NV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},YT.prototype.stringify=function(n){return Z.JSON.stringify(n,void 0)},YT.prototype.parse=function(n){return Z.JSON.parse(n,void 0)},Jt(ld,UT),ld.prototype.g=function(){return new Xp(this.l,this.j)},ld.prototype.i=function(n){return function(){return n}}({}),Jt(Xp,Bt);var JT=0;function kV(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function cd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,dd(n)}function dd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(V=Xp.prototype).open=function(n,e){if(this.readyState!=JT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,dd(this)},V.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Z).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cd(this)),this.readyState=JT},V.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,dd(this)),this.g&&(this.readyState=3,dd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Z.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kV(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},V.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?cd(this):dd(this),3==this.readyState&&kV(this)}},V.Ua=function(n){this.g&&(this.response=this.responseText=n,cd(this))},V.Ta=function(n){this.g&&(this.response=n,cd(this))},V.ha=function(){this.g&&cd(this)},V.setRequestHeader=function(n,e){this.v.append(n,e)},V.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},V.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Xp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var rie=Z.JSON.parse;function yt(n){Bt.call(this),this.headers=new Tu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=RV,this.K=this.L=!1}Jt(yt,Bt);var RV="",iie=/^https?$/i,sie=["POST","PUT"];function aie(n){return"content-type"==n.toLowerCase()}function PV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,OV(n),Zp(n)}function OV(n){n.D||(n.D=!0,Xt(n,"complete"),Xt(n,"error"))}function FV(n){if(n.h&&void 0!==fT&&(!n.C[1]||4!=Zi(n)||2!=n.ba()))if(n.v&&4==Zi(n))VT(n.Fa,0,n);else if(Xt(n,"readystatechange"),4==Zi(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(EV)[1]||null;if(!i&&Z.self&&Z.self.location){var s=Z.self.location.protocol;i=s.substr(0,s.length-1)}r=!iie.test(i?i.toLowerCase():"")}t=r}if(t)Xt(n,"complete"),Xt(n,"success");else{n.m=6;try{var o=2<Zi(n)?n.g.statusText:""}catch(u){o=""}n.j=o+" ["+n.ba()+"]",OV(n)}}finally{Zp(n)}}}function Zp(n,e){if(n.g){LV(n);const t=n.g,r=n.C[0]?Rp:null;n.g=null,n.C=null,e||Xt(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function LV(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Z.clearTimeout(n.A),n.A=null)}function Zi(n){return n.g?n.g.readyState:0}function VV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case RV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function XT(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function uie(n){let e="";return _T(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):We(n,e,t))}function hd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function UV(n){this.za=0,this.l=[],this.h=new jp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=hd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=hd("baseRetryDelayMs",5e3,n),this.$a=hd("retryDelaySeedMs",1e4,n),this.Ya=hd("forwardChannelMaxRetries",2,n),this.ra=hd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new SV(n&&n.concurrentRequestLimit),this.Ca=new eie,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ZT(n){if(BV(n),3==n.G){var e=n.V++,t=Xi(n.F);We(t,"SID",n.J),We(t,"RID",e),We(t,"TYPE","terminate"),fd(n,t),(e=new rd(n,n.h,e,void 0)).K=2,e.v=Yp(Xi(t)),t=!1,Z.navigator&&Z.navigator.sendBeacon&&(t=Z.navigator.sendBeacon(e.v.toString(),"")),!t&&Z.Image&&((new Image).src=e.v,t=!0),t||(e.g=QV(e.l,null),e.g.ea(e.v)),e.F=Date.now(),id(e)}WV(n)}function eg(n){n.g&&(nI(n),n.g.cancel(),n.g=null)}function BV(n){eg(n),n.u&&(Z.clearTimeout(n.u),n.u=null),ng(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Z.clearTimeout(n.m),n.m=null)}function eI(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&tg(n)}function tg(n){AV(n.i)||n.m||(n.m=!0,PT(n.Ha,n),n.C=0)}function jV(n,e){var t;t=e?e.m:n.V++;const r=Xi(n.F);We(r,"SID",n.J),We(r,"RID",t),We(r,"AID",n.U),fd(n,r),n.o&&n.s&&XT(r,n.o,n.s),t=new rd(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=$V(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),QT(n.i,t),qT(t,r,e)}function fd(n,e){n.j&&zT({},function(t,r){We(e,r,t)})}function $V(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Yt(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{tie(c,o,"req"+l+"_")}catch(d){r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function HV(n){n.g||n.u||(n.Y=1,PT(n.Ga,n),n.A=0)}function tI(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=td(Yt(n.Ga,n),zV(n,n.A)),n.A++,0))}function nI(n){null!=n.B&&(Z.clearTimeout(n.B),n.B=null)}function qV(n){n.g=new rd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Xi(n.oa);We(e,"RID","rpc"),We(e,"SID",n.J),We(e,"CI",n.N?"0":"1"),We(e,"AID",n.U),fd(n,e),We(e,"TYPE","xmlhttp"),n.o&&n.s&&XT(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Yp(Xi(e)),t.s=null,t.U=!0,yV(t,n)}function ng(n){null!=n.v&&(Z.clearTimeout(n.v),n.v=null)}function GV(n,e){var t=null;if(n.g==e){ng(n),nI(n),n.g=null;var r=2}else{if(!KT(n.i,e))return;t=e.D,xV(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Xt(r=$p(),new hV(r,t,e,i)),tg(n)}else HV(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function lie(n,e){return!(MV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=td(Yt(n.Ha,n,e),zV(n,n.C)),n.C++,0)))}(n,e)||2==r&&tI(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Mo(n,5);break;case 4:Mo(n,10);break;case 3:Mo(n,6);break;default:Mo(n,2)}}function zV(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Mo(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Yt(n.jb,n);t||(t=new Ao("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||Wp(t,"https"),Yp(t)),function nie(n,e){const t=new jp;if(Z.Image){const r=new Image;r.onload=Pp(Jp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Pp(Jp,t,r,"TestLoadImage: error",!1,e),r.onabort=Pp(Jp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pp(Jp,t,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else kn(2);n.G=0,n.j&&n.j.va(e),WV(n),BV(n)}function WV(n){n.G=0,n.I=-1,n.j&&((0!=NV(n.i).length||0!=n.l.length)&&(n.i.i.length=0,mT(n.l),n.l.length=0),n.j.ua())}function KV(n,e,t){let r=function qre(n){return n instanceof Ao?Xi(n):new Ao(n,void 0)}(t);if(""!=r.i)e&&Kp(r,e+"."+r.i),Qp(r,r.m);else{const i=Z.location;r=function Gre(n,e,t,r){var i=new Ao(null,void 0);return n&&Wp(i,n),e&&Kp(i,e),t&&Qp(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&_T(n.aa,function(i,s){We(r,s,i)}),t=n.sa,(e=n.D)&&t&&We(r,e,t),We(r,"VER",n.ma),fd(n,r),r}function QV(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yt(t&&n.Ba&&!n.qa?new ld({ib:!0}):n.qa)).L=n.H,e}function YV(){}function rg(){if(bu&&!(10<=Number(bre)))throw Error("Environmental error: no available transport.")}function ar(n,e){Bt.call(this),this.g=new UV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Op(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Op(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Du(this)}function JV(n){BT.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function XV(){jT.call(this),this.status=1}function Du(n){this.g=n}(V=yt.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$T.g(),this.C=function pV(n){return n.h||(n.h=n.i())}(this.u?this.u:$T),this.g.onreadystatechange=Yt(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void PV(this,s)}n=t||"";const i=new Tu(this.headers);r&&zT(r,function(s,o){i.set(o,s)}),r=function mre(n){e:{var e=aie;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Z.FormData&&n instanceof Z.FormData,!(0<=UL(sie,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{LV(this),0<this.B&&((this.K=function oie(n){return bu&&function Ere(){return function yre(n){var e=wre;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=$L(String(Fp)).split("."),t=$L("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=yT(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||yT(0==i[2].length,0==s[2].length)||yT(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.pa,this)):this.A=VT(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){PV(this,s)}},V.pa=function(){void 0!==fT&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xt(this,"timeout"),this.abort(8))},V.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xt(this,"complete"),Xt(this,"abort"),Zp(this))},V.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zp(this,!0)),yt.Z.M.call(this)},V.Fa=function(){this.s||(this.F||this.v||this.l?FV(this):this.cb())},V.cb=function(){FV(this)},V.ba=function(){try{return 2<Zi(this)?this.g.status:-1}catch(n){return-1}},V.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},V.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),rie(e)}},V.Da=function(){return this.m},V.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(V=UV.prototype).ma=8,V.G=1,V.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},V.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new rd(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=GL(s),WL(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=$V(this,i,e),We(t=Xi(this.F),"RID",n),We(t,"CVER",22),this.D&&We(t,"X-HTTP-Session-Id",this.D),fd(this,t),this.o&&s&&XT(t,this.o,s),QT(this.i,i),this.Ra&&We(t,"TYPE","init"),this.ja?(We(t,"$req",e),We(t,"SID","null"),i.$=!0,qT(i,t,null)):qT(i,t,e),this.G=2}}else 3==this.G&&(n?jV(this,n):0==this.l.length||AV(this.i)||jV(this))},V.Ga=function(){if(this.u=null,qV(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=td(Yt(this.bb,this),n)}},V.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,kn(10),eg(this),qV(this))},V.ab=function(){null!=this.v&&(this.v=null,eg(this),tI(this),kn(19))},V.jb=function(n){n?(this.h.info("Successfully pinged google.com"),kn(2)):(this.h.info("Failed to ping google.com"),kn(1))},(V=YV.prototype).xa=function(){},V.wa=function(){},V.va=function(){},V.ua=function(){},V.Oa=function(){},rg.prototype.g=function(n,e){return new ar(n,e)},Jt(ar,Bt),ar.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),PT(Yt(n.hb,n,e))),kn(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=KV(n,null,n.W),tg(n)},ar.prototype.close=function(){ZT(this.g)},ar.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,eI(this.g,e)}else this.v?((e={}).__data__=RT(n),eI(this.g,e)):eI(this.g,n)},ar.prototype.M=function(){this.g.j=null,delete this.j,ZT(this.g),delete this.g,ar.Z.M.call(this)},Jt(JV,BT),Jt(XV,jT),Jt(Du,YV),Du.prototype.xa=function(){Xt(this.g,"a")},Du.prototype.wa=function(n){Xt(this.g,new JV(n))},Du.prototype.va=function(n){Xt(this.g,new XV(n))},Du.prototype.ua=function(){Xt(this.g,"b")},rg.prototype.createWebChannel=rg.prototype.g,ar.prototype.send=ar.prototype.u,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,Hp.NO_ERROR=0,Hp.TIMEOUT=8,Hp.HTTP_ERROR=6,fV.COMPLETE="complete",gV.EventType=nd,nd.OPEN="a",nd.CLOSE="b",nd.ERROR="c",nd.MESSAGE="d",Bt.prototype.listen=Bt.prototype.N,yt.prototype.listenOnce=yt.prototype.O,yt.prototype.getLastError=yt.prototype.La,yt.prototype.getLastErrorCode=yt.prototype.Da,yt.prototype.getStatus=yt.prototype.ba,yt.prototype.getResponseJson=yt.prototype.Qa,yt.prototype.getResponseText=yt.prototype.ga,yt.prototype.send=yt.prototype.ea;var cie=Ji.createWebChannelTransport=function(){return new rg},die=Ji.getStatEventTarget=function(){return $p()},rI=Ji.ErrorCode=Hp,hie=Ji.EventType=fV,fie=Ji.Event=Io,ZV=Ji.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},pie=Ji.FetchXmlHttpFactory=ld,ig=Ji.WebChannel=gV,gie=Ji.XhrIo=yt;const e2="@firebase/firestore";class Zt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Su="9.6.5";const ks=new cu("@firebase/firestore");function iI(){return ks.logLevel}function M(n,...e){if(ks.logLevel<=ve.DEBUG){const t=e.map(sI);ks.debug(`Firestore (${Su}): ${n}`,...t)}}function _t(n,...e){if(ks.logLevel<=ve.ERROR){const t=e.map(sI);ks.error(`Firestore (${Su}): ${n}`,...t)}}function sg(n,...e){if(ks.logLevel<=ve.WARN){const t=e.map(sI);ks.warn(`Firestore (${Su}): ${n}`,...t)}}function sI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: `+n;throw _t(e),new Error(e)}function Y(n,e){n||$()}function R(n,e){return n}const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends pi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class t2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class _ie{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new jt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new jt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new jt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Y("string"==typeof r.accessToken),new t2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Y(null===e||"string"==typeof e),new Zt(e)}}class vie{constructor(e,t,r){this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class wie{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new vie(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Eie{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=i=>{e.enqueueRetryable(()=>{return null!=(s=i).error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`),t(s.token);var s})};const r=i=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Y("string"==typeof t.token),new n2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ur{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function bie(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ur.I=-1;class r2{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=bie(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function pe(n,e){return n<e?-1:n>e?1:0}function Au(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class en{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new S(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new S(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new S(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new en(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new en(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function s2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function o2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pd{constructor(e,t,r){void 0===t?t=0:t>e.length&&$(),void 0===r?r=e.length-t:r>e.length-t&&$(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===pd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ie extends pd{construct(e,t,r){return new Ie(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new S(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ie(t)}static emptyPath(){return new Ie([])}}const Cie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends pd{construct(e,t,r){return new pn(e,t,r)}static isValidIdentifier(e){return Cie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new S(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new S(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(t)}static emptyPath(){return new pn([])}}class Mu{constructor(e){this.fields=e,e.sort(pn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Au(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class At{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new At(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new At(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const Tie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(n){if(Y(!!n),"string"==typeof n){let e=0;const t=Tie.exec(n);if(Y(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function xu(n){return"string"==typeof n?At.fromBase64String(n):At.fromUint8Array(n)}function oI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function a2(n){const e=n.mapValue.fields.__previous_value__;return oI(e)?a2(e):e}function gd(n){const e=Rs(n.mapValue.fields.__local_write_time__.timestampValue);return new en(e.seconds,e.nanos)}function No(n){return null==n}function og(n){return 0===n&&1/n==-1/0}class j{constructor(e){this.path=e}static fromPath(e){return new j(Ie.fromString(e))}static fromName(e){return new j(Ie.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Ie.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ie.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new j(new Ie(e.slice()))}}function ko(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?oI(n)?4:10:$()}function _i(n,e){if(n===e)return!0;const t=ko(n);if(t!==ko(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gd(n).isEqual(gd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Rs(r.timestampValue),o=Rs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,xu(n.bytesValue).isEqual(xu(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return vt(r.geoPointValue.latitude)===vt(i.geoPointValue.latitude)&&vt(r.geoPointValue.longitude)===vt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return vt(r.integerValue)===vt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=vt(r.doubleValue),o=vt(i.doubleValue);return s===o?og(s)===og(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Au(n.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(s2(s)!==s2(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!_i(s[a],o[a])))return!1;return!0}(n,e);default:return $()}var i}function md(n,e){return void 0!==(n.values||[]).find(t=>_i(t,e))}function Nu(n,e){if(n===e)return 0;const t=ko(n),r=ko(e);if(t!==r)return pe(t,r);switch(t){case 0:return 0;case 1:return pe(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=vt(i.integerValue||i.doubleValue),a=vt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return l2(n.timestampValue,e.timestampValue);case 4:return l2(gd(n),gd(e));case 5:return pe(n.stringValue,e.stringValue);case 6:return function(i,s){const o=xu(i),a=xu(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=pe(o[u],a[u]);if(0!==l)return l}return pe(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=pe(vt(i.latitude),vt(s.latitude));return 0!==o?o:pe(vt(i.longitude),vt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=Nu(o[u],a[u]);if(l)return l}return pe(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=pe(a[c],l[c]);if(0!==d)return d;const h=Nu(o[a[c]],u[l[c]]);if(0!==h)return h}return pe(a.length,l.length)}(n.mapValue,e.mapValue);default:throw $()}}function l2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return pe(n,e);const t=Rs(n),r=Rs(e),i=pe(t.seconds,r.seconds);return 0!==i?i:pe(t.nanos,r.nanos)}function aI(n){return uI(n)}function uI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Rs(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?xu(n.bytesValue).toBase64():"referenceValue"in n?j.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=uI(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${uI(r.fields[a])}`;return s+"}"}(n.mapValue):$();var e}function lI(n){return!!n&&"integerValue"in n}function cI(n){return!!n&&"arrayValue"in n}function c2(n){return!!n&&"nullValue"in n}function d2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ug(n){return!!n&&"mapValue"in n}function yd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return xo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yd(n.arrayValue.values[t]);return e}return Object.assign({},n)}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ug(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yd(t)}setAll(e){let t=pn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=yd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());ug(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ug(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){xo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new gn(yd(this.value))}}function h2(n){const e=[];return xo(n.fields,(t,r)=>{const i=new pn([t]);if(ug(r)){const s=h2(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mu(e)}class Ke{constructor(e,t,r,i,s){this.key=e,this.documentType=t,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Ke(e,0,ne.min(),gn.empty(),0)}static newFoundDocument(e,t,r){return new Ke(e,1,t,r,0)}static newNoDocument(e,t){return new Ke(e,2,t,gn.empty(),0)}static newUnknownDocument(e,t){return new Ke(e,3,t,gn.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Iie{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.R=null}}function f2(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Iie(n,e,t,r,i,s,o)}function _d(n){const e=R(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function Sie(n){return n.field.canonicalString()+n.op.toString()+aI(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),No(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=dg(e.startAt)),e.endAt&&(t+="|ub:",t+=dg(e.endAt)),e.R=t}return e.R}function lg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Oie(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!_i(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!m2(n.startAt,e.startAt)&&m2(n.endAt,e.endAt)}function cg(n){return j.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Rn extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Aie(e,t,r):"array-contains"===t?new Nie(e,r):"in"===t?new kie(e,r):"not-in"===t?new Rie(e,r):"array-contains-any"===t?new Pie(e,r):new Rn(e,t,r)}static P(e,t,r){return"in"===t?new Mie(e,r):new xie(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Nu(t,this.value)):null!==t&&ko(this.value)===ko(t)&&this.v(Nu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Aie extends Rn{constructor(e,t,r){super(e,t,r),this.key=j.fromName(r.referenceValue)}matches(e){const t=j.comparator(e.key,this.key);return this.v(t)}}class Mie extends Rn{constructor(e,t){super(e,"in",t),this.keys=p2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xie extends Rn{constructor(e,t){super(e,"not-in",t),this.keys=p2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function p2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>j.fromName(r.referenceValue))}class Nie extends Rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cI(t)&&md(t.arrayValue,this.value)}}class kie extends Rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&md(this.value.arrayValue,t)}}class Rie extends Rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!md(this.value.arrayValue,t)}}class Pie extends Rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>md(this.value.arrayValue,r))}}class vd{constructor(e,t){this.position=e,this.before=t}}function dg(n){return`${n.before?"b":"a"}:${n.position.map(e=>aI(e)).join(",")}`}class ku{constructor(e,t="asc"){this.field=e,this.dir=t}}function Oie(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function g2(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?j.comparator(j.fromName(o.referenceValue),t.key):Nu(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function m2(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_i(n.position[t],e.position[t]))return!1;return!0}class es{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.S=null,this.D=null}}function Ru(n){return new es(n)}function hg(n){return!No(n.limit)&&"F"===n.limitType}function fg(n){return!No(n.limit)&&"L"===n.limitType}function Pu(n){const e=R(n);if(null===e.S){e.S=[];const t=function hI(n){for(const e of n.filters)if(e.V())return e.field;return null}(e),r=function dI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new ku(t)),e.S.push(new ku(pn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.S.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new ku(pn.keyField(),s))}}}return e.S}function Ir(n){const e=R(n);if(!e.D)if("F"===e.limitType)e.D=f2(e.path,e.collectionGroup,Pu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Pu(e))t.push(new ku(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new vd(e.endAt.position,!e.endAt.before):null,i=e.startAt?new vd(e.startAt.position,!e.startAt.before):null;e.D=f2(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.D}function wd(n,e){return lg(Ir(n),Ir(e))&&n.limitType===e.limitType}function v2(n){return`${_d(Ir(n))}|lt:${n.limitType}`}function pI(n){return`Query(target=${function Die(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${aI(r.value)}`;var r}).join(", ")}]`),No(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+dg(n.startAt)),n.endAt&&(e+=", endAt: "+dg(n.endAt)),`Target(${e})`}(Ir(n))}; limitType=${n.limitType})`}function Ed(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):j.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!g2(t.startAt,Pu(t),r)||t.endAt&&g2(t.endAt,Pu(t),r)));var t,r}function w2(n){return(e,t)=>{let r=!1;for(const i of Pu(n)){const s=Fie(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Fie(n,e,t){const r=n.field.isKeyField()?j.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Nu(a,u):$()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}function E2(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:og(e)?"-0":e}}function b2(n){return{integerValue:""+n}}function C2(n,e){return function u2(n){return"number"==typeof n&&Number.isInteger(n)&&!og(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?b2(e):E2(n,e)}class pg{constructor(){this._=void 0}}function Lie(n,e,t){return n instanceof Ou?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Ro?I2(n,e):n instanceof Po?D2(n,e):function(r,i){const s=T2(r,i),o=S2(s)+S2(r.N);return lI(s)&&lI(r.N)?b2(o):E2(r.k,o)}(n,e)}function Vie(n,e,t){return n instanceof Ro?I2(n,e):n instanceof Po?D2(n,e):t}function T2(n,e){return n instanceof Fu?lI(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ou extends pg{}class Ro extends pg{constructor(e){super(),this.elements=e}}function I2(n,e){const t=A2(e);for(const r of n.elements)t.some(i=>_i(i,r))||t.push(r);return{arrayValue:{values:t}}}class Po extends pg{constructor(e){super(),this.elements=e}}function D2(n,e){let t=A2(e);for(const r of n.elements)t=t.filter(i=>!_i(i,r));return{arrayValue:{values:t}}}class Fu extends pg{constructor(e,t){super(),this.k=e,this.N=t}}function S2(n){return vt(n.integerValue||n.doubleValue)}function A2(n){return cI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Bie{constructor(e,t){this.version=e,this.transformResults=t}}class wt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wt}static exists(e){return new wt(void 0,e)}static updateTime(e){return new wt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class mg{}function jie(n,e,t){n instanceof Cd?function(r,i,s){const o=r.value.clone(),a=k2(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Ps?function(r,i,s){if(!gg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=k2(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(N2(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gI(n,e,t){var i;n instanceof Cd?function(r,i,s){if(!gg(r.precondition,i))return;const o=r.value.clone(),a=R2(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(x2(i),o).setHasLocalMutations()}(n,e,t):n instanceof Ps?function(r,i,s){if(!gg(r.precondition,i))return;const o=R2(r.fieldTransforms,s,i),a=i.data;a.setAll(N2(r)),a.setAll(o),i.convertToFoundDocument(x2(i),a).setHasLocalMutations()}(n,e,t):gg(n.precondition,i=e)&&i.convertToNoDocument(ne.min())}function $ie(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=T2(r.transform,i||null);null!=s&&(null==t&&(t=gn.empty()),t.set(r.field,s))}return t||null}function M2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Au(t,r,(i,s)=>function Uie(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ro&&r instanceof Ro||t instanceof Po&&r instanceof Po?Au(t.elements,r.elements,_i):t instanceof Fu&&r instanceof Fu?_i(t.N,r.N):t instanceof Ou&&r instanceof Ou);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function x2(n){return n.isFoundDocument()?n.version:ne.min()}class Cd extends mg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Ps extends mg{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function N2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function k2(n,e,t){const r=new Map;Y(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Vie(o,a,t[i]))}return r}function R2(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Lie(s,o,e))}return r}class Td extends mg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class mI extends mg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Hie{constructor(e){this.count=e}}var Et,we;function P2(n){switch(n){default:return $();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function O2(n){if(void 0===n)return _t("GRPC error has no .code"),b.UNKNOWN;switch(n){case Et.OK:return b.OK;case Et.CANCELLED:return b.CANCELLED;case Et.UNKNOWN:return b.UNKNOWN;case Et.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Et.INTERNAL:return b.INTERNAL;case Et.UNAVAILABLE:return b.UNAVAILABLE;case Et.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Et.NOT_FOUND:return b.NOT_FOUND;case Et.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Et.ABORTED:return b.ABORTED;case Et.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Et.DATA_LOSS:return b.DATA_LOSS;default:return $()}}(we=Et||(Et={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";class Mt{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new Mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yg(this.root,e,this.comparator,!1)}getReverseIterator(){return new yg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yg(this.root,e,this.comparator,!0)}}class yg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:tn.RED,this.left=null!=i?i:tn.EMPTY,this.right=null!=s?s:tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new tn(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1,tn.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(n,e,t,r,i){return this}insert(n,e,t){return new tn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class it{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new F2(this.data.getIterator())}getIteratorFrom(e){return new F2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new it(this.comparator);return t.data=e,t}}class F2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const qie=new Mt(j.comparator);function Dr(){return qie}const Gie=new Mt(j.comparator);function yI(){return Gie}const zie=new Mt(j.comparator);const Wie=new it(j.comparator);function xe(...n){let e=Wie;for(const t of n)e=e.add(t);return e}const Kie=new it(pe);function _g(){return Kie}class Id{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Dd.createSynthesizedTargetChangeForCurrentChange(e,t)),new Id(ne.min(),r,_g(),Dr(),xe())}}class Dd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Dd(At.EMPTY_BYTE_STRING,t,xe(),xe(),xe())}}class vg{constructor(e,t,r,i){this.$=e,this.removedTargetIds=t,this.key=r,this.O=i}}class V2{constructor(e,t){this.targetId=e,this.M=t}}class U2{constructor(e,t,r=At.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class B2{constructor(){this.F=0,this.L=$2(),this.B=At.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=xe(),t=xe(),r=xe();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$()}}),new Dd(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=$2()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class Qie{constructor(e){this.et=e,this.nt=new Map,this.st=Dr(),this.it=j2(),this.rt=new it(pe)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,i)=>{this.lt(i)&&t(i)})}dt(e){const t=e.targetId,r=e.M.count,i=this.wt(t);if(i){const s=i.target;if(cg(s))if(0===r){const o=new j(s.path);this.at(t,o,Ke.newNoDocument(o,ne.min()))}else Y(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&cg(a.target)){const u=new j(a.target.path);null!==this.st.get(u)||this.yt(o,u)||this.at(o,u,Ke.newNoDocument(u,e))}s.j&&(t.set(o,s.G()),s.H())}});let r=xe();this.it.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.wt(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))});const i=new Id(e,t,this.rt,this.st,r);return this.st=Dr(),this.it=j2(),this.rt=new it(pe),i}ct(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,t)?i.J(t,1):i.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new B2,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new it(pe),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||M("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new B2),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function j2(){return new Mt(j.comparator)}function $2(){return new Mt(j.comparator)}const Yie={asc:"ASCENDING",desc:"DESCENDING"},Jie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Xie{constructor(e,t){this.databaseId=e,this.C=t}}function Sd(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H2(n,e){return n.C?e.toBase64():e.toUint8Array()}function Zie(n,e){return Sd(n,e.toTimestamp())}function $t(n){return Y(!!n),ne.fromTimestamp(function(e){const t=Rs(e);return new en(t.seconds,t.nanos)}(n))}function _I(n,e){return(t=n,new Ie(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function q2(n){const e=Ie.fromString(n);return Y(nU(e)),e}function Ad(n,e){return _I(n.databaseId,e.path)}function vi(n,e){const t=q2(e);if(t.get(1)!==n.databaseId.projectId)throw new S(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new S(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new j(z2(t))}function vI(n,e){return _I(n.databaseId,e)}function Md(n){return new Ie(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function z2(n){return Y(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function W2(n,e,t){return{name:Ad(n,e),fields:t.value.mapValue.fields}}function Y2(n,e){return{documents:[vI(n,e.path)]}}function J2(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=vI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(0===a.length)return;const u=a.map(l=>function(c){if("=="===c.op){if(d2(c.value))return{unaryFilter:{field:Lu(c.field),op:"IS_NAN"}};if(c2(c.value))return{unaryFilter:{field:Lu(c.field),op:"IS_NULL"}}}else if("!="===c.op){if(d2(c.value))return{unaryFilter:{field:Lu(c.field),op:"IS_NOT_NAN"}};if(c2(c.value))return{unaryFilter:{field:Lu(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lu(c.field),op:sse(c.op),value:c.value}}}(l));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(a){if(0!==a.length)return a.map(u=>{return{field:Lu((l=u).field),direction:ise(l.dir)};var l})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(u=e.limit,n.C||No(u)?u:{value:u});var u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=eU(e.startAt)),e.endAt&&(t.structuredQuery.endAt=eU(e.endAt)),t}function X2(n){let e=function G2(n){const e=q2(n);return 4===e.length?Ie.emptyPath():z2(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Y(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=Z2(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>{return new ku(Vu((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,No(d)?null:d}(t.limit));let u=null;t.startAt&&(u=tU(t.startAt));let l=null;return t.endAt&&(l=tU(t.endAt)),function y2(n,e,t,r,i,s,o,a){return new es(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function Z2(n){return n?void 0!==n.unaryFilter?[ase(n)]:void 0!==n.fieldFilter?[ose(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Z2(e)).reduce((e,t)=>e.concat(t)):$():[]}function eU(n){return{before:n.before,values:n.position}}function tU(n){return new vd(n.values||[],!!n.before)}function ise(n){return Yie[n]}function sse(n){return Jie[n]}function Lu(n){return{fieldPath:n.canonicalString()}}function Vu(n){return pn.fromServerFormat(n.fieldPath)}function ose(n){return Rn.create(Vu(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(n.fieldFilter.op),n.fieldFilter.value)}function ase(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Vu(n.unaryFilter.field);return Rn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Vu(n.unaryFilter.field);return Rn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Vu(n.unaryFilter.field);return Rn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Vu(n.unaryFilter.field);return Rn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return $()}}function use(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Wr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rU(e)),e=lse(n.get(t),e);return rU(e)}function lse(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function rU(n){return n+"\x01\x01"}class lr{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}lr.store="owner",lr.key="owner";class Os{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Os.store="mutationQueues",Os.keyPath="userId";class qe{constructor(e,t,r,i,s){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}qe.store="mutations",qe.keyPath="batchId",qe.userMutationsIndex="userMutationsIndex",qe.userMutationsKeyPath=["userId","batchId"];class mn{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Wr(t)]}static key(e,t,r){return[e,Wr(t),r]}}mn.store="documentMutations",mn.PLACEHOLDER=new mn;class st{constructor(e,t,r,i,s,o){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}st.store="remoteDocuments",st.readTimeIndex="readTimeIndex",st.readTimeIndexPath="readTime",st.collectionReadTimeIndex="collectionReadTimeIndex",st.collectionReadTimeIndexPath=["parentPath","readTime"];class wi{constructor(e){this.byteSize=e}}wi.store="remoteDocumentGlobal",wi.key="remoteDocumentGlobalKey";class zn{constructor(e,t,r,i,s,o,a){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}zn.store="targets",zn.keyPath="targetId",zn.queryTargetsIndexName="queryTargetsIndex",zn.queryTargetsKeyPath=["canonicalId","targetId"];class nn{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}nn.store="targetDocuments",nn.keyPath=["targetId","path"],nn.documentTargetsIndex="documentTargetsIndex",nn.documentTargetsKeyPath=["path","targetId"];class cr{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}cr.key="targetGlobalKey",cr.store="targetGlobal";class Oo{constructor(e,t){this.collectionId=e,this.parent=t}}Oo.store="collectionParents",Oo.keyPath=["collectionId","parent"];class ns{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}ns.store="clientMetadata",ns.keyPath="clientId";class Uu{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Uu.store="bundles",Uu.keyPath="bundleId";class Bu{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Bu.store="namedQueries",Bu.keyPath="name";const iU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new T((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof T?t:T.resolve(t)}catch(t){return T.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):T.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):T.reject(t)}static resolve(e){return new T((t,r)=>{t(e)})}static reject(e){return new T((t,r)=>{r(e)})}static waitFor(e){return new T((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=T.resolve(!1);for(const r of e)t=t.next(i=>i?T.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}}function Fo(n){return"IndexedDbTransactionError"===n.name}class EI{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&jie(s,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&gI(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&gI(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ne.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&Au(this.mutations,e.mutations,(t,r)=>M2(t,r))&&Au(this.baseMutations,e.baseMutations,(t,r)=>M2(t,r))}}class bI{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Y(e.mutations.length===r.length);let i=function L2(){return zie}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bI(e,t,r,i)}}class Fs{constructor(e,t,r,i,s=ne.min(),o=ne.min(),a=At.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class aU{constructor(e){this.Gt=e}}function II(n){const e=X2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?function _2(n,e,t){return new es(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}(e,e.limit,"L"):e}class _se{constructor(){this.zt=new DI}addToCollectionParentIndex(e,t){return this.zt.add(t),T.resolve()}getCollectionParents(e,t){return T.resolve(this.zt.getEntries(t))}}class DI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new it(Ie.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Ie.comparator)).toArray()}}class Kn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(41943040,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);class Vo{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Vo(0)}static re(){return new Vo(-1)}}function Uo(n){return AI.apply(this,arguments)}function AI(){return AI=m(function*(n){if(n.code!==b.FAILED_PRECONDITION||n.message!==iU)throw n;M("LocalStore","Unexpectedly lost primary lease")}),AI.apply(this,arguments)}class zu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){xo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return o2(this.inner)}}class bU{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.bn(e,t,r))}bn(e,t,r){return this.Je.getEntry(e,t).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}Pn(e,t){e.forEach((r,i)=>{for(const s of t)s.applyToLocalView(i)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Pn(t,r))}getDocumentsMatchingQuery(e,t,r){return j.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,t.path):function fI(n){return null!==n.collectionGroup}(t)?this.Dn(e,t,r):this.Cn(e,t,r);var i}Sn(e,t){return this.Rn(e,new j(t)).next(r=>{let i=yI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,t,r){const i=t.collectionGroup;let s=yI();return this.Jt.getCollectionParents(e,i).next(o=>T.forEach(o,a=>{const u=(l=t,c=a.child(i),new es(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.Cn(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}Cn(e,t,r){let i,s;return this.Je.getDocumentsMatchingQuery(e,t,r).next(o=>(i=o,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(o=>(s=o,this.Nn(e,s,i).next(a=>{i=a;for(const u of s)for(const l of u.mutations){const c=l.key;let d=i.get(c);null==d&&(d=Ke.newInvalidDocument(c),i=i.insert(c,d)),gI(l,d,u.localWriteTime),d.isFoundDocument()||(i=i.remove(c))}}))).next(()=>(i.forEach((o,a)=>{Ed(t,a)||(i=i.remove(o))}),i))}Nn(e,t,r){let i=xe();for(const o of t)for(const a of o.mutations)a instanceof Ps&&null===r.get(a.key)&&(i=i.add(a.key));let s=r;return this.Je.getEntries(e,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}class kI{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=i}static $n(e,t){let r=xe(),i=xe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new kI(e,t.fromCache,r,i)}}class CU{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,r,i){return 0===(s=t).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(ne.min())?this.Fn(e,t):this.Mn.vn(e,i).next(s=>{const o=this.Ln(t,s);return(hg(t)||fg(t))&&this.Bn(t.limitType,o,i,r)?this.Fn(e,t):(iI()<=ve.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),pI(t)),this.Mn.getDocumentsMatchingQuery(e,t,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}Ln(e,t){let r=new it(w2(e));return t.forEach((i,s)=>{Ed(e,s)&&(r=r.add(s))}),r}Bn(e,t,r,i){if(r.size!==t.size)return!0;const s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fn(e,t){return iI()<=ve.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",pI(t)),this.Mn.getDocumentsMatchingQuery(e,t,ne.min())}}class xse{constructor(e,t,r,i){this.persistence=e,this.Un=t,this.k=i,this.qn=new Mt(pe),this.Kn=new zu(s=>_d(s),lg),this.jn=ne.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new bU(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function IU(n,e){return RI.apply(this,arguments)}function RI(){return RI=m(function*(n,e){const t=R(n);let r=t.An,i=t.Wn;const s=yield t.persistence.runTransaction("Handle user change","readonly",o=>{let a;return t.An.getAllMutationBatches(o).next(u=>(a=u,r=t.persistence.getMutationQueue(e),i=new bU(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const l=[],c=[];let d=xe();for(const h of a){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of u){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return i.vn(o,d).next(h=>({Gn:h,removedBatchIds:l,addedBatchIds:c}))})});return t.An=r,t.Wn=i,t.Un.On(t.Wn),s}),RI.apply(this,arguments)}function Nse(n,e){const t=R(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Qn.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=T.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);Y(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&l.addEntry(p,u.commitVersion))})}),h.next(()=>o.An.removeMutationBatch(a,c))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,i))})}function DU(n){const e=R(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function kse(n,e){const t=R(n),r=e.snapshotVersion;let i=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Qn.newChangeBuffer({trackRemovals:!0});i=t.qn;const a=[];e.targetChanges.forEach((l,c)=>{const d=i.get(c);if(!d)return;a.push(t.He.removeMatchingKeys(s,l.removedDocuments,c).next(()=>t.He.addMatchingKeys(s,l.addedDocuments,c)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,g;e.targetMismatches.has(c)?h=h.withResumeToken(At.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):l.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(l.resumeToken,r)),i=i.insert(c,h),p=h,g=l,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(t.He.updateTargetData(s,h))});let u=Dr();if(e.documentUpdates.forEach((l,c)=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function SU(n,e,t,r,i){let s=xe();return t.forEach(o=>s=s.add(o)),e.getEntries(n,s).next(o=>{let a=Dr();return t.forEach((u,l)=>{const c=o.get(u),d=(null==i?void 0:i.get(u))||r;l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(u,d),a=a.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l,d),a=a.insert(u,l)):M("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),a})}(s,o,e.documentUpdates,r,void 0).next(l=>{u=l})),!r.isEqual(ne.min())){const l=t.He.getLastRemoteSnapshotVersion(s).next(c=>t.He.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return T.waitFor(a).next(()=>o.apply(s)).next(()=>t.Wn.Vn(s,u)).next(()=>u)}).then(s=>(t.qn=i,s))}function Rse(n,e){const t=R(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function Wu(n,e){const t=R(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.He.getTargetData(r,e).next(s=>s?(i=s,T.resolve(i)):t.He.allocateTargetId(r).next(o=>(i=new Fs(e,o,0,r.currentSequenceNumber),t.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function Ku(n,e,t){return PI.apply(this,arguments)}function PI(){return PI=m(function*(n,e,t){const r=R(n),i=r.qn.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Fo(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),PI.apply(this,arguments)}function Dg(n,e,t){const r=R(n);let i=ne.min(),s=xe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=R(a),d=c.Kn.get(l);return void 0!==d?T.resolve(c.qn.get(d)):c.He.getTargetData(u,l)}(r,o,Ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Un.getDocumentsMatchingQuery(o,e,t?i:ne.min(),t?s:xe())).next(a=>({documents:a,zn:s})))}class Lse{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return T.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:$t(r.createTime)}),T.resolve()}getNamedQuery(e,t){return T.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:II(r.bundledQuery),readTime:$t(r.readTime)}),T.resolve();var r}}class VI{constructor(){this.ts=new it(Ht.es),this.ns=new it(Ht.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new Ht(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new Ht(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new j(new Ie([])),r=new Ht(t,e),i=new Ht(t,e+1),s=[];return this.ns.forEachInRange([r,i],o=>{this.os(o),s.push(o.key)}),s}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new j(new Ie([])),r=new Ht(t,e),i=new Ht(t,e+1);let s=xe();return this.ns.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ht(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ht{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return j.comparator(e.key,t.key)||pe(e.fs,t.fs)}static ss(e,t){return pe(e.fs,t.fs)||j.comparator(e.key,t.key)}}class Vse{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new it(Ht.es)}checkEmpty(e){return T.resolve(0===this.An.length)}addMutationBatch(e,t,r,i){const s=this.ds;this.ds++;const o=new EI(s,t,r,i);this.An.push(o);for(const a of i)this.ws=this.ws.add(new Ht(a.key,s)),this.Jt.addToCollectionParentIndex(e,a.key.path.popLast());return T.resolve(o)}lookupMutationBatch(e,t){return T.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.gs(t+1),s=i<0?0:i;return T.resolve(this.An.length>s?this.An[s]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return T.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ht(t,0),i=new Ht(t,Number.POSITIVE_INFINITY),s=[];return this.ws.forEachInRange([r,i],o=>{const a=this._s(o.fs);s.push(a)}),T.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new it(pe);return t.forEach(i=>{const s=new Ht(i,0),o=new Ht(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([s,o],a=>{r=r.add(a.fs)})}),T.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;j.isDocumentKey(s)||(s=s.child(""));const o=new Ht(new j(s),0);let a=new it(pe);return this.ws.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.fs)),!0)},o),T.resolve(this.ys(a))}ys(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Y(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return T.forEach(t.mutations,i=>{const s=new Ht(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new Ht(t,0),i=this.ws.firstAfterOrEqual(r);return T.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return T.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class Use{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Mt(j.comparator),this.size=0}addEntry(e,t,r){const i=t.key,s=this.docs.get(i),o=s?s.size:0,a=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a,readTime:r}),this.size+=a-o,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return T.resolve(r?r.document.mutableCopy():Ke.newInvalidDocument(t))}getEntries(e,t){let r=Dr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ke.newInvalidDocument(i))}),T.resolve(r)}getDocumentsMatchingQuery(e,t,r){let i=Dr();const s=new j(t.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:l}}=o.getNext();if(!t.path.isPrefixOf(a.path))break;l.compareTo(r)<=0||Ed(t,u)&&(i=i.insert(u.key,u.mutableCopy()))}return T.resolve(i)}Es(e,t){return T.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Bse(this)}getSize(e){return T.resolve(this.size)}}class Bse extends class Ise{constructor(){this.changes=new zu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:ne.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Ke.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?T.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?t.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),T.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class jse{constructor(e){this.persistence=e,this.Is=new zu(t=>_d(t),lg),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.As=0,this.Rs=new VI,this.targetCount=0,this.bs=Vo.ie()}forEachTarget(e,t){return this.Is.forEach((r,i)=>t(i)),T.resolve()}getLastRemoteSnapshotVersion(e){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return T.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),T.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Vo(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,T.resolve()}updateTargetData(e,t){return this.ae(t),T.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,T.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Is.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Is.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),T.waitFor(s).next(()=>i)}getTargetCount(e){return T.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return T.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),T.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),T.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),T.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return T.resolve(r)}containsKey(e,t){return T.resolve(this.Rs.containsKey(t))}}class $se{constructor(e,t){this.Ps={},this.Be=new ur(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new jse(this),this.Jt=new _se,this.Je=new Use(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new aU(t),this.Ye=new Lse(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new Vse(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){M("MemoryPersistence","Starting transaction:",e);const i=new Hse(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(s=>this.referenceDelegate.Ss(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ds(e,t){return T.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class Hse extends class pse{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class UI{constructor(e){this.persistence=e,this.Cs=new VI,this.Ns=null}static ks(e){return new UI(e)}get xs(){if(this.Ns)return this.Ns;throw $()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),T.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),T.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),T.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.xs,r=>{const i=j.fromPath(r);return this.$s(e,i).next(s=>{s||t.removeEntry(i)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return T.or([()=>T.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}class $I{constructor(){this.activeTargetIds=_g()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kU{constructor(){this.pi=new $I,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new $I,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class qse{Ei(e){}shutdown(){}}class RU{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Gse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class zse{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class Wse extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,i,s){const o=this.Ui(e,t);M("RestConnection","Sending: ",o,r);const a={};return this.qi(a,i,s),this.Ki(e,o,a,r).then(u=>(M("RestConnection","Received: ",u),u),u=>{throw sg("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ji(e,t,r,i,s){return this.Bi(e,t,r,i,s)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Su,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Ui(e,t){return`${this.Fi}/v1/${t}:${Gse[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,i){return new Promise((s,o)=>{const a=new gie;a.listenOnce(hie.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case rI.NO_ERROR:const l=a.getResponseJson();M("Connection","XHR received:",JSON.stringify(l)),s(l);break;case rI.TIMEOUT:M("Connection",'RPC "'+e+'" timed out'),o(new S(b.DEADLINE_EXCEEDED,"Request time out"));break;case rI.HTTP_ERROR:const c=a.getStatus();if(M("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(p)>=0?p:b.UNKNOWN}(d.status);o(new S(h,d.message))}else o(new S(b.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new S(b.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{M("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}Qi(e,t,r){const i=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cie(),o=die(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new pie({})),this.qi(a.initMessageHeaders,t,r),uO()||lO()||function NQ(){return Ft().indexOf("Electron/")>=0}()||cO()||function kQ(){return Ft().indexOf("MSAppHost/")>=0}()||Jf()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");M("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new zse({Vi:p=>{d?M("Connection","Not sending because WebChannel is closed:",p):(c||(M("Connection","Opening WebChannel transport."),l.open(),c=!0),M("Connection","WebChannel sending:",p),l.send(p))},Si:()=>l.close()}),f=(p,g,v)=>{p.listen(g,E=>{try{v(E)}catch(w){setTimeout(()=>{throw w},0)}})};return f(l,ig.EventType.OPEN,()=>{d||M("Connection","WebChannel transport opened.")}),f(l,ig.EventType.CLOSE,()=>{d||(d=!0,M("Connection","WebChannel transport closed"),h.Oi())}),f(l,ig.EventType.ERROR,p=>{d||(d=!0,sg("Connection","WebChannel transport errored:",p),h.Oi(new S(b.UNAVAILABLE,"The operation could not be completed")))}),f(l,ig.EventType.MESSAGE,p=>{var g;if(!d){const v=p.data[0];Y(!!v);const E=v,w=E.error||(null===(g=E[0])||void 0===g?void 0:g.error);if(w){M("Connection","WebChannel received error:",w);const A=w.status;let k=function(Se){const Ne=Et[Se];if(void 0!==Ne)return O2(Ne)}(A),z=w.message;void 0===k&&(k=b.INTERNAL,z="Unknown error status: "+A+" with message "+w.message),d=!0,h.Oi(new S(k,z)),l.close()}else M("Connection","WebChannel received:",v),h.Mi(v)}}),f(o,fie.STAT_EVENT,p=>{p.stat===ZV.PROXY?M("Connection","Detected buffering proxy"):p.stat===ZV.NOPROXY&&M("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function Mg(){return"undefined"!=typeof document?document:null}function Pd(n){return new Xie(n,!0)}class qI{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Me=e,this.timerId=t,this.Wi=r,this.Gi=i,this.zi=s,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,t-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class OU{constructor(e,t,r,i,s,o,a,u){this.Me=e,this.nr=r,this.sr=i,this.ir=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new qI(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return m(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return m(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var r=this;return m(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===b.RESOURCE_EXHAUSTED?(_t(t.toString()),_t("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===b.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===t&&this.Ir(r,i)},r=>{e(()=>{const i=new S(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi(m(function*(){e.state=0,e.start()}))}Ar(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kse extends OU{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.k=s}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function tse(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:$(),i=e.targetChange.targetIds||[],s=function(u,l){return u.C?(Y(void 0===l||"string"==typeof l),At.fromBase64String(l||"")):(Y(void 0===l||l instanceof Uint8Array),At.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?b.UNKNOWN:O2(u.code);return new S(l,u.message||"")}(o);t=new U2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=vi(n,r.document.name),s=$t(r.document.updateTime),o=new gn({mapValue:{fields:r.document.fields}}),a=Ke.newFoundDocument(i,s,o);t=new vg(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=vi(n,r.document),s=r.readTime?$t(r.readTime):ne.min(),o=Ke.newNoDocument(i,s);t=new vg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=vi(n,r.document);t=new vg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,s=new Hie(r.count||0);t=new V2(r.targetId,s)}}var u;return t}(this.k,e),r=function(i){if(!("targetChange"in i))return ne.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?$t(s.readTime):ne.min()}(e);return this.listener.br(t,r)}Pr(e){const t={};t.database=Md(this.k),t.addTarget=function(i,s){let o;const a=s.target;return o=cg(a)?{documents:Y2(i,a)}:{query:J2(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=H2(i,s.resumeToken):s.snapshotVersion.compareTo(ne.min())>0&&(o.readTime=Sd(i,s.snapshotVersion.toTimestamp())),o}(this.k,e);const r=function rse(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=Md(this.k),t.removeTarget=e,this.gr(t)}}class Qse extends OU{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.k=s,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function nse(n,e){return n&&n.length>0?(Y(void 0!==e),n.map(t=>function(r,i){let s=$t(r.updateTime?r.updateTime:i);return s.isEqual(ne.min())&&(s=$t(i)),new Bie(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=$t(e.commitTime);return this.listener.Cr(r,t)}return Y(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Md(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function wg(n,e){let t;if(e instanceof Cd)t={update:W2(n,e.key,e.value)};else if(e instanceof Td)t={delete:Ad(n,e.key)};else if(e instanceof Ps)t={update:W2(n,e.key,e.data),updateMask:use(e.fieldMask)};else{if(!(e instanceof mI))return $();t={verify:Ad(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ou)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ro)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Po)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Fu)return{fieldPath:s.field.canonicalString(),increment:o.N};throw $()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Zie(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:$()),t;var i}(this.k,r))};this.gr(t)}}class Yse extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=i,this.$r=!1}Or(){if(this.$r)throw new S(b.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.Bi(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(b.UNKNOWN,i.toString())})}ji(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.ji(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(b.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class Jse{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(_t(t),this.Lr=!1):M("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Xse{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=s,this.Hr.Ei(a=>{r.enqueueAndForget(m(function*(){var u;Bs(o)&&(M("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(l){const c=R(l);c.Gr.add(4),yield Qu(c),c.Jr.set("Unknown"),c.Gr.delete(4),yield Od(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this.Jr=new Jse(r,i)}}function Od(n){return GI.apply(this,arguments)}function GI(){return GI=m(function*(n){if(Bs(n))for(const e of n.zr)yield e(!0)}),GI.apply(this,arguments)}function Qu(n){return zI.apply(this,arguments)}function zI(){return zI=m(function*(n){for(const e of n.zr)yield e(!1)}),zI.apply(this,arguments)}function xg(n,e){const t=R(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),QI(t)?KI(t):Ju(t).lr()&&WI(t,e))}function Fd(n,e){const t=R(n),r=Ju(t);t.Wr.delete(e),r.lr()&&FU(t,e),0===t.Wr.size&&(r.lr()?r._r():Bs(t)&&t.Jr.set("Unknown"))}function WI(n,e){n.Yr.X(e.targetId),Ju(n).Pr(e)}function FU(n,e){n.Yr.X(e),Ju(n).vr(e)}function KI(n){n.Yr=new Qie({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),Ju(n).start(),n.Jr.Br()}function QI(n){return Bs(n)&&!Ju(n).hr()&&n.Wr.size>0}function Bs(n){return 0===R(n).Gr.size}function LU(n){n.Yr=void 0}function Zse(n){return YI.apply(this,arguments)}function YI(){return YI=m(function*(n){n.Wr.forEach((e,t)=>{WI(n,e)})}),YI.apply(this,arguments)}function eoe(n,e){return JI.apply(this,arguments)}function JI(){return JI=m(function*(n,e){LU(n),QI(n)?(n.Jr.Kr(e),KI(n)):n.Jr.set("Unknown")}),JI.apply(this,arguments)}function toe(n,e,t){return XI.apply(this,arguments)}function XI(){return XI=m(function*(n,e,t){if(n.Jr.set("Online"),e instanceof U2&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Wr.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Wr.delete(a),i.Yr.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ng(n,r)}else if(e instanceof vg?n.Yr.ot(e):e instanceof V2?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(ne.min()))try{const r=yield DU(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Yr.gt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Wr.get(u);l&&i.Wr.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.Wr.get(a);if(!u)return;i.Wr.set(a,u.withResumeToken(At.EMPTY_BYTE_STRING,u.snapshotVersion)),FU(i,a);const l=new Fs(u.target,a,1,u.sequenceNumber);WI(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){M("RemoteStore","Failed to raise snapshot:",r),yield Ng(n,r)}var r}),XI.apply(this,arguments)}function Ng(n,e,t){return ZI.apply(this,arguments)}function ZI(){return ZI=m(function*(n,e,t){if(!Fo(e))throw e;n.Gr.add(1),yield Qu(n),n.Jr.set("Offline"),t||(t=()=>DU(n.localStore)),n.asyncQueue.enqueueRetryable(m(function*(){M("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Od(n)}))}),ZI.apply(this,arguments)}function VU(n,e){return e().catch(t=>Ng(n,t,e))}function Yu(n){return eD.apply(this,arguments)}function eD(){return eD=m(function*(n){const e=R(n),t=js(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;noe(e);)try{const i=yield Rse(e.localStore,r);if(null===i){0===e.Qr.length&&t._r();break}r=i.batchId,roe(e,i)}catch(i){yield Ng(e,i)}UU(e)&&BU(e)}),eD.apply(this,arguments)}function noe(n){return Bs(n)&&n.Qr.length<10}function roe(n,e){n.Qr.push(e);const t=js(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function UU(n){return Bs(n)&&!js(n).hr()&&n.Qr.length>0}function BU(n){js(n).start()}function ioe(n){return tD.apply(this,arguments)}function tD(){return tD=m(function*(n){js(n).kr()}),tD.apply(this,arguments)}function soe(n){return nD.apply(this,arguments)}function nD(){return nD=m(function*(n){const e=js(n);for(const t of n.Qr)e.Dr(t.mutations)}),nD.apply(this,arguments)}function ooe(n,e,t){return rD.apply(this,arguments)}function rD(){return rD=m(function*(n,e,t){const r=n.Qr.shift(),i=bI.from(r,e,t);yield VU(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Yu(n)}),rD.apply(this,arguments)}function aoe(n,e){return iD.apply(this,arguments)}function iD(){return iD=m(function*(n,e){var t;e&&js(n).Sr&&(yield(t=m(function*(r,i){if(P2(s=i.code)&&s!==b.ABORTED){const o=r.Qr.shift();js(r).wr(),yield VU(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Yu(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),UU(n)&&BU(n)}),iD.apply(this,arguments)}function jU(n,e){return sD.apply(this,arguments)}function sD(){return sD=m(function*(n,e){const t=R(n);t.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=Bs(t);t.Gr.add(3),yield Qu(t),r&&t.Jr.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Gr.delete(3),yield Od(t)}),sD.apply(this,arguments)}function aD(){return aD=m(function*(n,e){const t=R(n);e?(t.Gr.delete(2),yield Od(t)):e||(t.Gr.add(2),yield Qu(t),t.Jr.set("Unknown"))}),aD.apply(this,arguments)}function Ju(n){return n.Xr||(n.Xr=function(e,t,r){const i=R(e);return i.Or(),new Kse(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:Zse.bind(null,n),Ni:eoe.bind(null,n),br:toe.bind(null,n)}),n.zr.push(function(){var e=m(function*(t){t?(n.Xr.wr(),QI(n)?KI(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),LU(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function js(n){return n.Zr||(n.Zr=function(e,t,r){const i=R(e);return i.Or(),new Qse(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:ioe.bind(null,n),Ni:aoe.bind(null,n),Nr:soe.bind(null,n),Cr:ooe.bind(null,n)}),n.zr.push(function(){var e=m(function*(t){t?(n.Zr.wr(),yield Yu(n)):(yield n.Zr.stop(),n.Qr.length>0&&(M("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class uD{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new jt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new uD(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xu(n,e){if(_t("AsyncQueue",`${e}: ${n}`),Fo(n))return new S(b.UNAVAILABLE,`${e}: ${n}`);throw n}class Zu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||j.comparator(t.key,r.key):(t,r)=>j.comparator(t.key,r.key),this.keyedMap=yI(),this.sortedSet=new Mt(this.comparator)}static emptySet(e){return new Zu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Zu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class $U{constructor(){this.eo=new Mt(j.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):$():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class el{constructor(e,t,r,i,s,o,a,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new el(e,t,Zu.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class uoe{constructor(){this.so=void 0,this.listeners=[]}}class loe{constructor(){this.queries=new zu(e=>v2(e),wd),this.onlineState="Unknown",this.io=new Set}}function cD(){return cD=m(function*(n,e){const t=R(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new uoe),i)try{s.so=yield t.onListen(r)}catch(o){const a=Xu(o,`Initialization of query '${pI(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.ro(t.onlineState),s.so&&e.oo(s.so)&&fD(t)}),cD.apply(this,arguments)}function hD(){return hD=m(function*(n,e){const t=R(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),hD.apply(this,arguments)}function coe(n,e){const t=R(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.oo(i)&&(r=!0);o.so=i}}r&&fD(t)}function doe(n,e,t){const r=R(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function fD(n){n.io.forEach(e=>{e.next()})}class pD{constructor(e,t,r){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new el(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class GU{constructor(e){this.key=e}}class zU{constructor(e){this.key=e}}class WU{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=xe(),this.mutatedKeys=xe(),this.Ao=w2(e),this.Ro=new Zu(this.Ao)}get bo(){return this.To}Po(e,t){const r=t?t.vo:new $U,i=t?t.Ro:this.Ro;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=hg(this.query)&&i.size===this.query.limit?i.last():null,l=fg(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Ed(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),v=!0):this.Vo(h,f)||(r.track({type:2,doc:f}),v=!0,(u&&this.Ao(f,u)>0||l&&this.Ao(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(u||l)&&(a=!0)),v&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),hg(this.query)||fg(this.query))for(;o.size>this.query.limit;){const c=hg(this.query)?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ro:o,vo:r,Bn:a,mutatedKeys:s}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const s=e.vo.no();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return f(d)-f(h)}(l.type,c.type)||this.Ao(l.doc,c.doc)),this.So(r);const o=t?this.Do():[],a=0===this.Io.size&&this.current?1:0,u=a!==this.Eo;return this.Eo=a,0!==s.length||u?{snapshot:new el(this.query,e.Ro,i,s,e.mutatedKeys,0===a,u,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new $U,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=xe(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new zU(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new GU(r))}),t}ko(e){this.To=e.zn,this.Io=xe();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return el.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class poe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class goe{constructor(e){this.key=e,this.$o=!1}}class moe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new zu(a=>v2(a),wd),this.Fo=new Map,this.Lo=new Set,this.Bo=new Mt(j.comparator),this.Uo=new Map,this.qo=new VI,this.Ko={},this.jo=new Map,this.Qo=Vo.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function yoe(n,e){return gD.apply(this,arguments)}function gD(){return gD=m(function*(n,e){const t=VD(n);let r,i;const s=t.Mo.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=yield Wu(t.localStore,Ir(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield mD(t,e,r,"current"===a),t.isPrimaryClient&&xg(t.remoteStore,o)}return i}),gD.apply(this,arguments)}function mD(n,e,t,r){return yD.apply(this,arguments)}function yD(){return yD=m(function*(n,e,t,r){n.Go=(c,d,h)=>{return(f=m(function*(p,g,v,E){let w=g.view.Po(v);w.Bn&&(w=yield Dg(p.localStore,g.query,!1).then(({documents:z})=>g.view.Po(z,w)));const A=E&&E.targetChanges.get(g.targetId),k=g.view.applyChanges(w,p.isPrimaryClient,A);return SD(p,g.targetId,k.Co),k.snapshot}),function(p,g,v,E){return f.apply(this,arguments)})(n,c,d,h);var f};const i=yield Dg(n.localStore,e,!0),s=new WU(e,i.zn),o=s.Po(i.documents),a=Dd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),u=s.applyChanges(o,n.isPrimaryClient,a);SD(n,t,u.Co);const l=new poe(e,t,s);return n.Mo.set(e,l),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),u.snapshot}),yD.apply(this,arguments)}function _oe(n,e){return _D.apply(this,arguments)}function _D(){return _D=m(function*(n,e){const t=R(n),r=t.Mo.get(e),i=t.Fo.get(r.targetId);if(i.length>1)return t.Fo.set(r.targetId,i.filter(s=>!wd(s,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ku(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Fd(t.remoteStore,r.targetId),tl(t,r.targetId)}).catch(Uo))):(tl(t,r.targetId),yield Ku(t.localStore,r.targetId,!0))}),_D.apply(this,arguments)}function vD(){return vD=m(function*(n,e,t){const r=UD(n);try{const i=yield function(s,o){const a=R(s),u=en.now(),l=o.reduce((d,h)=>d.add(h.key),xe());let c;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Wn.vn(d,l).next(h=>{c=h;const f=[];for(const p of o){const g=$ie(p,c.get(p.key));null!=g&&f.push(new Ps(p.key,g,h2(g.value.mapValue),wt.exists(!0)))}return a.An.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(c),{batchId:d.batchId,changes:c}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Ko[s.currentUser.toKey()];u||(u=new Mt(pe)),u=u.insert(o,a),s.Ko[s.currentUser.toKey()]=u}(r,i.batchId,t),yield rs(r,i.changes),yield Yu(r.remoteStore)}catch(i){const s=Xu(i,"Failed to persist write");t.reject(s)}}),vD.apply(this,arguments)}function KU(n,e){return wD.apply(this,arguments)}function wD(){return wD=m(function*(n,e){const t=R(n);try{const r=yield kse(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Uo.get(s);o&&(Y(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.$o=!0:i.modifiedDocuments.size>0?Y(o.$o):i.removedDocuments.size>0&&(Y(o.$o),o.$o=!1))}),yield rs(t,r,e)}catch(r){yield Uo(r)}}),wD.apply(this,arguments)}function QU(n,e,t){const r=R(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Mo.forEach((s,o)=>{const a=o.view.ro(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.ro(o)&&(u=!0)}),u&&fD(a)}(r.eventManager,e),i.length&&r.Oo.br(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function woe(n,e,t){return ED.apply(this,arguments)}function ED(){return ED=m(function*(n,e,t){const r=R(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Uo.get(e),s=i&&i.key;if(s){let o=new Mt(j.comparator);o=o.insert(s,Ke.newNoDocument(s,ne.min()));const a=xe().add(s),u=new Id(ne.min(),new Map,new it(pe),o,a);yield KU(r,u),r.Bo=r.Bo.remove(s),r.Uo.delete(e),AD(r)}else yield Ku(r.localStore,e,!1).then(()=>tl(r,e,t)).catch(Uo)}),ED.apply(this,arguments)}function Eoe(n,e){return bD.apply(this,arguments)}function bD(){return bD=m(function*(n,e){const t=R(n),r=e.batch.batchId;try{const i=yield Nse(t.localStore,e);DD(t,r,null),ID(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield rs(t,i)}catch(i){yield Uo(i)}}),bD.apply(this,arguments)}function boe(n,e,t){return CD.apply(this,arguments)}function CD(){return CD=m(function*(n,e,t){const r=R(n);try{const i=yield function(s,o){const a=R(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.An.lookupMutationBatch(u,o).next(c=>(Y(null!==c),l=c.keys(),a.An.removeMutationBatch(u,c))).next(()=>a.An.performConsistencyCheck(u)).next(()=>a.Wn.vn(u,l))})}(r.localStore,e);DD(r,e,t),ID(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield rs(r,i)}catch(i){yield Uo(i)}}),CD.apply(this,arguments)}function ID(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function DD(n,e,t){const r=R(n);let i=r.Ko[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function tl(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Mo.delete(r),t&&n.Oo.zo(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||YU(n,r)})}function YU(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Fd(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),AD(n))}function SD(n,e,t){for(const r of t)r instanceof GU?(n.qo.addReference(r.key,e),Toe(n,r)):r instanceof zU?(M("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||YU(n,r.key)):$()}function Toe(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(M("SyncEngine","New document in limbo: "+t),n.Lo.add(r),AD(n))}function AD(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new j(Ie.fromString(e)),r=n.Qo.next();n.Uo.set(r,new goe(t)),n.Bo=n.Bo.insert(t,r),xg(n.remoteStore,new Fs(Ir(Ru(t.path)),r,2,ur.I))}}function rs(n,e,t){return MD.apply(this,arguments)}function MD(){return MD=m(function*(n,e,t){const r=R(n),i=[],s=[],o=[];var a;r.Mo.isEmpty()||(r.Mo.forEach((a,u)=>{o.push(r.Go(u,e,t).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=kI.$n(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.Oo.br(i),yield(a=m(function*(u,l){const c=R(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>T.forEach(l,h=>T.forEach(h.kn,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>T.forEach(h.xn,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Fo(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.qn.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.qn=c.qn.insert(h,g)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),MD.apply(this,arguments)}function Ioe(n,e){return xD.apply(this,arguments)}function xD(){return xD=m(function*(n,e){const t=R(n);if(!t.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=yield IU(t.localStore,e);t.currentUser=e,(i=t).jo.forEach(o=>{o.forEach(a=>{a.reject(new S(b.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield rs(t,r.Gn)}var i}),xD.apply(this,arguments)}function Doe(n,e){const t=R(n),r=t.Uo.get(e);if(r&&r.$o)return xe().add(r.key);{let i=xe();const s=t.Fo.get(e);if(!s)return i;for(const o of s){const a=t.Mo.get(o);i=i.unionWith(a.view.bo)}return i}}function VD(n){const e=R(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=KU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Doe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=woe.bind(null,e),e.Oo.br=coe.bind(null,e.eventManager),e.Oo.zo=doe.bind(null,e.eventManager),e}function UD(n){const e=R(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Eoe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=boe.bind(null,e),e}class Ooe{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return m(function*(){t.k=Pd(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return function TU(n,e,t,r){return new xse(n,e,t,r)}(this.persistence,new CU,e.initialUser,this.k)}Yo(e){return new $se(UI.ks,this.k)}Jo(e){return new kU}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class BD{initialize(e,t){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>QU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Ioe.bind(null,r.syncEngine),yield function oD(n,e){return aD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new loe}createDatastore(e){const t=Pd(e.databaseInfo.databaseId),r=new Wse(e.databaseInfo);return new Yse(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>QU(this.syncEngine,a,0),o=RU.Pt()?new RU:new qse,new Xse(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,l){const c=new moe(r,i,s,o,a,u);return l&&(c.Wo=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=m(function*(t){const r=R(t);M("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield Qu(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class kg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class joe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Zt.UNAUTHENTICATED,this.clientId=r2.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){M("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(M("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new jt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Xu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function eB(n,e){return jD.apply(this,arguments)}function jD(){return jD=m(function*(n,e){n.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield IU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),jD.apply(this,arguments)}function tB(n,e){return $D.apply(this,arguments)}function $D(){return $D=m(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield HD(n);M("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>jU(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>jU(e.remoteStore,s)),n.onlineComponents=e}),$D.apply(this,arguments)}function HD(n){return qD.apply(this,arguments)}function qD(){return qD=m(function*(n){return n.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),yield eB(n,new Ooe)),n.offlineComponents}),qD.apply(this,arguments)}function Rg(n){return GD.apply(this,arguments)}function GD(){return GD=m(function*(n){return n.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),yield tB(n,new BD)),n.onlineComponents}),GD.apply(this,arguments)}function nl(n){return KD.apply(this,arguments)}function KD(){return KD=m(function*(n){const e=yield Rg(n),t=e.eventManager;return t.onListen=yoe.bind(null,e.syncEngine),t.onUnlisten=_oe.bind(null,e.syncEngine),t}),KD.apply(this,arguments)}class Yoe{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Ld{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ld&&e.projectId===this.projectId&&e.database===this.database}}const oB=new Map;function QD(n,e,t){if(!t)throw new S(b.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aB(n){if(!j.isDocumentKey(n))throw new S(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uB(n){if(j.isDocumentKey(n))throw new S(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Pg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":$()}function Ee(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new S(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pg(n);throw new S(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class cB{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new S(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Joe(n,e,t,r){if(!0===e&&!0===r)throw new S(b.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cB({}),this._settingsFrozen=!1,e instanceof Ld?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new S(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ld(i.options.projectId)}(e))}get app(){if(!this._app)throw new S(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cB(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new mie;switch(t.type){case"gapi":const r=t.client;return Y(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new wie(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new S(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=oB.get(e);t&&(M("ComponentProvider","Removing Datastore"),oB.delete(e),t.terminate())}(this),Promise.resolve()}}class lt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}}class yn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yn(this.firestore,e,this._query)}}class Ei extends yn{constructor(e,t,r){super(e,t,Ru(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new j(e))}withConverter(e){return new Ei(this.firestore,e,this._path)}}function Xoe(n,e,...t){if(n=Lt(n),QD("collection","path",e),n instanceof Vd){const r=Ie.fromString(e,...t);return uB(r),new Ei(n,null,r)}{if(!(n instanceof lt||n instanceof Ei))throw new S(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ie.fromString(e,...t));return uB(r),new Ei(n.firestore,null,r)}}function dB(n,e,...t){if(n=Lt(n),1===arguments.length&&(e=r2.A()),QD("doc","path",e),n instanceof Vd){const r=Ie.fromString(e,...t);return aB(r),new lt(n,null,new j(r))}{if(!(n instanceof lt||n instanceof Ei))throw new S(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ie.fromString(e,...t));return aB(r),new lt(n.firestore,n instanceof Ei?n.converter:null,new j(r))}}class eae{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new qI(this,"async_queue_retry"),this.bc=()=>{const t=Mg();t&&M("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=Mg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=Mg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new jt;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return m(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!Fo(t))throw t;M("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,_t("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=t,t}enqueueAfterDelay(e,t,r){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const i=uD.createAndSchedule(this,e,t,r,s=>this.Sc(s));return this.Tc.push(i),i}Pc(){this.Ec&&$()}verifyOperationInProgress(){}Dc(){var e=this;return m(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function YD(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Qe extends Vd{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new eae,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||hB(this),this._firestoreClient.terminate()}}function nae(n=mw()){return du(n,"firestore").getImmediate()}function xt(n){return n._firestoreClient||hB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function hB(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Yoe(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new joe(n._authCredentials,n._appCheckCredentials,n._queue,r)}class rl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new S(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bo(At.fromBase64String(e))}catch(t){throw new S(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bo(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class JD{constructor(e){this._methodName=e}}class XD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new S(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new S(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}const rae=/^__.*__$/;class iae{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ps(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cd(e,this.data,t,this.fieldTransforms)}}class gB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ps(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class Og{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=i,void 0===s&&this.xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new Og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Oc({path:r,Fc:!1});return i.Lc(e),i}Bc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Oc({path:r,Fc:!1});return i.xc(),i}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return Lg(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(mB(this.$c)&&rae.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class sae{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||Pd(e)}Qc(e,t,r,i=!1){return new Og({$c:e,methodName:t,jc:r,path:pn.emptyPath(),Fc:!1,Kc:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function il(n){const e=n._freezeSettings(),t=Pd(n._databaseId);return new sae(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZD(n,e,t,r,i,s={}){const o=n.Qc(s.merge||s.mergeFields?2:0,e,t,i);t0("Data must be an object, but it was:",o,r);const a=EB(r,o);let u,l;if(s.merge)u=new Mu(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=n0(e,d,t);if(!o.contains(h))throw new S(b.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);CB(c,h)||c.push(h)}u=new Mu(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new iae(new gn(a),u,l)}class Ud extends JD{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ud}}function jo(n,e){if(bB(n=Lt(n)))return t0("Unsupported field value:",e,n),EB(n,e);if(n instanceof JD)return function(t,r){if(!mB(r.$c))throw r.qc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=jo(o,r.Uc(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Lt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return C2(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=en.fromDate(t);return{timestampValue:Sd(r.k,i)}}if(t instanceof en){const i=new en(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Sd(r.k,i)}}if(t instanceof XD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Bo)return{bytesValue:H2(r.k,t._byteString)};if(t instanceof lt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.qc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:_I(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.qc(`Unsupported field value: ${Pg(t)}`)}(n,e)}function EB(n,e){const t={};return o2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(n,(r,i)=>{const s=jo(i,e.Mc(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function bB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof en||n instanceof XD||n instanceof Bo||n instanceof lt||n instanceof JD)}function t0(n,e,t){if(!bB(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Pg(t);throw e.qc("an object"===r?n+" a custom object":n+" "+r)}var r}function n0(n,e,t){if((e=Lt(e))instanceof rl)return e._internalPath;if("string"==typeof e)return Fg(n,e);throw Lg("Field path arguments must be of type string or ",n,!1,void 0,t)}const lae=new RegExp("[~\\*/\\[\\]]");function Fg(n,e,t){if(e.search(lae)>=0)throw Lg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rl(...e.split("."))._internalPath}catch(r){throw Lg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new S(b.INVALID_ARGUMENT,a+n+u)}function CB(n,e){return n.some(t=>t.isEqual(e))}class r0{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cae extends r0{data(){return super.data()}}function Vg(n,e){return"string"==typeof e?Fg(n,e):e instanceof rl?e._internalPath:e._delegate._internalPath}class $o{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sl extends r0{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Vg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ug extends sl{data(e={}){return super.data(e)}}class ol{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new $o(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ug(this._firestore,this._userDataWriter,r.key,r,new $o(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new S(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Ug(r._firestore,r._userDataWriter,o.doc.key,o.doc,new $o(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Ug(r._firestore,r._userDataWriter,o.doc.key,o.doc,new $o(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:dae(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dae(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class Ho extends class pae{convertValue(e,t="none"){switch(ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){const r={};return xo(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new XD(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=a2(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(gd(e));default:return null}}convertTimestamp(e){const t=Rs(e);return new en(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ie.fromString(e);Y(nU(r));const i=new Ld(r.get(1),r.get(3)),s=new j(r.popFirst(5));return i.isEqual(t)||_t(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,t)}}function yae(n){return Bd(Ee(n.firestore,Qe),[new Td(n._key,wt.none())])}function _ae(n,e){const t=Ee(n.firestore,Qe),r=dB(n),i=function s0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return Bd(t,[ZD(il(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,wt.exists(!1))]).then(()=>r)}function Bd(n,e){return function(t,r){const i=new jt;return t.asyncQueue.enqueueAndForget(m(function*(){return function voe(n,e,t){return vD.apply(this,arguments)}(yield function WD(n){return Rg(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(xt(n),e)}!function(n,e=!0){Su="9.6.5",$n(new An("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new Qe(i,new _ie(t.getProvider("auth-internal")),new Eie(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),rt(e2,"3.4.4",n),rt(e2,"3.4.4","esm2017")}();var Eae={includeMetadataChanges:!1};function u0(n,e){return void 0===e&&(e=Eae),new Re(function(t){var r=function vae(n,...e){var t,r,i;n=Lt(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||YD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(YD(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(n instanceof lt)l=Ee(n.firestore,Qe),c=Ru(n._key.path),u={next:d=>{e[o]&&e[o](function o0(n,e,t){const r=t.docs.get(e._key),i=new Ho(n);return new sl(n,i,e._key,r,new $o(t.hasPendingWrites,t.fromCache),e.converter)}(l,n,d))},error:e[o+1],complete:e[o+2]};else{const d=Ee(n,yn);l=Ee(d.firestore,Qe),c=d._query;const h=new Ho(l);u={next:f=>{e[o]&&e[o](new ol(l,h,d,f))},error:e[o+1],complete:e[o+2]},function TB(n){if(fg(n)&&0===n.explicitOrderBy.length)throw new S(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const g=new kg(p),v=new pD(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function lD(n,e){return cD.apply(this,arguments)}(yield nl(d),v)})),()=>{g.nc(),d.asyncQueue.enqueueAndForget(m(function*(){return function dD(n,e){return hD.apply(this,arguments)}(yield nl(d),v)}))}}(xt(l),c,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function RB(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}function Mae(n,e){return void 0===e&&(e={}),function Aae(n){return u0(n,{includeMetadataChanges:!0}).pipe(me(function(e){return e.docs}))}(n).pipe(me(function(t){return t.map(function(r){return RB(r,e)})}))}class jg{constructor(e){return e}}const LB="firestore",d0=new X("angularfire2.firestore-instances");function kae(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new jg(r)}}const Rae={provide:class xae{constructor(){return QE(LB)}},deps:[[new at,d0]]},Pae={provide:jg,useFactory:function Nae(n,e){const t=KE(LB,n,e);return t&&new jg(t)},deps:[[new at,d0],_u]};let Oae=(()=>{class n{constructor(){rt("angularfire",up.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({providers:[Pae,Rae]}),n})();function Fae(n,...e){return{ngModule:Oae,providers:[{provide:d0,useFactory:kae(n),multi:!0,deps:[He,ft,YE,JE,[new at,VL],[new at,pb],...e]}]}}const Lae=or(Mae,!0),Vae=or(_ae,!0),Uae=or(Xoe,!0),Bae=or(yae,!0),h0=or(dB,!0),jae=or(nae,!0);class $ae extends Xr{constructor(e=1/0,t=1/0,r=HE){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}let $g=(()=>{class n{constructor(t){this.afs=t,this.customersRef=Uae(this.afs,"customers"),this.customer$=Lae(this.customersRef,{idField:"id"}).pipe(function Hae(n,e,t){var r,i;let s,o=!1;return n&&"object"==typeof n?(s=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,o=!!n.refCount,t=n.scheduler):s=null!=n?n:1/0,cS({connector:()=>new $ae(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1))}add(t){return Vae(this.customersRef,t)}remove(t){const r=h0(this.customersRef,t);return Bae(r)}getAll(){return this.customer$}getById(t){return function Cae(n,e){return void 0===e&&(e={}),function bae(n){return u0(n,{includeMetadataChanges:!0})}(n).pipe(me(function(t){return RB(t,e)}))}(h0(this.customersRef,t),{idField:"id"})}update(t){var{id:r}=t,i=Qf(t,["id"]);r&&function mae(n,e,t,...r){n=Ee(n,lt);const i=Ee(n.firestore,Qe),s=il(i);let o;o="string"==typeof(e=Lt(e))||e instanceof rl?function vB(n,e,t,r,i,s){const o=n.Qc(1,e,t),a=[n0(e,r,t)],u=[i];if(s.length%2!=0)throw new S(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(n0(e,s[h])),u.push(s[h+1]);const l=[],c=gn.empty();for(let h=a.length-1;h>=0;--h)if(!CB(l,a[h])){const f=a[h];let p=u[h];p=Lt(p);const g=o.Bc(f);if(p instanceof Ud)l.push(f);else{const v=jo(p,g);null!=v&&(l.push(f),c.set(f,v))}}const d=new Mu(l);return new gB(c,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function _B(n,e,t,r){const i=n.Qc(1,e,t);t0("Data must be an object, but it was:",i,r);const s=[],o=gn.empty();xo(r,(u,l)=>{const c=Fg(e,u,t);l=Lt(l);const d=i.Bc(c);if(l instanceof Ud)s.push(c);else{const h=jo(l,d);null!=h&&(s.push(c),o.set(c,h))}});const a=new Mu(s);return new gB(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),Bd(i,[o.toMutation(n._key,wt.exists(!0))])}(h0(this.customersRef,r),i)}}return n.\u0275fac=function(t){return new(t||n)(F(jg))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qae(n,e){if(1&n&&(y(0,"table",7),y(1,"tbody"),y(2,"tr"),y(3,"td"),y(4,"b"),D(5,"First Name:"),_(),_(),y(6,"td"),D(7),_(),_(),y(8,"tr"),y(9,"td"),y(10,"b"),D(11,"Last Name:"),_(),_(),y(12,"td"),D(13),_(),_(),y(14,"tr"),y(15,"td"),y(16,"b"),D(17,"Email:"),_(),_(),y(18,"td"),y(19,"a",8),D(20),_(),_(),_(),y(21,"tr"),y(22,"td"),y(23,"b"),D(24,"Phone:"),_(),_(),y(25,"td"),y(26,"a",8),D(27),_(),_(),_(),y(28,"tr"),y(29,"td"),y(30,"b"),D(31,"Address:"),_(),_(),y(32,"td"),D(33),_(),_(),y(34,"tr"),y(35,"td"),y(36,"b"),D(37,"Notes:"),_(),_(),y(38,"td"),D(39),_(),_(),_(),_()),2&n){const t=e.ngIf;x(7),Ur(t.firstName),x(6),Ur(t.lastName),x(6),B("href","mailto:"+t.email,xi),x(1),et(" ",t.email," "),x(6),B("href","tel:"+t.phone,xi),x(1),et(" ",t.phone," "),x(6),Ur(t.address),x(6),Ur(t.notes)}}function Gae(n,e){1&n&&(y(0,"p"),y(1,"i"),D(2,"loading..."),_(),_())}let zae=(()=>{class n{constructor(t,r){this.activatedRoute=t,this.customerService=r,this.customer$=this.activatedRoute.params.pipe(Bi(i=>this.customerService.getById(i.id)))}ngOnInit(){}ngOnDestroy(){}}return n.\u0275fac=function(t){return new(t||n)(C(Hi),C($g))},n.\u0275cmp=sn({type:n,selectors:[["app-customers-details"]],decls:11,vars:4,consts:[["title","review customer","description","review customer's details","icon","bi bi-person-circle"],[1,"mt-4"],[1,"row"],[1,"col-12"],["routerLink","..",1,"btn","btn-secondary"],["class","table table-bordered",4,"ngIf","ngIfElse"],["loading",""],[1,"table","table-bordered"],[3,"href"]],template:function(t,r){if(1&t&&(Oe(0,"app-page-header",0),y(1,"div",1),y(2,"div",2),y(3,"div",3),y(4,"p"),y(5,"a",4),D(6,"Back"),_(),_(),be(7,qae,40,8,"table",5),wr(8,"async"),_(),_(),_(),be(9,Gae,3,0,"ng-template",null,6,Wa)),2&t){const i=Me(10);x(7),B("ngIf",Oi(8,2,r.customer$))("ngIfElse",i)}},directives:[uu,Ds,_s],pipes:[hf],styles:[""]}),n})();function Wae(n,e){1&n&&(y(0,"div",31),D(1," First name is required "),_())}function Kae(n,e){if(1&n&&(y(0,"div",31),D(1),_()),2&n){Un();const t=Me(13);x(1),et(" First name must be at least ",null==t.errors?null:t.errors.minlength.requiredLength," characters long ")}}function Qae(n,e){1&n&&(y(0,"div",31),D(1," Last name is required "),_())}function Yae(n,e){if(1&n&&(y(0,"div",31),D(1),_()),2&n){Un();const t=Me(23);x(1),et(" Last name must be at least ",null==t.errors?null:t.errors.minlength.requiredLength," characters long ")}}function Jae(n,e){1&n&&(y(0,"div",31),D(1," Email is required "),_())}function Xae(n,e){1&n&&(y(0,"div",31),D(1," A valid email address must be provided "),_())}function Zae(n,e){1&n&&(y(0,"div",31),D(1," Phone is required "),_())}function eue(n,e){if(1&n&&(y(0,"div",31),D(1),_()),2&n){Un();const t=Me(44);x(1),et(" ",null==t.errors?null:t.errors.pattern.actualValue," is not a valid phone number ")}}const Hg=function(n,e){return{"is-valid":n,"is-invalid":e}};let tue=(()=>{class n{constructor(t,r,i){this.customerService=t,this.routerService=r,this.activatedRoute=i,this.form={firstName:"",lastName:"",email:"",phone:"",address:"",notes:""},this.subs=[]}onSubmit({valid:t}){var r=this;return m(function*(){t&&(yield r.customerService.update(r.form),r.routerService.navigate(["../.."],{relativeTo:r.activatedRoute}))})()}ngOnInit(){const t=this.activatedRoute.params.pipe(Bi(r=>this.customerService.getById(r.id))).subscribe(r=>{this.form=r});this.subs.push(t)}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(C($g),C(Ot),C(Hi))},n.\u0275cmp=sn({type:n,selectors:[["app-customers-edit"]],decls:64,vars:31,consts:[["title","edit customer","description","edit a customer","icon","bi bi-person-plus"],[1,"row","mt-5"],[1,"col-12"],["novalidate","novalidate","autocomplete","off",3,"ngSubmit"],["customerForm","ngForm"],[1,"row","justify-content-center"],[1,"col-md-5","mb-3"],["for","firstName"],[1,"text-danger","me-1"],["type","text","required","","minlength","2","id","firstName","name","firstName",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["fnf","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","lastName"],["type","text","required","","minlength","2","id","lastName","name","lastName",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["lnf","ngModel"],["for","email"],["type","text","required","","pattern","^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$","id","email","name","email",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["ef","ngModel"],["for","phone"],["required","","pattern","^0[2-9]\\d{7,8}$","type","text","id","phone","name","phone",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["pf","ngModel"],[1,"col-md-10","mb-3"],["for","address"],["id","address","name","address","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["af","ngModel"],["for","notes"],["id","notes","name","notes","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["nf","ngModel"],[1,"bg-light","p-3","text-center"],["routerLink","../..",1,"btn","btn-secondary"],["type","submit","value","Update",1,"btn","btn-primary","ms-3",3,"disabled"],[1,"invalid-feedback"]],template:function(t,r){if(1&t){const i=zl();Oe(0,"app-page-header",0),y(1,"div",1),y(2,"div",2),y(3,"form",3,4),ge("ngSubmit",function(){aa(i);const o=Me(4);return r.onSubmit(o)}),y(5,"div",5),y(6,"div",6),y(7,"label",7),y(8,"span",8),D(9,"*"),_(),y(10,"span"),D(11,"First Name"),_(),_(),y(12,"input",9,10),ge("ngModelChange",function(o){return r.form.firstName=o}),_(),be(14,Wae,2,0,"div",11),be(15,Kae,2,1,"div",11),_(),y(16,"div",6),y(17,"label",12),y(18,"span",8),D(19,"*"),_(),y(20,"span"),D(21,"Last Name"),_(),_(),y(22,"input",13,14),ge("ngModelChange",function(o){return r.form.lastName=o}),_(),be(24,Qae,2,0,"div",11),be(25,Yae,2,1,"div",11),_(),_(),y(26,"div",5),y(27,"div",6),y(28,"label",15),y(29,"span",8),D(30,"*"),_(),y(31,"span"),D(32,"Email"),_(),_(),y(33,"input",16,17),ge("ngModelChange",function(o){return r.form.email=o}),_(),be(35,Jae,2,0,"div",11),be(36,Xae,2,0,"div",11),_(),y(37,"div",6),y(38,"label",18),y(39,"span",8),D(40,"*"),_(),y(41,"span"),D(42,"Phone"),_(),_(),y(43,"input",19,20),ge("ngModelChange",function(o){return r.form.phone=o}),_(),be(45,Zae,2,0,"div",11),be(46,eue,2,1,"div",11),_(),_(),y(47,"div",5),y(48,"div",21),y(49,"label",22),D(50,"Address"),_(),y(51,"textarea",23,24),ge("ngModelChange",function(o){return r.form.address=o}),_(),_(),_(),y(53,"div",5),y(54,"div",21),y(55,"label",25),D(56,"Notes"),_(),y(57,"textarea",26,27),ge("ngModelChange",function(o){return r.form.notes=o}),_(),_(),_(),y(59,"div",5),y(60,"div",28),y(61,"a",29),D(62,"Cancel"),_(),Oe(63,"input",30),_(),_(),_(),_(),_()}if(2&t){const i=Me(4),s=Me(13),o=Me(23),a=Me(34),u=Me(44);x(12),B("ngModel",r.form.firstName)("ngClass",Br(19,Hg,s.touched&&s.valid,s.touched&&s.invalid)),x(2),B("ngIf",null==s.errors?null:s.errors.required),x(1),B("ngIf",null==s.errors?null:s.errors.minlength),x(7),B("ngModel",r.form.lastName)("ngClass",Br(22,Hg,o.touched&&o.valid,o.touched&&o.invalid)),x(2),B("ngIf",null==o.errors?null:o.errors.required),x(1),B("ngIf",null==o.errors?null:o.errors.minlength),x(8),B("ngModel",r.form.email)("ngClass",Br(25,Hg,a.touched&&a.valid,a.touched&&a.invalid)),x(2),B("ngIf",null==a.errors?null:a.errors.required),x(1),B("ngIf",null==a.errors?null:a.errors.pattern),x(7),B("ngModel",r.form.phone)("ngClass",Br(28,Hg,u.touched&&u.valid,u.touched&&u.invalid)),x(2),B("ngIf",null==u.errors?null:u.errors.required),x(1),B("ngIf",null==u.errors?null:u.errors.pattern),x(5),B("ngModel",r.form.address),x(6),B("ngModel",r.form.notes),x(6),B("disabled",i.invalid)}},directives:[uu,Mf,Ef,tu,uo,ru,xf,pc,nu,lc,_s,Nf,Ds],styles:[""]}),n})();function nue(n,e){1&n&&(y(0,"div",32),D(1," First name is required "),_())}function rue(n,e){if(1&n&&(y(0,"div",32),D(1),_()),2&n){Un();const t=Me(13);x(1),et(" First name must be at least ",null==t.errors?null:t.errors.minlength.requiredLength," characters long ")}}function iue(n,e){1&n&&(y(0,"div",32),D(1," Last name is required "),_())}function sue(n,e){if(1&n&&(y(0,"div",32),D(1),_()),2&n){Un();const t=Me(23);x(1),et(" Last name must be at least ",null==t.errors?null:t.errors.minlength.requiredLength," characters long ")}}function oue(n,e){1&n&&(y(0,"div",32),D(1," Email is required "),_())}function aue(n,e){1&n&&(y(0,"div",32),D(1," A valid email address must be provided "),_())}function uue(n,e){1&n&&(y(0,"div",32),D(1," Phone is required "),_())}function lue(n,e){if(1&n&&(y(0,"div",32),D(1),_()),2&n){Un();const t=Me(44);x(1),et(" ",null==t.errors?null:t.errors.pattern.actualValue," is not a valid phone number ")}}const qg=function(n,e){return{"is-valid":n,"is-invalid":e}};let cue=(()=>{class n{constructor(t,r,i){this.customerService=t,this.routerService=r,this.activatedRoute=i,this.form={firstName:"",lastName:"",email:"",phone:"",address:"",notes:""}}onSubmit({valid:t}){var r=this;return m(function*(){t&&(yield r.customerService.add(r.form),r.routerService.navigate([".."],{relativeTo:r.activatedRoute}))})()}reset(t){t.resetForm({firstName:"",lastName:"",email:"",phone:"",address:"",notes:""})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(C($g),C(Ot),C(Hi))},n.\u0275cmp=sn({type:n,selectors:[["app-customers-new"]],decls:65,vars:31,consts:[["title","add customer","description","add a new customer","icon","bi bi-person-plus"],[1,"row","mt-5"],[1,"col-12"],["novalidate","novalidate","autocomplete","off",3,"ngSubmit"],["customerForm","ngForm"],[1,"row","justify-content-center"],[1,"col-md-5","mb-3"],["for","firstName"],[1,"text-danger","me-1"],["type","text","required","","minlength","2","id","firstName","name","firstName",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["fnf","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","lastName"],["type","text","required","","minlength","2","id","lastName","name","lastName",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["lnf","ngModel"],["for","email"],["type","text","required","","pattern","^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$","id","email","name","email",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["ef","ngModel"],["for","phone"],["required","","pattern","^0[2-9]\\d{7,8}$","type","text","id","phone","name","phone",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["pf","ngModel"],[1,"col-md-10","mb-3"],["for","address"],["id","address","name","address","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["af","ngModel"],["for","notes"],["id","notes","name","notes","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["nf","ngModel"],[1,"bg-light","p-3","text-center"],["routerLink","..",1,"btn","btn-secondary"],["type","button","value","Reset",1,"btn","btn-secondary","ms-3",3,"click"],["type","submit","value","Save",1,"btn","btn-primary","ms-3",3,"disabled"],[1,"invalid-feedback"]],template:function(t,r){if(1&t){const i=zl();Oe(0,"app-page-header",0),y(1,"div",1),y(2,"div",2),y(3,"form",3,4),ge("ngSubmit",function(){aa(i);const o=Me(4);return r.onSubmit(o)}),y(5,"div",5),y(6,"div",6),y(7,"label",7),y(8,"span",8),D(9,"*"),_(),y(10,"span"),D(11,"First Name"),_(),_(),y(12,"input",9,10),ge("ngModelChange",function(o){return r.form.firstName=o}),_(),be(14,nue,2,0,"div",11),be(15,rue,2,1,"div",11),_(),y(16,"div",6),y(17,"label",12),y(18,"span",8),D(19,"*"),_(),y(20,"span"),D(21,"Last Name"),_(),_(),y(22,"input",13,14),ge("ngModelChange",function(o){return r.form.lastName=o}),_(),be(24,iue,2,0,"div",11),be(25,sue,2,1,"div",11),_(),_(),y(26,"div",5),y(27,"div",6),y(28,"label",15),y(29,"span",8),D(30,"*"),_(),y(31,"span"),D(32,"Email"),_(),_(),y(33,"input",16,17),ge("ngModelChange",function(o){return r.form.email=o}),_(),be(35,oue,2,0,"div",11),be(36,aue,2,0,"div",11),_(),y(37,"div",6),y(38,"label",18),y(39,"span",8),D(40,"*"),_(),y(41,"span"),D(42,"Phone"),_(),_(),y(43,"input",19,20),ge("ngModelChange",function(o){return r.form.phone=o}),_(),be(45,uue,2,0,"div",11),be(46,lue,2,1,"div",11),_(),_(),y(47,"div",5),y(48,"div",21),y(49,"label",22),D(50,"Address"),_(),y(51,"textarea",23,24),ge("ngModelChange",function(o){return r.form.address=o}),_(),_(),_(),y(53,"div",5),y(54,"div",21),y(55,"label",25),D(56,"Notes"),_(),y(57,"textarea",26,27),ge("ngModelChange",function(o){return r.form.notes=o}),_(),_(),_(),y(59,"div",5),y(60,"div",28),y(61,"a",29),D(62,"Cancel"),_(),y(63,"input",30),ge("click",function(){aa(i);const o=Me(4);return r.reset(o)}),_(),Oe(64,"input",31),_(),_(),_(),_(),_()}if(2&t){const i=Me(4),s=Me(13),o=Me(23),a=Me(34),u=Me(44);x(12),B("ngModel",r.form.firstName)("ngClass",Br(19,qg,s.touched&&s.valid,s.touched&&s.invalid)),x(2),B("ngIf",null==s.errors?null:s.errors.required),x(1),B("ngIf",null==s.errors?null:s.errors.minlength),x(7),B("ngModel",r.form.lastName)("ngClass",Br(22,qg,o.touched&&o.valid,o.touched&&o.invalid)),x(2),B("ngIf",null==o.errors?null:o.errors.required),x(1),B("ngIf",null==o.errors?null:o.errors.minlength),x(8),B("ngModel",r.form.email)("ngClass",Br(25,qg,a.touched&&a.valid,a.touched&&a.invalid)),x(2),B("ngIf",null==a.errors?null:a.errors.required),x(1),B("ngIf",null==a.errors?null:a.errors.pattern),x(7),B("ngModel",r.form.phone)("ngClass",Br(28,qg,u.touched&&u.valid,u.touched&&u.invalid)),x(2),B("ngIf",null==u.errors?null:u.errors.required),x(1),B("ngIf",null==u.errors?null:u.errors.pattern),x(5),B("ngModel",r.form.address),x(6),B("ngModel",r.form.notes),x(7),B("disabled",i.invalid)}},directives:[uu,Mf,Ef,tu,uo,ru,xf,pc,nu,lc,_s,Nf,Ds],styles:[""]}),n})(),due=(()=>{class n{transform(t,r,i){return t?t.filter(s=>{var o;for(const a of r){let u=null===(o=s[a])||void 0===o?void 0:o.toLowerCase().includes(i.toLowerCase());if(u)return u}return!1}):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=an({name:"filterCustomers",type:n,pure:!0}),n})();const hue=function(n){return["./",n,"edit"]},f0=function(n){return["./",n]};function fue(n,e){if(1&n){const t=zl();y(0,"tr"),y(1,"td"),D(2),y(3,"a",15),Oe(4,"i",16),_(),y(5,"a",17),ge("click",function(){const s=aa(t).$implicit;return Un(3).remove(s.id)}),Oe(6,"i",18),_(),y(7,"a",19),Oe(8,"i",20),_(),_(),y(9,"td"),y(10,"a",15),D(11),_(),_(),y(12,"td"),y(13,"a",15),D(14),_(),_(),y(15,"td"),y(16,"a",21),D(17),_(),_(),y(18,"td"),y(19,"a",21),D(20),_(),_(),_()}if(2&n){const t=e.$implicit,r=e.index;x(2),et(" ",r+1,". "),x(1),B("routerLink",za(11,hue,t.id)),x(4),B("routerLink",za(13,f0,t.id)),x(3),B("routerLink",za(15,f0,t.id)),x(1),et(" ",t.firstName," "),x(2),B("routerLink",za(17,f0,t.id)),x(1),et(" ",t.lastName," "),x(2),B("href","mailto:"+t.email,xi),x(1),et(" ",t.email," "),x(2),B("href","tel:"+t.phone,xi),x(1),et(" ",t.phone," ")}}function pue(n,e){if(1&n&&(y(0,"table",13),y(1,"thead"),y(2,"tr"),y(3,"th"),D(4,"#No."),_(),y(5,"th"),D(6,"First Name"),_(),y(7,"th"),D(8,"Last Name"),_(),y(9,"th"),D(10,"Email"),_(),y(11,"th"),D(12,"Phone"),_(),_(),_(),y(13,"tbody"),be(14,fue,21,19,"tr",14),_(),_()),2&n){const t=Un().ngIf;x(14),B("ngForOf",t)}}function gue(n,e){if(1&n&&(y(0,"div"),be(1,pue,15,1,"table",12),_()),2&n){const t=e.ngIf;Un();const r=Me(16);x(1),B("ngIf",t.length)("ngIfElse",r)}}function mue(n,e){1&n&&D(0," loading... ")}function yue(n,e){1&n&&(y(0,"p"),y(1,"i"),D(2,"No customers..."),_(),_())}const _ue=function(){return["phone","firstName","lastName","email"]};let vue=(()=>{class n{constructor(t){this.customerService=t,this.phoneTerm="",this.customers$=this.customerService.getAll()}remove(t){!t||confirm("Are you sure you want to delete?")&&this.customerService.remove(t)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(C($g))},n.\u0275cmp=sn({type:n,selectors:[["app-customers"]],decls:17,vars:10,consts:[["title","customers","icon","bi bi-person-check-fill","description","list of customers"],[1,"row","mt-4"],[1,"col-8"],["name","phone-term","type","text","placeholder","Search customer...",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-4"],["routerLink","./new",1,"btn","btn-primary"],[1,"bi","bi-person-plus"],[1,"row","mt-3"],[1,"col-12"],[4,"ngIf","ngIfElse"],["loading",""],["noCustomers",""],["class","table table-bordered",4,"ngIf","ngIfElse"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"bi","bi-pencil-fill"],[1,"ms-3",3,"click"],[1,"bi","bi-trash-fill",2,"color","rgb(230, 0, 0)"],[1,"ms-3",3,"routerLink"],[1,"bi","bi-arrow-right-square-fill",2,"color","rgb(96, 230, 0)"],[3,"href"]],template:function(t,r){if(1&t&&(Oe(0,"app-page-header",0),y(1,"div",1),y(2,"div",2),y(3,"input",3),ge("ngModelChange",function(s){return r.phoneTerm=s}),_(),_(),y(4,"div",4),y(5,"a",5),Oe(6,"i",6),D(7," Add New Customer "),_(),_(),_(),y(8,"div",7),y(9,"div",8),be(10,gue,2,2,"div",9),wr(11,"filterCustomers"),wr(12,"async"),_(),_(),be(13,mue,1,0,"ng-template",null,10,Wa),be(15,yue,3,0,"ng-template",null,11,Wa)),2&t){const i=Me(14);x(3),B("ngModel",r.phoneTerm),x(7),B("ngIf",function Zx(n,e,t,r,i){const s=n+20,o=I(),a=oa(o,s);return nc(o,s)?Yx(o,En(),e,a.transform,t,r,i,a):a.transform(t,r,i)}(11,3,Oi(12,7,r.customers$),function Wx(n,e,t){const r=En()+n,i=I();return i[r]===te?oi(i,r,t?e.call(t):e()):function Gl(n,e){return n[e]}(i,r)}(9,_ue),r.phoneTerm))("ngIfElse",i)}},directives:[uu,uo,pc,nu,Ds,_s,df],pipes:[due,hf],styles:[""]}),n})(),jd=(()=>{class n{constructor(t){this.auth=t,this.user=null,this.isLogged=!1,this.user$=rre(this.auth),this.user$.subscribe(r=>{this.user=r,this.isLogged=Boolean(r)})}createUser(t,r){return ire(this.auth,t,r)}loginEmail(t,r){return ore(this.auth,t,r)}loginWithGoogle(){return are(this.auth,new ite)}logout(){return ure(this.auth)}}return n.\u0275fac=function(t){return new(t||n)(F(kp))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wue=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}clickHandle(t){var r=this;return m(function*(){t.preventDefault(),yield r.authService.logout(),r.router.navigate(["/login"])})()}}return n.\u0275fac=function(t){return new(t||n)(C(jd),C(Ot))},n.\u0275dir=G({type:n,selectors:[["","appSignout",""]],hostBindings:function(t,r){1&t&&ge("click",function(s){return r.clickHandle(s)})}}),n})(),Eue=(()=>{class n{constructor(t){this.authService=t,this.user$=this.authService.user$}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(C(jd))},n.\u0275cmp=sn({type:n,selectors:[["app-navbar"]],decls:23,vars:3,consts:[["aria-label","Third navbar example",1,"navbar","navbar-expand-sm","navbar-dark","shadow-lg","bg-success"],[1,"container-fluid"],["href","#",1,"navbar-brand"],[1,"bi","bi-chevron-double-up"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarsExample03","aria-controls","navbarsExample03","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExample03",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-sm-0"],[1,"nav-item","dropdown"],["href","#","id","dropdown03","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","dropdown03",1,"dropdown-menu","dropdown-menu-end"],["href","#",1,"dropdown-item"],[1,"bi","bi-gear-fill","me-1"],["appSignout",""],[1,"dropdown-item"],[1,"bi","bi-box-arrow-right","me-1"]],template:function(t,r){if(1&t&&(y(0,"nav",0),y(1,"div",1),y(2,"a",2),D(3," Royal "),Oe(4,"i",3),D(5," CRM "),_(),y(6,"button",4),Oe(7,"span",5),_(),y(8,"div",6),y(9,"ul",7),y(10,"li",8),y(11,"a",9),D(12),wr(13,"async"),_(),y(14,"ul",10),y(15,"li"),y(16,"a",11),Oe(17,"i",12),D(18," My Preferences "),_(),_(),y(19,"li",13),y(20,"a",14),Oe(21,"i",15),D(22," Sign Out "),_(),_(),_(),_(),_(),_(),_(),_()),2&t){let i;x(12),et(" ",null==(i=Oi(13,1,r.user$))?null:i.email," ")}},directives:[wue],pipes:[hf],styles:[".label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;cursor:pointer;color:#cbdde9}.label-text[_ngcontent-%COMP%]{margin-left:14px}.toggle[_ngcontent-%COMP%]{isolation:isolate;position:relative;height:22.5px;width:45px;border-radius:15px;overflow:hidden;box-shadow:-8px -4px 8px #64a7ff,8px 4px 12px #5086ce,4px 4px 4px #5086ce inset,-4px -4px 4px #64a7ff inset}.toggle-state[_ngcontent-%COMP%]{display:none}.indicator[_ngcontent-%COMP%]{height:100%;width:200%;background:#1b445a;border-radius:15px;transform:translate(-75%);transition:transform .4s cubic-bezier(.85,.05,.18,1.35);box-shadow:-8px -4px 8px #000,8px 4px 12px #1d4163}.toggle-state[_ngcontent-%COMP%]:checked ~ .indicator[_ngcontent-%COMP%]{transform:translate(25%);background:#f8ff90;box-shadow:-8px -4px 8px #f9ffc8,8px 4px 12px #ecff97}"]}),n})();function bue(n,e){if(1&n&&(y(0,"li",2),y(1,"a",3),Oe(2,"i"),y(3,"span",4),D(4),wr(5,"titlecase"),_(),_(),_()),2&n){const t=e.$implicit;x(1),B("routerLink",t.link),x(1),U1(t.icon),x(2),Ur(Oi(5,4,t.title))}}let Cue=(()=>{class n{constructor(){this.navItems=[{title:"customers",icon:"bi bi-briefcase-fill",link:"customers"},{title:"contacts",icon:"bi bi-journal",link:"contacts"}]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=sn({type:n,selectors:[["app-sidenav"]],decls:2,vars:1,consts:[[1,"nav","flex-column","pt-3","h-100","bg-success"],["class","mt-1 text-nowrap",4,"ngFor","ngForOf"],[1,"mt-1","text-nowrap"],["routerLinkActive","active",1,"nav-link","text-white",3,"routerLink"],[1,"ms-3"]],template:function(t,r){1&t&&(y(0,"ul",0),be(1,bue,6,6,"li",1),_()),2&t&&(x(1),B("ngForOf",r.navItems))},directives:[df,Ds,WP],pipes:[ff],styles:[".active[_ngcontent-%COMP%]{background-color:#cbc3e3;box-shadow:-1px 7px 4px #00000036;color:#000!important}.nav-link[_ngcontent-%COMP%]{border-radius:10px 0 0 10px}"]}),n})(),Tue=(()=>{class n{constructor(){this.today=new Date}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=sn({type:n,selectors:[["app-footer"]],decls:12,vars:4,consts:[[1,"container-fluid","bg-dark","p-2"],[1,"row","g-0"],[1,"col","mx-auto","text-center","justify-content-around"],[1,"text-light"],[1,"bi","bi-chevron-double-up"],[1,"fw-bold","text-light","mx-2"]],template:function(t,r){1&t&&(y(0,"div",0),y(1,"div",1),y(2,"div",2),y(3,"span",3),D(4," Royal "),Oe(5,"i",4),D(6," CRM "),_(),y(7,"span",5),D(8,"\xa9"),_(),y(9,"span",3),D(10),wr(11,"date"),_(),_(),_(),_()),2&t&&(x(10),Ur(f_(11,1,r.today,"YYYY")))},pipes:[tv],styles:[""]}),n})(),Iue=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=sn({type:n,selectors:[["app-dashboard"]],decls:10,vars:0,consts:[[1,"d-flex","flex-column","min-vh-100"],[1,"d-flex","flex-fill"],[1,"container"]],template:function(t,r){1&t&&(y(0,"div",0),y(1,"header"),Oe(2,"app-navbar"),_(),y(3,"main",1),y(4,"div"),Oe(5,"app-sidenav"),_(),y(6,"div",2),Oe(7,"router-outlet"),_(),_(),y(8,"footer"),Oe(9,"app-footer"),_(),_())},directives:[Eue,Cue,jf,Tue],styles:[""]}),n})(),Due=(()=>{class n{constructor(t){this.authService=t}clickHandle(t){t.preventDefault(),this.authService.loginWithGoogle()}}return n.\u0275fac=function(t){return new(t||n)(C(jd))},n.\u0275dir=G({type:n,selectors:[["","appSignWithGoogle",""]],hostBindings:function(t,r){1&t&&ge("click",function(s){return r.clickHandle(s)})}}),n})();function Sue(n,e){if(1&n&&(y(0,"div",18),D(1),_()),2&n){const t=Un();x(1),et(" ",t.error," ")}}const VB=function(n,e){return{"is-invalid":n,"is-valid":e}};let Aue=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.form={email:"",password:""},this.error=""}onSubmit({valid:t}){var r=this;return m(function*(){if(t){r.error="";try{yield r.authService.loginEmail(r.form.email,r.form.password),r.router.navigate(["/dashboard"])}catch(i){r.error=i.message}}})()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(C(jd),C(Ot))},n.\u0275cmp=sn({type:n,selectors:[["app-login"]],decls:31,vars:12,consts:[[1,"row"],[1,"col-8","m-auto"],["novalidate","","autocomplete","off",3,"ngSubmit"],["loginForm","ngForm"],[1,"text-center","mb-4"],[1,"h3","mb-3","font-weight-normal"],[1,"bi","bi-chevron-double-up"],[1,"form-group","mb-4"],[1,"form-group"],["name","email","required","","type","email","placeholder","john@doe.com","id","email","autocomplete","username",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["emailF","ngModel"],[1,"invalid-feedback"],["name","password","required","","type","password","id","password","autocomplete","current-password",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["passwordF","ngModel"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block",3,"disabled"],["appSignWithGoogle","",1,"btn","btn-lg","btn-primary","btn-block"],[1,"mt-5","mb-3","text-muted","text-center"],[1,"text-danger"]],template:function(t,r){if(1&t){const i=zl();y(0,"div",0),y(1,"div",1),y(2,"form",2,3),ge("ngSubmit",function(){aa(i);const o=Me(3);return r.onSubmit(o)}),y(4,"div",4),y(5,"h1",5),D(6," Royal "),Oe(7,"i",6),D(8," CRM "),_(),y(9,"p"),D(10,"Login with your account"),_(),_(),y(11,"div",7),y(12,"div",8),y(13,"input",9,10),ge("ngModelChange",function(o){return r.form.email=o}),_(),y(15,"div",11),D(16,"Valid email is required"),_(),_(),_(),y(17,"div",7),y(18,"div",8),y(19,"input",12,13),ge("ngModelChange",function(o){return r.form.password=o}),_(),y(21,"div",11),D(22,"Password is required"),_(),_(),_(),be(23,Sue,2,1,"div",14),y(24,"button",15),D(25," Sign in "),_(),_(),Oe(26,"hr"),y(27,"button",16),D(28," Log in with Google "),_(),y(29,"p",17),D(30,"\xa9 2019-2020"),_(),_(),_()}if(2&t){const i=Me(3),s=Me(14),o=Me(20);x(13),B("ngModel",r.form.email)("ngClass",Br(6,VB,s.invalid&&s.touched,s.touched&&s.valid)),x(6),B("ngModel",r.form.password)("ngClass",Br(9,VB,o.invalid&&o.touched,o.touched&&o.valid)),x(4),B("ngIf",r.error),x(1),B("disabled",i.invalid)}},directives:[Mf,Ef,tu,uo,ru,pc,nu,lc,_s,Due],styles:[""]}),n})(),Mue=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=sn({type:n,selectors:[["app-page-not-found"]],decls:1,vars:0,consts:[["title","page not found","icon","bi bi-exclamation-lg","description","the page you are looking for is not found - Error 404"]],template:function(t,r){1&t&&Oe(0,"app-page-header",0)},directives:[uu],encapsulation:2}),n})(),UB=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return this.authService.user$.pipe(me(i=>(console.log(r.url),"/login"===r.url?!i||this.router.parseUrl("/dashboard"):!!i||this.router.parseUrl("/login"))))}}return n.\u0275fac=function(t){return new(t||n)(F(jd),F(Ot))},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xue=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:Aue,canActivate:[UB]},{path:"dashboard",component:Iue,canActivate:[UB],children:[{path:"",redirectTo:"customers",pathMatch:"full"},{path:"customers",component:vue},{path:"customers/new",component:cue},{path:"customers/:id",component:zae},{path:"customers/:id/edit",component:tue},{path:"contacts",component:bQ}]},{path:"page-not-found",component:Mue},{path:"**",redirectTo:"page-not-found",pathMatch:"full"}];let Nue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({imports:[[XP.forRoot(xue)],XP]}),n})(),kue=(()=>{class n{constructor(){this.title="royal-crm"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=sn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&Oe(0,"router-outlet")},directives:[jf],styles:[""]}),n})();const BB_firebase={projectId:"yahav-crm-royal-06457",appId:"1:1037743001932:web:3560aab0dc9f95ecea3fe9",storageBucket:"yahav-crm-royal-06457.appspot.com",apiKey:"AIzaSyBkfmN7JIt3wij9NT4RYluqeuSrgtRb50Y",authDomain:"yahav-crm-royal-06457.firebaseapp.com",messagingSenderId:"1037743001932"};class jB{}const is="*";function $B(n,e=null){return{type:2,steps:n,options:e}}function HB(n){return{type:6,styles:n,offset:null}}function qB(n){Promise.resolve(null).then(n)}class al{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qB(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class GB{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?qB(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function zB(){return"undefined"!=typeof window&&void 0!==window.document}function g0(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function $s(n){switch(n.length){case 0:return new al;case 1:return n[0];default:return new GB(n)}}function WB(n,e,t,r,i={},s={}){const o=[],a=[];let u=-1,l=null;if(r.forEach(c=>{const d=c.offset,h=d==u,f=h&&l||{};Object.keys(c).forEach(p=>{let g=p,v=c[p];if("offset"!==p)switch(g=e.normalizePropertyName(g,o),v){case"!":v=i[p];break;case is:v=s[p];break;default:v=e.normalizeStyleValue(p,g,v,o)}f[g]=v}),h||a.push(f),l=f,u=d}),o.length){const c="\n - ";throw new Error(`Unable to animate due to the following errors:${c}${o.join(c)}`)}return a}function m0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&y0(t,"start",n)));break;case"done":n.onDone(()=>r(t&&y0(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&y0(t,"destroy",n)))}}function y0(n,e,t){const r=t.totalTime,s=_0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function _0(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function dr(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function KB(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let v0=(n,e)=>!1,QB=(n,e,t)=>[];(g0()||"undefined"!=typeof Element)&&(v0=zB()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),QB=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let qo=null,YB=!1;function w0(n){qo||(qo=function Oue(){return"undefined"!=typeof document?document.body:null}()||{},YB=!!qo.style&&"WebkitAppearance"in qo.style);let e=!0;return qo.style&&!function Pue(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in qo.style,!e&&YB&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in qo.style)),e}const E0=v0,b0=QB;function JB(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let XB=(()=>{class n{validateStyleProperty(t){return w0(t)}matchesElement(t,r){return!1}containsElement(t,r){return E0(t,r)}query(t,r,i){return b0(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new al(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),C0=(()=>{class n{}return n.NOOP=new XB,n})();const T0="ng-enter",Gg="ng-leave",zg="ng-trigger",Wg=".ng-trigger",ej="ng-animating",I0=".ng-animating";function Go(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:D0(parseFloat(e[1]),e[2])}function D0(n,e){return"s"===e?1e3*n:n}function Kg(n,e,t){return n.hasOwnProperty("duration")?n:function Vue(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=D0(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=D0(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(u,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:s,easing:o}}(n,e,t)}function ul(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Hs(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else ul(n,t);return t}function nj(n,e,t){return t?e+":"+t+";":""}function rj(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=nj(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=nj(0,jue(t),n.style[t]));n.setAttribute("style",e)}function bi(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=A0(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),g0()&&rj(n))}function zo(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=A0(t);n.style[r]=""}),g0()&&rj(n))}function $d(n){return Array.isArray(n)?1==n.length?n[0]:$B(n):n}const S0=new RegExp("{{\\s*(.+?)\\s*}}","g");function ij(n){let e=[];if("string"==typeof n){let t;for(;t=S0.exec(n);)e.push(t[1]);S0.lastIndex=0}return e}function Qg(n,e,t){const r=n.toString(),i=r.replace(S0,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return i==r?n:i}function Yg(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Bue=/-+([a-z0-9])/g;function A0(n){return n.replace(Bue,(...e)=>e[1].toUpperCase())}function jue(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function sj(n,e){return 0===n||0===e}function oj(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var i=1;i<e.length;i++){let a=e[i];o.forEach(function(u){a[u]=M0(n,u)})}}return e}function hr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function M0(n,e){return window.getComputedStyle(n)[e]}function $ue(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Hue(n,e,t){if(":"==n[0]){const u=function que(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(aj(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(aj(o,i))}(r,t,e)):t.push(n),t}const Xg=new Set(["true","1"]),Zg=new Set(["false","0"]);function aj(n,e){const t=Xg.has(n)||Zg.has(n),r=Xg.has(e)||Zg.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Xg.has(n):Zg.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Xg.has(e):Zg.has(e)),o&&a}}const Gue=new RegExp("s*:selfs*,?","g");function x0(n,e,t){return new zue(n).build(e,t)}class zue{constructor(e){this._driver=e}build(e,t){const r=new Que(t);return this._resetContextStyleTimingState(r),hr(this,$d(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(c=>{u.name=c,s.push(this.visitState(u,t))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};if(r.styles.forEach(a=>{if(em(a)){const u=a;Object.keys(u).forEach(l=>{ij(u[l]).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}}),s.size){const a=Yg(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=hr(this,$d(e.animation),t);return{type:1,matchers:$ue(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Wo(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>hr(this,r,t)),options:Wo(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=hr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Wo(e.options)}}visitAnimate(e,t){const r=function Jue(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return N0(Kg(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=N0(0,0,"");return s.dynamic=!0,s.strValue=r,s}return t=t||Kg(r,e),N0(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:HB({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=HB(l)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==is?r.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(em(o)){const a=o,u=a.easing;if(u&&(s=u,delete a.easing),!i)for(let l in a)if(a[l].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const u=t.collectedStyles[t.currentQuerySelector],l=u[a];let c=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${l.startTime}ms" and "${l.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),c=!1),s=l.startTime),c&&(u[a]={startTime:s,endTime:i}),t.options&&function Uue(n,e,t){const r=e.params||{},i=ij(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let s=0;const o=[];let a=!1,u=!1,l=0;const c=e.steps.map(E=>{const w=this._makeStyleAst(E,t);let A=null!=w.offset?w.offset:function Yue(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(em(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(em(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(w.styles),k=0;return null!=A&&(s++,k=w.offset=A),u=u||k<0||k>1,a=a||k<l,l=k,o.push(k),w});u&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,v=g.duration;return c.forEach((E,w)=>{const A=h>0?w==f?1:h*w:o[w],k=A*v;t.currentTime=p+g.delay+k,g.duration=k,this._validateStyleAst(E,t),E.offset=A,r.styles.push(E)}),r}visitReference(e,t){return{type:8,animation:hr(this,$d(e.animation),t),options:Wo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Wo(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Wo(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Wue(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Gue,"")),n=n.replace(/@\*/g,Wg).replace(/@\w+/g,t=>Wg+"-"+t.substr(1)).replace(/:animating/g,I0),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,dr(t.collectedStyles,t.currentQuerySelector,{});const a=hr(this,$d(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Wo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Kg(e.timings,t.errors,!0);return{type:12,animation:hr(this,$d(e.animation),t),timings:r,options:null}}}class Que{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function em(n){return!Array.isArray(n)&&"object"==typeof n}function Wo(n){return n?(n=ul(n)).params&&(n.params=function Kue(n){return n?ul(n):null}(n.params)):n={},n}function N0(n,e,t){return{duration:n,delay:e,easing:t}}function k0(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class tm{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ele=new RegExp(":enter","g"),nle=new RegExp(":leave","g");function R0(n,e,t,r,i,s={},o={},a,u,l=[]){return(new rle).buildKeyframes(n,e,t,r,i,s,o,a,u,l)}class rle{buildKeyframes(e,t,r,i,s,o,a,u,l,c=[]){l=l||new tm;const d=new P0(e,t,l,i,s,c,[]);d.options=u,d.currentTimeline.setStyles([o],null,d.errors,u),hr(this,r,d);const h=d.timelines.filter(f=>f.containsAnimation());if(Object.keys(a).length){let f;for(let p=h.length-1;p>=0;p--){const g=h[p];if(g.element===t){f=g;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,d.errors,u)}return h.length?h.map(f=>f.buildKeyframes()):[k0(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Go(r.duration):null,a=null!=r.delay?Go(r.delay):null;return 0!==o&&e.forEach(u=>{const l=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),hr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=nm);const o=Go(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>hr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Go(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),hr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Kg(t.params?Qg(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Go(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=nm);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((l,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,l);s&&d.delayNextStep(s),l===t.element&&(u=d.currentTimeline),hr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const c=t.currentTimeline;u&&c.delayNextStep(u);const d=c.currentTime;hr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const nm={};class P0{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new rm(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Go(r.duration)),null!=r.delay&&(i.delay=Go(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Qg(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new P0(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=nm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new ile(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(ele,"."+this._enterClassName)).replace(nle,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class rm{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new rm(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||is,this._currentKeyframe[t]=is}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function sle(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=is})):Hs(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const u=Qg(o[a],s,r);this._pendingStyles[a]=u,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:is),this._updateStyle(a,u)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=Hs(a,!0);Object.keys(l).forEach(c=>{const d=l[c];"!"==d?e.add(c):d==is&&t.add(c)}),r||(l.offset=u/this.duration),i.push(l)});const s=e.size?Yg(e.values()):[],o=t.size?Yg(t.values()):[];if(r){const a=i[0],u=ul(a);a.offset=0,u.offset=1,i=[a,u]}return k0(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class ile extends rm{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=Hs(e[0],!1);u.offset=0,s.push(u);const l=Hs(e[0],!1);l.offset=cj(a),s.push(l);const c=e.length-1;for(let d=1;d<=c;d++){let h=Hs(e[d],!1);h.offset=cj((t+h.offset*r)/o),s.push(h)}r=o,t=0,i="",e=s}return k0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function cj(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class O0{}class ole extends O0{normalizePropertyName(e,t){return A0(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(ale[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return o+s}}const ale=(()=>function ule(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function dj(n,e,t,r,i,s,o,a,u,l,c,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:d,errors:h}}const F0={};class hj{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function lle(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,a,u,l,c){const d=[],h=this.ast.options&&this.ast.options.params||F0,p=this.buildStyles(r,a&&a.params||F0,d),g=u&&u.params||F0,v=this.buildStyles(i,g,d),E=new Set,w=new Map,A=new Map,k="void"===i,z={params:Object.assign(Object.assign({},h),g)},Se=c?[]:R0(e,t,this.ast.animation,s,o,p,v,z,l,d);let Ne=0;if(Se.forEach(rn=>{Ne=Math.max(rn.duration+rn.delay,Ne)}),d.length)return dj(t,this._triggerName,r,i,k,p,v,[],[],w,A,Ne,d);Se.forEach(rn=>{const On=rn.element,cl=dr(w,On,{});rn.preStyleProps.forEach(Qr=>cl[Qr]=!0);const ss=dr(A,On,{});rn.postStyleProps.forEach(Qr=>ss[Qr]=!0),On!==t&&E.add(On)});const Pn=Yg(E.values());return dj(t,this._triggerName,r,i,k,p,v,Se,Pn,w,A,Ne)}}class cle{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=ul(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let u=o[a];u.length>1&&(u=Qg(u,i,t));const l=this.normalizer.normalizePropertyName(a,t);u=this.normalizer.normalizeStyleValue(a,l,u,t),r[l]=u})}}),r}}class hle{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new cle(i.style,i.options&&i.options.params||{},r)}),fj(this.states,"true","1"),fj(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new hj(e,i,this.states))}),this.fallbackTransition=function fle(n,e,t){return new hj(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function fj(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const ple=new tm;class gle{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=x0(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,s=WB(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const a=new Map;if(s?(o=R0(this._driver,t,s,T0,Gg,{},{},r,ple,i),o.forEach(c=>{const d=dr(a,c.element,{});c.postStyleProps.forEach(h=>d[h]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);a.forEach((c,d)=>{Object.keys(c).forEach(h=>{c[h]=this._driver.computeStyle(d,h,is)})});const l=$s(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,{},d)}));return this._playersById[e]=l,l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const s=_0(t,"","","");return m0(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const pj="ng-animate-queued",L0="ng-animate-disabled",wle=[],gj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ele={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Sr="__ng_removed";class V0{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Ile(n){return null!=n?n:null}(r?e.value:e),r){const s=ul(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Hd="void",U0=new V0(Hd);class ble{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ar(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function Dle(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const s=dr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=dr(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Ar(e,zg),Ar(e,zg+"-"+t),a[t]=U0),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new B0(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Ar(e,zg),Ar(e,zg+"-"+t),this._engine.statesByElement.set(e,a={}));let u=a[t];const l=new V0(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a[t]=l,u||(u=U0),l.value!==Hd&&u.value===l.value){if(!function Mle(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,l.params)){const g=[],v=s.matchStyles(u.value,u.params,g),E=s.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{zo(e,v),bi(e,E)})}return}const h=dr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:u,toState:l,player:o,isFallbackTransition:p}),p||(Ar(e,pj),o.onStart(()=>{ll(e,pj)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const v=this._engine.playersByElement.get(e);if(v){let E=v.indexOf(o);E>=0&&v.splice(E,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Wg,!0);r.forEach(i=>{if(i[Sr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(u=>{if(o.set(u,s[u].value),this._triggers[u]){const l=this.trigger(e,u,Hd,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&$s(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers[o].fallbackTransition,l=r[o]||U0,c=new V0(Hd),d=new B0(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Sr];(!s||s===gj)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ar(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=_0(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,m0(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Cle{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new ble(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let s=r;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,r,i){if(im(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!im(t))return;const s=t[Sr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ar(e,L0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ll(e,L0))}removeNode(e,t,r,i){if(im(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Sr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return im(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Wg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,I0,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return $s(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Sr];if(r&&r.setForRemoval){if(e[Sr]=gj,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(L0))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ar(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?$s(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new tm,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(L=>{c.add(L);const H=this.driver.query(L,".ng-animate-queued",!0);for(let W=0;W<H.length;W++)c.add(H[W])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=_j(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((L,H)=>{const W=T0+g++;p.set(H,W),L.forEach(Ce=>Ar(Ce,W))});const v=[],E=new Set,w=new Set;for(let L=0;L<this.collectedLeaveElements.length;L++){const H=this.collectedLeaveElements[L],W=H[Sr];W&&W.setForRemoval&&(v.push(H),E.add(H),W.hasAnimation?this.driver.query(H,".ng-star-inserted",!0).forEach(Ce=>E.add(Ce)):w.add(H))}const A=new Map,k=_j(h,Array.from(E));k.forEach((L,H)=>{const W=Gg+g++;A.set(H,W),L.forEach(Ce=>Ar(Ce,W))}),e.push(()=>{f.forEach((L,H)=>{const W=p.get(H);L.forEach(Ce=>ll(Ce,W))}),k.forEach((L,H)=>{const W=A.get(H);L.forEach(Ce=>ll(Ce,W))}),v.forEach(L=>{this.processLeaveNode(L)})});const z=[],Se=[];for(let L=this._namespaceList.length-1;L>=0;L--)this._namespaceList[L].drainQueuedTransitions(t).forEach(W=>{const Ce=W.player,qt=W.element;if(z.push(Ce),this.collectedEnterElements.length){const Fn=qt[Sr];if(Fn&&Fn.setForMove){if(Fn.previousTriggersValues&&Fn.previousTriggersValues.has(W.triggerName)){const Ko=Fn.previousTriggersValues.get(W.triggerName),Gs=this.statesByElement.get(W.element);Gs&&Gs[W.triggerName]&&(Gs[W.triggerName].value=Ko)}return void Ce.destroy()}}const Ci=!d||!this.driver.containsElement(d,qt),fr=A.get(qt),qs=p.get(qt),Je=this._buildInstruction(W,r,qs,fr,Ci);if(Je.errors&&Je.errors.length)return void Se.push(Je);if(Ci)return Ce.onStart(()=>zo(qt,Je.fromStyles)),Ce.onDestroy(()=>bi(qt,Je.toStyles)),void i.push(Ce);if(W.isFallbackTransition)return Ce.onStart(()=>zo(qt,Je.fromStyles)),Ce.onDestroy(()=>bi(qt,Je.toStyles)),void i.push(Ce);const Uj=[];Je.timelines.forEach(Fn=>{Fn.stretchStartingKeyframe=!0,this.disabledNodes.has(Fn.element)||Uj.push(Fn)}),Je.timelines=Uj,r.append(qt,Je.timelines),o.push({instruction:Je,player:Ce,element:qt}),Je.queriedElements.forEach(Fn=>dr(a,Fn,[]).push(Ce)),Je.preStyleProps.forEach((Fn,Ko)=>{const Gs=Object.keys(Fn);if(Gs.length){let Qo=u.get(Ko);Qo||u.set(Ko,Qo=new Set),Gs.forEach(q0=>Qo.add(q0))}}),Je.postStyleProps.forEach((Fn,Ko)=>{const Gs=Object.keys(Fn);let Qo=l.get(Ko);Qo||l.set(Ko,Qo=new Set),Gs.forEach(q0=>Qo.add(q0))})});if(Se.length){const L=[];Se.forEach(H=>{L.push(`@${H.triggerName} has failed due to:\n`),H.errors.forEach(W=>L.push(`- ${W}\n`))}),z.forEach(H=>H.destroy()),this.reportError(L)}const Ne=new Map,Pn=new Map;o.forEach(L=>{const H=L.element;r.has(H)&&(Pn.set(H,H),this._beforeAnimationBuild(L.player.namespaceId,L.instruction,Ne))}),i.forEach(L=>{const H=L.element;this._getPreviousPlayers(H,!1,L.namespaceId,L.triggerName,null).forEach(Ce=>{dr(Ne,H,[]).push(Ce),Ce.destroy()})});const rn=v.filter(L=>wj(L,u,l)),On=new Map;yj(On,this.driver,w,l,is).forEach(L=>{wj(L,u,l)&&rn.push(L)});const ss=new Map;f.forEach((L,H)=>{yj(ss,this.driver,new Set(L),u,"!")}),rn.forEach(L=>{const H=On.get(L),W=ss.get(L);On.set(L,Object.assign(Object.assign({},H),W))});const Qr=[],dl=[],hl={};o.forEach(L=>{const{element:H,player:W,instruction:Ce}=L;if(r.has(H)){if(c.has(H))return W.onDestroy(()=>bi(H,Ce.toStyles)),W.disabled=!0,W.overrideTotalTime(Ce.totalTime),void i.push(W);let qt=hl;if(Pn.size>1){let fr=H;const qs=[];for(;fr=fr.parentNode;){const Je=Pn.get(fr);if(Je){qt=Je;break}qs.push(fr)}qs.forEach(Je=>Pn.set(Je,qt))}const Ci=this._buildAnimation(W.namespaceId,Ce,Ne,s,ss,On);if(W.setRealPlayer(Ci),qt===hl)Qr.push(W);else{const fr=this.playersByElement.get(qt);fr&&fr.length&&(W.parentPlayer=$s(fr)),i.push(W)}}else zo(H,Ce.fromStyles),W.onDestroy(()=>bi(H,Ce.toStyles)),dl.push(W),c.has(H)&&i.push(W)}),dl.forEach(L=>{const H=s.get(L.element);if(H&&H.length){const W=$s(H);L.setRealPlayer(W)}}),i.forEach(L=>{L.parentPlayer?L.syncPlayerEvents(L.parentPlayer):L.destroy()});for(let L=0;L<v.length;L++){const H=v[L],W=H[Sr];if(ll(H,Gg),W&&W.hasAnimation)continue;let Ce=[];if(a.size){let Ci=a.get(H);Ci&&Ci.length&&Ce.push(...Ci);let fr=this.driver.query(H,I0,!0);for(let qs=0;qs<fr.length;qs++){let Je=a.get(fr[qs]);Je&&Je.length&&Ce.push(...Je)}}const qt=Ce.filter(Ci=>!Ci.destroyed);qt.length?Sle(this,H,qt):this.processLeaveNode(H)}return v.length=0,Qr.forEach(L=>{this.players.push(L),L.onDone(()=>{L.destroy();const H=this.players.indexOf(L);this.players.splice(H,1)}),L.play()}),Qr}elementContainsData(e,t){let r=!1;const i=t[Sr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Hd;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const l=u.element,c=l!==s,d=dr(r,l,[]);this._getPreviousPlayers(l,c,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}zo(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,l=[],c=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;c.add(g);const v=g[Sr];if(v&&v.removedBeforeQueried)return new al(p.duration,p.delay);const E=g!==u,w=function Ale(n){const e=[];return vj(n,e),e}((r.get(g)||wle).map(Ne=>Ne.getRealPlayer())).filter(Ne=>!!Ne.element&&Ne.element===g),A=s.get(g),k=o.get(g),z=WB(0,this._normalizer,0,p.keyframes,A,k),Se=this._buildPlayer(p,z,w);if(p.subTimeline&&i&&d.add(g),E){const Ne=new B0(e,a,g);Ne.setRealPlayer(Se),l.push(Ne)}return Se});l.forEach(p=>{dr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Tle(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>Ar(p,ej));const f=$s(h);return f.onDestroy(()=>{c.forEach(p=>ll(p,ej)),bi(u,t.toStyles)}),d.forEach(p=>{dr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new al(e.duration,e.delay)}}class B0{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new al,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>m0(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){dr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function im(n){return n&&1===n.nodeType}function mj(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function yj(n,e,t,r,i){const s=[];t.forEach(u=>s.push(mj(u)));const o=[];r.forEach((u,l)=>{const c={};u.forEach(d=>{const h=c[d]=e.computeStyle(l,d,i);(!h||0==h.length)&&(l[Sr]=Ele,o.push(l))}),n.set(l,c)});let a=0;return t.forEach(u=>mj(u,s[a++])),o}function _j(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=t.has(l)?l:i.has(l)?1:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&t.get(u).push(a)}),t}function Ar(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function ll(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Sle(n,e,t){$s(t).onDone(()=>n.processLeaveNode(e))}function vj(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof GB?vj(r.players,e):e.push(r)}}function wj(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class sm{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Cle(e,t,r),this._timelineEngine=new gle(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],l=x0(this._driver,s,u);if(u.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${u.join("\n - ")}`);a=function dle(n,e,t){return new hle(n,e,t)}(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=KB(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=KB(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ej(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=j0(e[0]),e.length>1&&(r=j0(e[e.length-1]))):e&&(t=j0(e)),t||r?new xle(n,t,r):null}let xle=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&bi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bi(this._element,this._initialStyles),this._endStyles&&(bi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(zo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zo(this._element,this._endStyles),this._endStyles=null),bi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function j0(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];Nle(i)&&(e=e||{},e[i]=n[i])}return e}function Nle(n){return"display"===n||"position"===n}const bj="animation",Cj="animationend";class Ple{constructor(e,t,r,i,s,o,a){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=u=>this._handleCallback(u)}apply(){(function Ole(n,e){const t=H0(n,"").trim();let r=0;t.length&&(r=function Lle(n,e){let t=0;for(let r=0;r<n.length;r++)n.charAt(r)===e&&t++;return t}(t,",")+1,e=`${t}, ${e}`),om(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Dj(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Tj(this._element,this._name,"paused")}resume(){Tj(this._element,this._name,"running")}setPosition(e){const t=Ij(this._element,this._name);this._position=e*this._duration,om(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Dj(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function Fle(n,e){const r=H0(n,"").split(","),i=$0(r,e);i>=0&&(r.splice(i,1),om(n,"",r.join(",")))}(this._element,this._name))}}function Tj(n,e,t){om(n,"PlayState",t,Ij(n,e))}function Ij(n,e){const t=H0(n,"");return t.indexOf(",")>0?$0(t.split(","),e):$0([t],e)}function $0(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function Dj(n,e,t){t?n.removeEventListener(Cj,e):n.addEventListener(Cj,e)}function om(n,e,t,r){const i=bj+e;if(null!=r){const s=n.style[i];if(s.length){const o=s.split(",");o[r]=t,t=o.join(",")}}n.style[i]=t}function H0(n,e){return n.style[bj+e]||""}class Sj{constructor(e,t,r,i,s,o,a,u){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=s,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Ple(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:M0(this.element,r))})}this.currentSnapshot=e}}class Ble extends al{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=JB(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Mj{constructor(){this._count=0}validateStyleProperty(e){return w0(e)}matchesElement(e,t){return!1}containsElement(e,t){return E0(e,t)}query(e,t,r){return b0(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(a=>JB(a));let i=`@keyframes ${t} {\n`,s="";r.forEach(a=>{s=" ";const u=parseFloat(a.offset);i+=`${s}${100*u}% {\n`,s+=" ",Object.keys(a).forEach(l=>{const c=a[l];switch(l){case"offset":return;case"easing":return void(c&&(i+=`${s}animation-timing-function: ${c};\n`));default:return void(i+=`${s}${l}: ${c};\n`)}}),i+=`${s}}\n`}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(e,t,r,i,s,o=[],a){const u=o.filter(v=>v instanceof Sj),l={};sj(r,i)&&u.forEach(v=>{let E=v.currentSnapshot;Object.keys(E).forEach(w=>l[w]=E[w])});const c=function Hle(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=oj(e,t,l));if(0==r)return new Ble(e,c);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,d,t);(function $le(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(h);const p=Ej(e,t),g=new Sj(e,t,d,r,i,s,c,p);return g.onDestroy(()=>function qle(n){n.parentNode.removeChild(n)}(h)),g}}class Nj{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:M0(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Gle{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(kj().toString()),this._cssKeyframesDriver=new Mj}validateStyleProperty(e){return w0(e)}matchesElement(e,t){return!1}containsElement(e,t){return E0(e,t)}query(e,t,r){return b0(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,s,o);const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const d={},h=o.filter(p=>p instanceof Nj);sj(r,i)&&h.forEach(p=>{let g=p.currentSnapshot;Object.keys(g).forEach(v=>d[v]=g[v])});const f=Ej(e,t=oj(e,t=t.map(p=>Hs(p,!1)),d));return new Nj(e,t,c,f)}}function kj(){return zB()&&Element.prototype.animate||{}}let Wle=(()=>{class n extends jB{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:xr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?$B(t):t;return Rj(this._renderer,null,r,"register",[i]),new Kle(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(F(Zl),F(Dn))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();class Kle extends class Rue{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Qle(this._id,e,t||{},this._renderer)}}class Qle{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Rj(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Rj(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Pj="@.disabled";let Yle=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new Oj("",s,this.engine),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=c=>{Array.isArray(c)?c.forEach(u):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(u),new Jle(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(F(Zl),F(sm),F(He))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();class Oj{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Pj?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Jle extends Oj{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Pj?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Xle(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Zle(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let ece=(()=>{class n extends sm{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(F(Dn),F(C0),F(O0))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const Fj=new X("AnimationModuleType"),Lj=[{provide:jB,useClass:Wle},{provide:O0,useFactory:function nce(){return new ole}},{provide:sm,useClass:ece},{provide:Zl,useFactory:function rce(n,e,t){return new Yle(n,e,t)},deps:[_f,sm,He]}],Vj=[{provide:C0,useFactory:function tce(){return function zle(){return"function"==typeof kj()}()?new Gle:new Mj}},{provide:Fj,useValue:"BrowserAnimations"},...Lj],ice=[{provide:C0,useClass:XB},{provide:Fj,useValue:"NoopAnimations"},...Lj];let sce=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?ice:Vj}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({providers:Vj,imports:[Mk]}),n})(),oce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n,bootstrap:[kue]}),n.\u0275inj=zt({providers:[],imports:[[Mk,Nue,Q5,ZK,TZ(()=>IZ(BB_firebase)),nre(()=>sre()),Fae(()=>jae()),sce]]}),n})();(function o8(){VN=!1})(),C5().bootstrapModule(oce).catch(n=>console.error(n))},940:function(qd,Gd){!function(zs){"use strict";function ke(U){return Array.prototype.slice.call(U)}function Yo(U){return new Promise(function(ue,Te){U.onsuccess=function(){ue(U.result)},U.onerror=function(){Te(U.error)}})}function os(U,ue,Te){var De,he=new Promise(function(vn,as){Yo(De=U[ue].apply(U,Te)).then(vn,as)});return he.request=De,he}function Jo(U,ue,Te){var De=os(U,ue,Te);return De.then(function(he){if(he)return new Yr(he,De.request)})}function ct(U,ue,Te){Te.forEach(function(De){Object.defineProperty(U.prototype,De,{get:function(){return this[ue][De]},set:function(he){this[ue][De]=he}})})}function Xo(U,ue,Te,De){De.forEach(function(he){he in Te.prototype&&(U.prototype[he]=function(){return os(this[ue],he,arguments)})})}function Ws(U,ue,Te,De){De.forEach(function(he){he in Te.prototype&&(U.prototype[he]=function(){return this[ue][he].apply(this[ue],arguments)})})}function fl(U,ue,Te,De){De.forEach(function(he){he in Te.prototype&&(U.prototype[he]=function(){return Jo(this[ue],he,arguments)})})}function _n(U){this._index=U}function Yr(U,ue){this._cursor=U,this._request=ue}function Qn(U){this._store=U}function Jr(U){this._tx=U,this.complete=new Promise(function(ue,Te){U.oncomplete=function(){ue()},U.onerror=function(){Te(U.error)},U.onabort=function(){Te(U.error)}})}function Zo(U,ue,Te){this._db=U,this.oldVersion=ue,this.transaction=new Jr(Te)}function ea(U){this._db=U}ct(_n,"_index",["name","keyPath","multiEntry","unique"]),Xo(_n,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),fl(_n,"_index",IDBIndex,["openCursor","openKeyCursor"]),ct(Yr,"_cursor",["direction","key","primaryKey","value"]),Xo(Yr,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(U){U in IDBCursor.prototype&&(Yr.prototype[U]=function(){var ue=this,Te=arguments;return Promise.resolve().then(function(){return ue._cursor[U].apply(ue._cursor,Te),Yo(ue._request).then(function(De){if(De)return new Yr(De,ue._request)})})})}),Qn.prototype.createIndex=function(){return new _n(this._store.createIndex.apply(this._store,arguments))},Qn.prototype.index=function(){return new _n(this._store.index.apply(this._store,arguments))},ct(Qn,"_store",["name","keyPath","indexNames","autoIncrement"]),Xo(Qn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),fl(Qn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Ws(Qn,"_store",IDBObjectStore,["deleteIndex"]),Jr.prototype.objectStore=function(){return new Qn(this._tx.objectStore.apply(this._tx,arguments))},ct(Jr,"_tx",["objectStoreNames","mode"]),Ws(Jr,"_tx",IDBTransaction,["abort"]),Zo.prototype.createObjectStore=function(){return new Qn(this._db.createObjectStore.apply(this._db,arguments))},ct(Zo,"_db",["name","version","objectStoreNames"]),Ws(Zo,"_db",IDBDatabase,["deleteObjectStore","close"]),ea.prototype.transaction=function(){return new Jr(this._db.transaction.apply(this._db,arguments))},ct(ea,"_db",["name","version","objectStoreNames"]),Ws(ea,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(U){[Qn,_n].forEach(function(ue){U in ue.prototype&&(ue.prototype[U.replace("open","iterate")]=function(){var Te=ke(arguments),De=Te[Te.length-1],he=this._store||this._index,vn=he[U].apply(he,Te.slice(0,-1));vn.onsuccess=function(){De(vn.result)}})})}),[_n,Qn].forEach(function(U){U.prototype.getAll||(U.prototype.getAll=function(ue,Te){var De=this,he=[];return new Promise(function(vn){De.iterateCursor(ue,function(as){as?(he.push(as.value),void 0===Te||he.length!=Te?as.continue():vn(he)):vn(he)})})})}),zs.openDb=function um(U,ue,Te){var De=os(indexedDB,"open",[U,ue]),he=De.request;return he&&(he.onupgradeneeded=function(vn){Te&&Te(new Zo(he.result,vn.oldVersion,he.transaction))}),De.then(function(vn){return new ea(vn)})},zs.deleteDb=function pl(U){return os(indexedDB,"deleteDatabase",[U])},Object.defineProperty(zs,"__esModule",{value:!0})}(Gd)}},qd=>{qd(qd.s=222)}]);